var Jp=Object.create;var ds=Object.defineProperty,eg=Object.defineProperties,tg=Object.getOwnPropertyDescriptor,ng=Object.getOwnPropertyDescriptors,rg=Object.getOwnPropertyNames,Gc=Object.getOwnPropertySymbols,ig=Object.getPrototypeOf,qc=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable;var zc=(t,e,n)=>e in t?ds(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||={})qc.call(e,n)&&zc(t,n,e[n]);if(Gc)for(var n of Gc(e))og.call(e,n)&&zc(t,n,e[n]);return t},P=(t,e)=>eg(t,ng(e));var sg=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ag=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rg(e))!qc.call(t,i)&&i!==n&&ds(t,i,{get:()=>e[i],enumerable:!(r=tg(e,i))||r.enumerable});return t};var ug=(t,e,n)=>(n=t!=null?Jp(ig(t)):{},ag(e||!t||!t.__esModule?ds(n,"default",{value:t,enumerable:!0}):n,t));var U=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var mp=sg((Ac,xc)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Ac<"u"?e():(e(),t.FileSaver={})})(Ac,function(){"use strict";function t(a,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,u,c){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){s(l.response,u,c)},l.onerror=function(){console.error("could not download file")},l.send()}function n(a){var u=new XMLHttpRequest;u.open("HEAD",a,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(u)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,u,c){var l=i.URL||i.webkitURL,d=document.createElement("a");u=u||a.name||"download",d.download=u,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):n(d.href)?e(a,u,c):r(d,d.target="_blank")):(d.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,u,c){if(u=u||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,c),u);else if(n(a))e(a,u,c);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){r(l)})}}:function(a,u,c,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return e(a,u,c);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&f||o)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var S=p.result;S=h?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=S:location=S,l=null},p.readAsDataURL(a)}else{var y=i.URL||i.webkitURL,V=y.createObjectURL(a);l?l.location=V:location.href=V,l=null,setTimeout(function(){y.revokeObjectURL(V)},4e4)}});i.saveAs=s.saveAs=s,typeof xc<"u"&&(xc.exports=s)})});var Zc=null;var fs=1,hs=Symbol("SIGNAL");function te(t){let e=Zc;return Zc=t,e}var Yc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cg(t){if(!(ms(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fs)){if(!t.producerMustRecompute(t)&&!ps(t)){t.dirty=!1,t.lastCleanEpoch=fs;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fs}}function Qc(t){return t&&(t.nextProducerIndex=0),te(t)}function Kc(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ms(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ps(t){si(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cg(n),r!==n.version))return!0}return!1}function Xc(t){if(si(t),ms(t))for(let e=0;e<t.producerNode.length;e++)gs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gs(t,e){if(lg(t),si(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)gs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];si(i),i.producerIndexOfThis[r]=e}}function ms(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function si(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function lg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function dg(){throw new Error}var fg=dg;function Jc(t){fg=t}function I(t){return typeof t=="function"}function Xt(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ai=Xt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(I(r))try{r()}catch(o){e=o instanceof ai?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{el(o)}catch(s){e=e??[],s instanceof ai?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ai(e)}}add(e){var n;if(e&&e!==this)if(this.closed)el(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xn(n,e)}remove(e){let{_finalizers:n}=this;n&&Xn(n,e),e instanceof t&&e._removeParent(this)}};Q.EMPTY=(()=>{let t=new Q;return t.closed=!0,t})();var vs=Q.EMPTY;function ui(t){return t instanceof Q||t&&"closed"in t&&I(t.remove)&&I(t.add)&&I(t.unsubscribe)}function el(t){I(t)?t():t.unsubscribe()}var ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jt={setTimeout(t,e,...n){let{delegate:r}=Jt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Jt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ci(t){Jt.setTimeout(()=>{let{onUnhandledError:e}=ke;if(e)e(t);else throw t})}function Jn(){}var tl=ys("C",void 0,void 0);function nl(t){return ys("E",void 0,t)}function rl(t){return ys("N",t,void 0)}function ys(t,e,n){return{kind:t,value:e,error:n}}var St=null;function en(t){if(ke.useDeprecatedSynchronousErrorHandling){let e=!St;if(e&&(St={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=St;if(St=null,n)throw r}}else t()}function il(t){ke.useDeprecatedSynchronousErrorHandling&&St&&(St.errorThrown=!0,St.error=t)}var Tt=class extends Q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ui(e)&&e.add(this)):this.destination=gg}static create(e,n,r){return new tn(e,n,r)}next(e){this.isStopped?ws(rl(e),this):this._next(e)}error(e){this.isStopped?ws(nl(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ws(tl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hg=Function.prototype.bind;function Ds(t,e){return hg.call(t,e)}var Cs=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){li(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){li(r)}else li(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){li(n)}}},tn=class extends Tt{constructor(e,n,r){super();let i;if(I(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ke.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ds(e.next,o),error:e.error&&Ds(e.error,o),complete:e.complete&&Ds(e.complete,o)}):i=e}this.destination=new Cs(i)}};function li(t){ke.useDeprecatedSynchronousErrorHandling?il(t):ci(t)}function pg(t){throw t}function ws(t,e){let{onStoppedNotification:n}=ke;n&&Jt.setTimeout(()=>n(t,e))}var gg={closed:!0,next:Jn,error:pg,complete:Jn};var nn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ge(t){return t}function bs(...t){return Es(t)}function Es(t){return t.length===0?ge:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var L=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=vg(n)?n:new tn(n,r,i);return en(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ol(r),new r((i,o)=>{let s=new tn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[nn](){return this}pipe(...n){return Es(n)(this)}toPromise(n){return n=ol(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ol(t){var e;return(e=t??ke.Promise)!==null&&e!==void 0?e:Promise}function mg(t){return t&&I(t.next)&&I(t.error)&&I(t.complete)}function vg(t){return t&&t instanceof Tt||mg(t)&&ui(t)}function Is(t){return I(t?.lift)}function F(t){return e=>{if(Is(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new _s(t,e,n,r,i)}var _s=class extends Tt{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rn(){return F((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var on=class extends L{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Is(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Q;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Q.EMPTY)}return e}refCount(){return rn()(this)}};var sl=Xt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class t extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new di(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sl}next(n){en(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){en(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){en(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vs:(this.currentObservers=null,o.push(n),new Q(()=>{this.currentObservers=null,Xn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return t.create=(e,n)=>new di(e,n),t})(),di=class extends me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:vs}};var G=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var be=new L(t=>t.complete());function al(t){return t&&I(t.schedule)}function ul(t){return t[t.length-1]}function fi(t){return I(ul(t))?t.pop():void 0}function ht(t){return al(ul(t))?t.pop():void 0}function ll(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function cl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(t){return this instanceof At?(this.v=t,this):new At(t)}function dl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,y){o.push([f,h,p,y])>1||a(f,h)})})}function a(f,h){try{u(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){f.value instanceof At?Promise.resolve(f.value.v).then(c,l):d(o[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function fl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cl=="function"?cl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var hi=t=>t&&typeof t.length=="number"&&typeof t!="function";function pi(t){return I(t?.then)}function gi(t){return I(t[nn])}function mi(t){return Symbol.asyncIterator&&I(t?.[Symbol.asyncIterator])}function vi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yi=yg();function Di(t){return I(t?.[yi])}function wi(t){return dl(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield At(n.read());if(i)return yield At(void 0);yield yield At(r)}}finally{n.releaseLock()}})}function Ci(t){return I(t?.getReader)}function q(t){if(t instanceof L)return t;if(t!=null){if(gi(t))return Dg(t);if(hi(t))return wg(t);if(pi(t))return Cg(t);if(mi(t))return hl(t);if(Di(t))return bg(t);if(Ci(t))return Eg(t)}throw vi(t)}function Dg(t){return new L(e=>{let n=t[nn]();if(I(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wg(t){return new L(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Cg(t){return new L(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ci)})}function bg(t){return new L(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hl(t){return new L(e=>{Ig(t,e).catch(n=>e.error(n))})}function Eg(t){return hl(wi(t))}function Ig(t,e){var n,r,i,o;return ll(this,void 0,void 0,function*(){try{for(n=fl(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function fe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function bi(t,e=0){return F((n,r)=>{n.subscribe(O(r,i=>fe(r,t,()=>r.next(i),e),()=>fe(r,t,()=>r.complete(),e),i=>fe(r,t,()=>r.error(i),e)))})}function Ei(t,e=0){return F((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pl(t,e){return q(t).pipe(Ei(e),bi(e))}function gl(t,e){return q(t).pipe(Ei(e),bi(e))}function ml(t,e){return new L(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vl(t,e){return new L(n=>{let r;return fe(n,e,()=>{r=t[yi](),fe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}function Ii(t,e){if(!t)throw new Error("Iterable cannot be null");return new L(n=>{fe(n,e,()=>{let r=t[Symbol.asyncIterator]();fe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yl(t,e){return Ii(wi(t),e)}function Dl(t,e){if(t!=null){if(gi(t))return pl(t,e);if(hi(t))return ml(t,e);if(pi(t))return gl(t,e);if(mi(t))return Ii(t,e);if(Di(t))return vl(t,e);if(Ci(t))return yl(t,e)}throw vi(t)}function z(t,e){return e?Dl(t,e):q(t)}function M(...t){let e=ht(t);return z(t,e)}function sn(t,e){let n=I(t)?t:()=>t,r=i=>i.error(n());return new L(e?i=>e.schedule(r,0,i):r)}function Ms(t){return!!t&&(t instanceof L||I(t.lift)&&I(t.subscribe))}var it=Xt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function R(t,e){return F((n,r)=>{let i=0;n.subscribe(O(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:_g}=Array;function Mg(t,e){return _g(e)?t(...e):t(e)}function _i(t){return R(e=>Mg(t,e))}var{isArray:Sg}=Array,{getPrototypeOf:Tg,prototype:Ag,keys:xg}=Object;function Mi(t){if(t.length===1){let e=t[0];if(Sg(e))return{args:e,keys:null};if(Ng(e)){let n=xg(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ng(t){return t&&typeof t=="object"&&Tg(t)===Ag}function Si(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ti(...t){let e=ht(t),n=fi(t),{args:r,keys:i}=Mi(t);if(r.length===0)return z([],e);let o=new L(Og(r,e,i?s=>Si(i,s):ge));return n?o.pipe(_i(n)):o}function Og(t,e,n=ge){return r=>{wl(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)wl(e,()=>{let c=z(t[u],e),l=!1;c.subscribe(O(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wl(t,e,n){t?fe(n,t,e):e()}function Cl(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,f=()=>{d&&!u.length&&!c&&e.complete()},h=y=>c<r?p(y):u.push(y),p=y=>{o&&e.next(y),c++;let V=!1;q(n(y,l++)).subscribe(O(e,S=>{i?.(S),o?h(S):e.next(S)},()=>{V=!0},void 0,()=>{if(V)try{for(c--;u.length&&c<r;){let S=u.shift();s?fe(e,s,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(O(e,h,()=>{d=!0,f()})),()=>{a?.()}}function K(t,e,n=1/0){return I(e)?K((r,i)=>R((o,s)=>e(r,o,i,s))(q(t(r,i))),n):(typeof e=="number"&&(n=e),F((r,i)=>Cl(r,i,t,n)))}function Ss(t=1/0){return K(ge,t)}function bl(){return Ss(1)}function an(...t){return bl()(z(t,ht(t)))}function Ai(t){return new L(e=>{q(t()).subscribe(e)})}function Ts(...t){let e=fi(t),{args:n,keys:r}=Mi(t),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;q(n[l]).subscribe(O(o,f=>{d||(d=!0,c--),a[l]=f},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?Si(r,a):a),o.complete())}))}});return e?i.pipe(_i(e)):i}function Ve(t,e){return F((n,r)=>{let i=0;n.subscribe(O(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pt(t){return F((e,n)=>{let r=null,i=!1,o;r=e.subscribe(O(n,void 0,void 0,s=>{o=q(t(s,pt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function El(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(O(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function un(t,e){return I(e)?K(t,e,1):K(t,1)}function gt(t){return F((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ot(t){return t<=0?()=>be:F((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function As(t){return R(()=>t)}function xi(t=Rg){return F((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rg(){return new it}function er(t){return F((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qe(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,o)=>t(i,o,r)):ge,ot(1),n?gt(e):xi(()=>new it))}function cn(t){return t<=0?()=>be:F((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xs(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,o)=>t(i,o,r)):ge,cn(1),n?gt(e):xi(()=>new it))}function Ns(t,e){return F(El(t,e,arguments.length>=2,!0))}function Os(...t){let e=ht(t);return F((n,r)=>{(e?an(t,n,e):an(t,n)).subscribe(r)})}function Le(t,e){return F((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(O(r,u=>{i?.unsubscribe();let c=0,l=o++;q(t(u,l)).subscribe(i=O(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rs(t){return F((e,n)=>{q(t).subscribe(O(n,()=>n.complete(),Jn)),!n.closed&&e.subscribe(n)})}function ee(t,e,n){let r=I(t)||e||n?{next:t,error:e,complete:n}:t;return r?F((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(O(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ge}var od="https://g.co/ng/security#xss",D=class extends Error{constructor(e,n){super(Ha(e,n)),this.code=e}};function Ha(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Ks=class extends me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Ps(o),i&&(i=Ps(i)),s&&(s=Ps(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Q&&e.add(a),a}};function Ps(t){return e=>{setTimeout(t,void 0,e)}}var ne=Ks;var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(x||{});function he(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Il(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sd||{}),Qe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qe||{});function ro(t){return{toString:t}.toString()}var tr=globalThis;var pn={},Ie=[];function H(t){for(let e in t)if(t[e]===H)return e;throw Error("Could not find renamed property on target object.")}function Pg(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Fg=H({\u0275cmp:H}),kg=H({\u0275dir:H}),Vg=H({\u0275pipe:H}),Lg=H({\u0275mod:H}),$i=H({\u0275fac:H}),nr=H({__NG_ELEMENT_ID__:H}),_l=H({__NG_ENV_ID__:H}),ve=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ve||{});function ad(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Xs(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];jg(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function $g(t){return t===3||t===4||t===6}function jg(t){return t.charCodeAt(0)===64}function or(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ml(t,n,i,null,e[++r]):Ml(t,n,i,null,null))}}return t}function Ml(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var ud="ng-template";function Ug(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&ad(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function cd(t){return t.type===4&&t.value!==ud}function Bg(t,e,n){let r=t.type===4&&!n?ud:t.value;return e===r}function Hg(t,e,n){let r=4,i=t.attrs||[],o=zg(i),s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!$e(r)&&!$e(u))return!1;if(s&&$e(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Bg(t,u,n)||u===""&&e.length===1){if($e(r))return!1;s=!0}}else{let c=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!Ug(t.attrs,c,n)){if($e(r))return!1;s=!0}continue}let l=r&8?"class":u,d=Wg(l,i,cd(t),n);if(d===-1){if($e(r))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&ad(h,c,0)!==-1||r&2&&c!==f){if($e(r))return!1;s=!0}}}}return $e(r)||s}function $e(t){return(t&1)===0}function Wg(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qg(e,t)}function Gg(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hg(t,e[r],n))return!0;return!1}function zg(t){for(let e=0;e<t.length;e++){let n=t[e];if($g(n))return e}return t.length}function qg(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Sl(t,e){return t?":not("+e.trim()+")":e}function Zg(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$e(s)&&(e+=Sl(o,i),i=""),r=s,o=o||!$e(r);n++}return i!==""&&(e+=Sl(o,i)),e}function Yg(t){return t.map(Zg).join(",")}function Qg(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!$e(i))break;i=o}r++}return{attrs:e,classes:n}}function Se(t){return ro(()=>{let e=pd(t),n=P(g({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qe.Emulated,styles:t.styles||Ie,_:null,schemas:t.schemas||null,tView:null,id:""});gd(n);let r=t.dependencies;return n.directiveDefs=Al(r,!1),n.pipeDefs=Al(r,!0),n.id=Jg(n),n})}function Kg(t){return Ot(t)||ld(t)}function Xg(t){return t!==null}function Cn(t){return ro(()=>({type:t.type,bootstrap:t.bootstrap||Ie,declarations:t.declarations||Ie,imports:t.imports||Ie,exports:t.exports||Ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tl(t,e){if(t==null)return pn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ve.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ve.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Te(t){return ro(()=>{let e=pd(t);return gd(e),e})}function Ot(t){return t[Fg]||null}function ld(t){return t[kg]||null}function dd(t){return t[Vg]||null}function fd(t){let e=Ot(t)||ld(t)||dd(t);return e!==null?e.standalone:!1}function hd(t,e){let n=t[Lg]||null;if(!n&&e===!0)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return n}function pd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ie,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tl(t.inputs,e),outputs:Tl(t.outputs),debugInfo:null}}function gd(t){t.features?.forEach(e=>e(t))}function Al(t,e){if(!t)return null;let n=e?dd:Kg;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Xg)}function Jg(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var lt=0,_=1,w=2,re=3,je=4,Be=5,sr=6,ar=7,ae=8,gn=9,st=10,X=11,ur=12,xl=13,bn=14,Ue=15,Cr=16,ln=17,at=18,io=19,md=20,rr=21,Fs=22,Rt=23,_e=25,vd=1;var Pt=7,ji=8,mn=9,ue=10,Wa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wa||{});function xt(t){return Array.isArray(t)&&typeof t[vd]=="object"}function dt(t){return Array.isArray(t)&&t[vd]===!0}function yd(t){return(t.flags&4)!==0}function oo(t){return t.componentOffset>-1}function Ga(t){return(t.flags&1)===1}function vt(t){return!!t.template}function em(t){return(t[w]&512)!==0}var tm="svg",nm="math",rm=!1;function im(){return rm}function Ke(t){for(;Array.isArray(t);)t=t[lt];return t}function Dd(t,e){return Ke(e[t])}function He(t,e){return Ke(e[t.index])}function za(t,e){return t.data[e]}function om(t,e){return t[e]}function Dt(t,e){let n=e[t];return xt(n)?n:n[lt]}function sm(t){return(t[w]&4)===4}function qa(t){return(t[w]&128)===128}function am(t){return dt(t[re])}function Ui(t,e){return e==null?null:t[e]}function wd(t){t[ln]=0}function um(t){t[w]&1024||(t[w]|=1024,qa(t)&&cr(t))}function cm(t,e){for(;t>0;)e=e[bn],t--;return e}function Za(t){return!!(t[w]&9216||t[Rt]?.dirty)}function Js(t){Za(t)?cr(t):t[w]&64&&(im()?(t[w]|=1024,cr(t)):t[st].changeDetectionScheduler?.notify())}function cr(t){t[st].changeDetectionScheduler?.notify();let e=lr(t);for(;e!==null&&!(e[w]&8192||(e[w]|=8192,!qa(e)));)e=lr(e)}function lm(t,e){if((t[w]&256)===256)throw new D(911,!1);t[rr]===null&&(t[rr]=[]),t[rr].push(e)}function lr(t){let e=t[re];return dt(e)?e[re]:e}var N={lFrame:Sd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dm(){return N.lFrame.elementDepthCount}function fm(){N.lFrame.elementDepthCount++}function hm(){N.lFrame.elementDepthCount--}function Cd(){return N.bindingsEnabled}function pm(){return N.skipHydrationRootTNode!==null}function gm(t){return N.skipHydrationRootTNode===t}function mm(){N.skipHydrationRootTNode=null}function $(){return N.lFrame.lView}function de(){return N.lFrame.tView}function ie(t){return N.lFrame.contextLView=t,t[ae]}function oe(t){return N.lFrame.contextLView=null,t}function ye(){let t=bd();for(;t!==null&&t.type===64;)t=t.parent;return t}function bd(){return N.lFrame.currentTNode}function vm(){let t=N.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function br(t,e){let n=N.lFrame;n.currentTNode=t,n.isParent=e}function Ed(){return N.lFrame.isParent}function ym(){N.lFrame.isParent=!1}function Dm(){return N.lFrame.contextLView}function wm(t){return N.lFrame.bindingIndex=t}function Er(){return N.lFrame.bindingIndex++}function Cm(t){let e=N.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bm(){return N.lFrame.inI18n}function Em(t,e){let n=N.lFrame;n.bindingIndex=n.bindingRootIndex=t,ea(e)}function Im(){return N.lFrame.currentDirectiveIndex}function ea(t){N.lFrame.currentDirectiveIndex=t}function _m(t){let e=N.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Id(){return N.lFrame.currentQueryIndex}function Ya(t){N.lFrame.currentQueryIndex=t}function Mm(t){let e=t[_];return e.type===2?e.declTNode:e.type===1?t[Be]:null}function _d(t,e,n){if(n&x.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&x.Host);)if(i=Mm(o),i===null||(o=o[bn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=N.lFrame=Md();return r.currentTNode=e,r.lView=t,!0}function Qa(t){let e=Md(),n=t[_];N.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Md(){let t=N.lFrame,e=t===null?null:t.child;return e===null?Sd(t):e}function Sd(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Td(){let t=N.lFrame;return N.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ad=Td;function Ka(){let t=Td();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sm(t){return(N.lFrame.contextLView=cm(t,N.lFrame.contextLView))[ae]}function Ut(){return N.lFrame.selectedIndex}function Ft(t){N.lFrame.selectedIndex=t}function Xa(){let t=N.lFrame;return za(t.tView,t.selectedIndex)}function Tm(){return N.lFrame.currentNamespace}var xd=!0;function Ja(){return xd}function eu(t){xd=t}function Am(){return En(ye(),$())}function En(t,e){return new Xe(He(t,e))}var Xe=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Am;let t=e;return t})();function xm(t){return t instanceof Xe?t.nativeElement:t}function Nm(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Om(t){return t.flat(Number.POSITIVE_INFINITY)}function tu(t,e){t.forEach(n=>Array.isArray(n)?tu(n,e):e(n))}function Nd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rm(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Pm(t,e,n){let r=Ir(t,e);return r>=0?t[r|1]=n:(r=~r,Rm(t,r,e,n)),r}function ks(t,e){let n=Ir(t,e);if(n>=0)return t[n|1]}function Ir(t,e){return Fm(t,e,1)}function Fm(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function km(){return this._results[Symbol.iterator]()}var ta=class t{get changes(){return this._changes??=new ne}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=km)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Om(e);(this._changesDetected=!Nm(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Od(t){return(t.flags&128)===128}var na;function Rd(t){na=t}function Vm(){if(na!==void 0)return na;if(typeof document<"u")return document;throw new D(210,!1)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function In(t){return{providers:t.providers||[],imports:t.imports||[]}}function so(t){return Nl(t,Fd)||Nl(t,kd)}function Pd(t){return so(t)!==null}function Nl(t,e){return t.hasOwnProperty(e)?t[e]:null}function Lm(t){let e=t&&(t[Fd]||t[kd]);return e||null}function Ol(t){return t&&(t.hasOwnProperty(Rl)||t.hasOwnProperty($m))?t[Rl]:null}var Fd=H({\u0275prov:H}),Rl=H({\u0275inj:H}),kd=H({ngInjectableDef:H}),$m=H({ngInjectorDef:H}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},nu=new A("",{providedIn:"root",factory:()=>jm}),jm="ng",ru=new A(""),_n=new A("",{providedIn:"platform",factory:()=>"unknown"});var iu=new A("",{providedIn:"root",factory:()=>Vm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Um=H({__forward_ref__:H});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return he(this())},t}function ce(t){return Vd(t)?t():t}function Vd(t){return typeof t=="function"&&t.hasOwnProperty(Um)&&t.__forward_ref__===Mn}function Ld(t){return t&&!!t.\u0275providers}function ou(t){return typeof t=="string"?t:t==null?"":String(t)}function Bm(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ou(t)}function Hm(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,t)}function su(t,e){throw new D(-201,!1)}var ra;function Wm(){return ra}function Ee(t){let e=ra;return ra=t,e}function $d(t,e,n){let r=so(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&x.Optional)return null;if(e!==void 0)return e;su(t,"Injector")}var Gm={},dr=Gm,zm="__NG_DI_FLAG__",Hi="ngTempTokenPath",qm="ngTokenPath",Zm=/\n/gm,Ym="\u0275",Pl="__source",ir;function mt(t){let e=ir;return ir=t,e}function Qm(t,e=x.Default){if(ir===void 0)throw new D(-203,!1);return ir===null?$d(t,void 0,e):ir.get(t,e&x.Optional?null:void 0,e)}function k(t,e=x.Default){return(Wm()||Qm)(ce(t),e)}function m(t,e=x.Default){return k(t,ao(e))}function ao(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ia(t){let e=[];for(let n=0;n<t.length;n++){let r=ce(t[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Km(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(k(i,o))}else e.push(k(r))}return e}function Km(t){return t[zm]}function Xm(t,e,n,r){let i=t[Hi];throw e[Pl]&&i.unshift(e[Pl]),t.message=Jm(`
`+t.message,i,n,r),t[qm]=i,t[Hi]=null,t}function Jm(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ym?t.slice(2):t;let i=he(e);if(Array.isArray(e))i=e.map(he).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):he(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zm,`
  `)}`}var ev="h",tv="b";var nv=()=>null;function au(t,e,n=!1){return nv(t,e,n)}function vn(t,e){let n=t.hasOwnProperty($i);return n?t[$i]:null}var yn=new A(""),jd=new A("",-1),Ud=new A(""),Wi=class{get(e,n=dr){if(n===dr){let r=new Error(`NullInjectorError: No provider for ${he(e)}!`);throw r.name="NullInjectorError",r}return n}};function uo(t){return{\u0275providers:t}}function rv(...t){return{\u0275providers:Bd(!0,t),\u0275fromNgModule:!0}}function Bd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tu(e,s=>{let a=s;oa(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Hd(i,o),n}function Hd(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];uu(i,o=>{e(o,r)})}}function oa(t,e,n,r){if(t=ce(t),!t)return!1;let i=null,o=Ol(t),s=!o&&Ot(t);if(!o&&!s){let u=t.ngModule;if(o=Ol(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)oa(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{tu(o.imports,l=>{oa(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&Hd(c,e)}if(!a){let c=vn(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ie},i),e({provide:Ud,useValue:i,multi:!0},i),e({provide:yn,useValue:()=>k(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;uu(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function uu(t,e){for(let n of t)Ld(n)&&(n=n.\u0275providers),Array.isArray(n)?uu(n,e):e(n)}var iv=H({provide:String,useValue:H});function Wd(t){return t!==null&&typeof t=="object"&&iv in t}function ov(t){return!!(t&&t.useExisting)}function sv(t){return!!(t&&t.useFactory)}function Dn(t){return typeof t=="function"}function av(t){return!!t.useClass}var co=new A(""),Ri={},uv={},Vs;function cu(){return Vs===void 0&&(Vs=new Wi),Vs}var Me=class{},fr=class extends Me{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,aa(e,s=>this.processProvider(s)),this.records.set(jd,dn(void 0,this)),i.has("environment")&&this.records.set(Me,dn(void 0,this));let o=this.records.get(co);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ud,Ie,x.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mt(this),r=Ee(void 0),i;try{return e()}finally{mt(n),Ee(r)}}get(e,n=dr,r=x.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_l))return e[_l](this);r=ao(r);let i,o=mt(this),s=Ee(void 0);try{if(!(r&x.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=hv(e)&&so(e);c&&this.injectableDefInScope(c)?u=dn(sa(e),Ri):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&x.Self?cu():this.parent;return n=r&x.Optional&&n===dr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hi]=a[Hi]||[]).unshift(he(e)),o)throw a;return Xm(a,e,"R3InjectorError",this.source)}else throw a}finally{Ee(s),mt(o)}}resolveInjectorInitializers(){let e=mt(this),n=Ee(void 0),r;try{let i=this.get(yn,Ie,x.Self);for(let o of i)o()}finally{mt(e),Ee(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(he(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){e=ce(e);let n=Dn(e)?e:ce(e&&e.provide),r=lv(e);if(!Dn(e)&&e.multi===!0){let i=this.records.get(n);i||(i=dn(void 0,Ri,!0),i.factory=()=>ia(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ri&&(n.value=uv,n.value=n.factory()),typeof n.value=="object"&&n.value&&fv(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ce(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sa(t){let e=so(t),n=e!==null?e.factory:vn(t);if(n!==null)return n;if(t instanceof A)throw new D(204,!1);if(t instanceof Function)return cv(t);throw new D(204,!1)}function cv(t){if(t.length>0)throw new D(204,!1);let n=Lm(t);return n!==null?()=>n.factory(t):()=>new t}function lv(t){if(Wd(t))return dn(void 0,t.useValue);{let e=Gd(t);return dn(e,Ri)}}function Gd(t,e,n){let r;if(Dn(t)){let i=ce(t);return vn(i)||sa(i)}else if(Wd(t))r=()=>ce(t.useValue);else if(sv(t))r=()=>t.useFactory(...ia(t.deps||[]));else if(ov(t))r=()=>k(ce(t.useExisting));else{let i=ce(t&&(t.useClass||t.provide));if(dv(t))r=()=>new i(...ia(t.deps));else return vn(i)||sa(i)}return r}function dn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dv(t){return!!t.deps}function fv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hv(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function aa(t,e){for(let n of t)Array.isArray(n)?aa(n,e):n&&Ld(n)?aa(n.\u0275providers,e):e(n)}function Bt(t,e){t instanceof fr&&t.assertNotDestroyed();let n,r=mt(t),i=Ee(void 0);try{return e()}finally{mt(r),Ee(i)}}function pv(t){return typeof t=="function"}var ua=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zd(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Sn(){return qd}function qd(t){return t.type.prototype.ngOnChanges&&(t.setInput=mv),gv}Sn.ngInherit=!0;function gv(){let t=Yd(this),e=t?.current;if(e){let n=t.previous;if(n===pn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mv(t,e,n,r,i){let o=this.declaredInputs[r],s=Yd(t)||vv(t,{previous:pn,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new ua(c&&c.currentValue,n,u===pn),zd(t,e,i,n)}var Zd="__ngSimpleChanges__";function Yd(t){return t[Zd]||null}function vv(t,e){return t[Zd]=e}var Fl=null;var Ze=function(t,e,n){Fl?.(t,e,n)};function yv(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qd(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function lu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Pi(t,e,n){Qd(t,e,3,n)}function Fi(t,e,n,r){(t[w]&3)===n&&Qd(t,e,n,r)}function Ls(t,e){let n=t[w];(n&3)===e&&(n&=16383,n+=1,t[w]=n)}function Qd(t,e,n,r){let i=r!==void 0?t[ln]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ln]+=65536),(a<o||o==-1)&&(Dv(t,n,e,u),t[ln]=(t[ln]&4294901760)+u+2),u++}function kl(t,e){Ze(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Ze(5,t,e)}}function Dv(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[w]>>14<t[ln]>>16&&(t[w]&3)===e&&(t[w]+=16384,kl(a,o)):kl(a,o)}var hn=-1,kt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wv(t){return t instanceof kt}function Cv(t){return(t.flags&8)!==0}function bv(t){return(t.flags&16)!==0}function Kd(t){return t!==hn}function Gi(t){return t&32767}function Ev(t){return t>>16}function zi(t,e){let n=Ev(t),r=e;for(;n>0;)r=r[bn],n--;return r}var ca=!0;function Vl(t){let e=ca;return ca=t,e}var Iv=256,Xd=Iv-1,Jd=5,_v=0,Ye={};function Mv(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(nr)&&(r=n[nr]),r==null&&(r=n[nr]=_v++);let i=r&Xd,o=1<<i;e.data[t+(i>>Jd)]|=o}function qi(t,e){let n=ef(t,e);if(n!==-1)return n;let r=e[_];r.firstCreatePass&&(t.injectorIndex=e.length,$s(r.data,t),$s(e,null),$s(r.blueprint,null));let i=du(t,e),o=t.injectorIndex;if(Kd(i)){let s=Gi(i),a=zi(i,e),u=a[_].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function $s(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ef(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function du(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sf(i),r===null)return hn;if(n++,i=i[bn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hn}function la(t,e,n){Mv(t,e,n)}function tf(t,e,n){if(n&x.Optional||t!==void 0)return t;su(e,"NodeInjector")}function nf(t,e,n,r){if(n&x.Optional&&r===void 0&&(r=null),!(n&(x.Self|x.Host))){let i=t[gn],o=Ee(void 0);try{return i?i.get(e,r,n&x.Optional):$d(e,r,n&x.Optional)}finally{Ee(o)}}return tf(r,e,n)}function rf(t,e,n,r=x.Default,i){if(t!==null){if(e[w]&2048&&!(r&x.Self)){let s=xv(t,e,n,r,Ye);if(s!==Ye)return s}let o=of(t,e,n,r,Ye);if(o!==Ye)return o}return nf(e,n,r,i)}function of(t,e,n,r,i){let o=Tv(n);if(typeof o=="function"){if(!_d(e,t,r))return r&x.Host?tf(i,n,r):nf(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&x.Optional))su(n);else return s}finally{Ad()}}else if(typeof o=="number"){let s=null,a=ef(t,e),u=hn,c=r&x.Host?e[Ue][Be]:null;for((a===-1||r&x.SkipSelf)&&(u=a===-1?du(t,e):e[a+8],u===hn||!$l(r,!1)?a=-1:(s=e[_],a=Gi(u),e=zi(u,e)));a!==-1;){let l=e[_];if(Ll(o,a,l.data)){let d=Sv(a,e,n,s,r,c);if(d!==Ye)return d}u=e[a+8],u!==hn&&$l(r,e[_].data[a+8]===c)&&Ll(o,a,e)?(s=l,a=Gi(u),e=zi(u,e)):a=-1}}return i}function Sv(t,e,n,r,i,o){let s=e[_],a=s.data[t+8],u=r==null?oo(a)&&ca:r!=s&&(a.type&3)!==0,c=i&x.Host&&o===a,l=ki(a,s,n,u,c);return l!==null?Vt(e,s,l,a):Ye}function ki(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,f=i?a+l:c;for(let h=d;h<f;h++){let p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){let h=s[u];if(h&&vt(h)&&h.type===n)return u}return null}function Vt(t,e,n,r){let i=t[n],o=e.data;if(wv(i)){let s=i;s.resolving&&Hm(Bm(o[n]));let a=Vl(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?Ee(s.injectImpl):null,l=_d(t,r,x.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&yv(n,o[n],e)}finally{c!==null&&Ee(c),Vl(a),s.resolving=!1,Ad()}}return i}function Tv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(nr)?t[nr]:void 0;return typeof e=="number"?e>=0?e&Xd:Av:e}function Ll(t,e,n){let r=1<<t;return!!(n[e+(t>>Jd)]&r)}function $l(t,e){return!(t&x.Self)&&!(t&x.Host&&e)}var Nt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rf(this._tNode,this._lView,e,ao(r),n)}};function Av(){return new Nt(ye(),$())}function _r(t){return ro(()=>{let e=t.prototype.constructor,n=e[$i]||da(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$i]||da(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function da(t){return Vd(t)?()=>{let e=da(ce(t));return e&&e()}:vn(t)}function xv(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[w]&2048&&!(s[w]&512);){let a=of(o,s,n,r|x.Self,Ye);if(a!==Ye)return a;let u=o.parent;if(!u){let c=s[md];if(c){let l=c.get(n,Ye,r);if(l!==Ye)return l}u=sf(s),s=s[bn]}o=u}return i}function sf(t){let e=t[_],n=e.type;return n===2?e.declTNode:n===1?t[Be]:null}function jl(t,e=null,n=null,r){let i=af(t,e,n,r);return i.resolveInjectorInitializers(),i}function af(t,e=null,n=null,r,i=new Set){let o=[n||Ie,rv(t)];return r=r||(typeof t=="object"?void 0:he(t)),new fr(o,e||cu(),r||null,i)}var Tn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return jl({name:""},i,r,"");{let o=r.name??"";return jl({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=dr,e.NULL=new Wi,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>k(jd)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),Nv="ngOriginalError";function js(t){return t[Nv]}var ut=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&js(e);for(;n&&js(n);)n=js(n);return n||null}},uf=new A("",{providedIn:"root",factory:()=>m(ut).handleError.bind(void 0)});var cf=!1,Ov=new A("",{providedIn:"root",factory:()=>cf});var Zi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${od})`}};function lo(t){return t instanceof Zi?t.changingThisBreaksApplicationSecurity:t}function lf(t,e){let n=Rv(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${od})`)}return n===e}function Rv(t){return t instanceof Zi&&t.getTypeName()||null}var Pv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function df(t){return t=String(t),t.match(Pv)?t:"unsafe:"+t}var fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fu||{});function ff(t){let e=Fv();return e?e.sanitize(fu.URL,t)||"":lf(t,"URL")?lo(t):df(ou(t))}function Fv(){let t=$();return t&&t[st].sanitizer}var hf=new Map,kv=0;function Vv(){return kv++}function Lv(t){hf.set(t[io],t)}function $v(t){hf.delete(t[io])}var Ul="__ngContext__";function Lt(t,e){xt(e)?(t[Ul]=e[io],Lv(e)):t[Ul]=e}function pf(t){return t instanceof Function?t():t}var ct=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ct||{}),jv;function hu(t,e){return jv(t,e)}function fn(t,e,n,r,i){if(r!=null){let o,s=!1;dt(r)?o=r:xt(r)&&(s=!0,r=r[lt]);let a=Ke(r);t===0&&n!==null?i==null?yf(e,n,a):Yi(e,n,a,i||null,!0):t===1&&n!==null?Yi(e,n,a,i||null,!0):t===2?ry(e,a,s):t===3&&e.destroyNode(a),o!=null&&oy(e,t,o,n,i)}}function Uv(t,e){return t.createText(e)}function Bv(t,e,n){t.setValue(e,n)}function gf(t,e,n){return t.createElement(e,n)}function Hv(t,e){mf(t,e),e[lt]=null,e[Be]=null}function Wv(t,e,n,r,i,o){r[lt]=i,r[Be]=e,ho(t,r,n,1,i,o)}function mf(t,e){ho(t,e,e[X],2,null,null)}function Gv(t){let e=t[ur];if(!e)return Us(t[_],t);for(;e;){let n=null;if(xt(e))n=e[ur];else{let r=e[ue];r&&(n=r)}if(!n){for(;e&&!e[je]&&e!==t;)xt(e)&&Us(e[_],e),e=e[re];e===null&&(e=t),xt(e)&&Us(e[_],e),n=e&&e[je]}e=n}}function zv(t,e,n,r){let i=ue+r,o=n.length;r>0&&(n[i-1][je]=e),r<o-ue?(e[je]=n[i],Nd(n,ue+r,e)):(n.push(e),e[je]=null),e[re]=n;let s=e[Cr];s!==null&&n!==s&&qv(s,e);let a=e[at];a!==null&&a.insertView(t),Js(e),e[w]|=128}function qv(t,e){let n=t[mn],i=e[re][re][Ue];e[Ue]!==i&&(t[w]|=Wa.HasTransplantedViews),n===null?t[mn]=[e]:n.push(e)}function vf(t,e){let n=t[mn],r=n.indexOf(e);n.splice(r,1)}function hr(t,e){if(t.length<=ue)return;let n=ue+e,r=t[n];if(r){let i=r[Cr];i!==null&&i!==t&&vf(i,r),e>0&&(t[n-1][je]=r[je]);let o=Bi(t,ue+e);Hv(r[_],r);let s=o[at];s!==null&&s.detachView(o[_]),r[re]=null,r[je]=null,r[w]&=-129}return r}function fo(t,e){if(!(e[w]&256)){let n=e[X];n.destroyNode&&ho(t,e,n,3,null,null),Gv(e)}}function Us(t,e){if(!(e[w]&256)){e[w]&=-129,e[w]|=256,e[Rt]&&Xc(e[Rt]),Yv(t,e),Zv(t,e),e[_].type===1&&e[X].destroy();let n=e[Cr];if(n!==null&&dt(e[re])){n!==e[re]&&vf(n,e);let r=e[at];r!==null&&r.detachView(t)}$v(e)}}function Zv(t,e){let n=t.cleanup,r=e[ar];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ar]=null);let i=e[rr];if(i!==null){e[rr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Yv(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof kt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ze(4,a,u);try{u.call(a)}finally{Ze(5,a,u)}}else{Ze(4,i,o);try{o.call(i)}finally{Ze(5,i,o)}}}}}function Qv(t,e,n){return Kv(t,e.parent,n)}function Kv(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[lt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qe.None||o===Qe.Emulated)return null}return He(r,n)}}function Yi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yf(t,e,n){t.appendChild(e,n)}function Bl(t,e,n,r,i){r!==null?Yi(t,e,n,r,i):yf(t,e,n)}function Xv(t,e,n,r){t.removeChild(e,n,r)}function pu(t,e){return t.parentNode(e)}function Jv(t,e){return t.nextSibling(e)}function ey(t,e,n){return ny(t,e,n)}function ty(t,e,n){return t.type&40?He(t,n):null}var ny=ty,Hl;function gu(t,e,n,r){let i=Qv(t,r,e),o=e[X],s=r.parent||e[Be],a=ey(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Bl(o,i,n[u],a,!1);else Bl(o,i,n,a,!1);Hl!==void 0&&Hl(o,r,e,n,i)}function Vi(t,e){if(e!==null){let n=e.type;if(n&3)return He(e,t);if(n&4)return fa(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vi(t,r);{let i=t[e.index];return dt(i)?fa(-1,i):Ke(i)}}else{if(n&32)return hu(e,t)()||Ke(t[e.index]);{let r=Df(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=lr(t[Ue]);return Vi(i,r)}else return Vi(t,e.next)}}}return null}function Df(t,e){if(e!==null){let r=t[Ue][Be],i=e.projection;return r.projection[i]}return null}function fa(t,e){let n=ue+t+1;if(n<e.length){let r=e[n],i=r[_].firstChild;if(i!==null)return Vi(r,i)}return e[Pt]}function ry(t,e,n){let r=pu(t,e);r&&Xv(t,r,e,n)}function mu(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Lt(Ke(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)mu(t,e,n.child,r,i,o,!1),fn(e,t,i,a,o);else if(u&32){let c=hu(n,r),l;for(;l=c();)fn(e,t,i,l,o);fn(e,t,i,a,o)}else u&16?iy(t,e,r,n,i,o):fn(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ho(t,e,n,r,i,o){mu(n,r,t.firstChild,e,i,o,!1)}function iy(t,e,n,r,i,o){let s=n[Ue],u=s[Be].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];fn(e,t,i,l,o)}else{let c=u,l=s[re];Od(r)&&(c.flags|=128),mu(t,e,c,l,i,o,!0)}}function oy(t,e,n,r,i){let o=n[Pt],s=Ke(n);o!==s&&fn(e,t,r,o,i);for(let a=ue;a<n.length;a++){let u=n[a];ho(u[_],u,t,e,r,o)}}function sy(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ct.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ct.Important),t.setStyle(n,r,i,o))}}function ay(t,e,n){t.setAttribute(e,"style",n)}function wf(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Cf(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Xs(t,e,r),i!==null&&wf(t,e,i),o!==null&&ay(t,e,o)}var Ht={};function Y(t=1){bf(de(),$(),Ut()+t,!1)}function bf(t,e,n,r){if(!r)if((e[w]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Pi(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fi(e,o,0,n)}Ft(n)}function B(t,e=x.Default){let n=$();if(n===null)return k(t,e);let r=ye();return rf(r,n,ce(t),e)}function Ef(t,e,n,r,i,o){let s=te(null);try{let a=null;i&ve.SignalBased&&(a=e[r][hs]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ve.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):zd(e,a,r,o)}finally{te(s)}}function uy(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ft(~i);else{let o=i,s=n[++r],a=n[++r];Em(s,o);let u=e[o];a(2,u)}}}finally{Ft(-1)}}function po(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[lt]=i,d[w]=r|4|128|8|64,(c!==null||t&&t[w]&2048)&&(d[w]|=2048),wd(d),d[re]=d[bn]=t,d[ae]=n,d[st]=s||t&&t[st],d[X]=a||t&&t[X],d[gn]=u||t&&t[gn]||null,d[Be]=o,d[io]=Vv(),d[sr]=l,d[md]=c,d[Ue]=e.type==2?t[Ue]:d,d}function go(t,e,n,r,i){let o=t.data[e];if(o===null)o=cy(t,e,n,r,i),bm()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vm();o.injectorIndex=s===null?-1:s.injectorIndex}return br(o,!0),o}function cy(t,e,n,r,i){let o=bd(),s=Ed(),a=s?o:o&&o.parent,u=t.data[e]=gy(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function If(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _f(t,e,n,r,i){let o=Ut(),s=r&2;try{Ft(-1),s&&e.length>_e&&bf(t,e,_e,!1),Ze(s?2:0,i),n(r,i)}finally{Ft(o),Ze(s?3:1,i)}}function Mf(t,e,n){if(yd(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}function Sf(t,e,n){Cd()&&(Cy(t,e,n,He(n,e)),(n.flags&64)===64&&Of(t,e,n))}function Tf(t,e,n=He){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Af(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vu(t,e,n,r,i,o,s,a,u,c,l){let d=_e+r,f=d+i,h=ly(d,f),p=typeof c=="function"?c():c;return h[_]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}function ly(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ht);return n}function dy(t,e,n,r){let o=r.get(Ov,cf)||n===Qe.ShadowDom,s=t.selectRootElement(e,o);return fy(s),s}function fy(t){hy(t)}var hy=()=>null;function py(t,e,n,r){let i=Ff(e);i.push(n),t.firstCreatePass&&kf(t).push(r,i.length-1)}function gy(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return pm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Wl(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ve.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Gl(r,n,c,a,u):Gl(r,n,c,a)}return r}function Gl(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function my(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;u=Wl(0,d.inputs,l,u,h),c=Wl(1,d.outputs,l,c,p);let y=u!==null&&s!==null&&!cd(e)?xy(u,l,s):null;a.push(y)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function vy(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function yu(t,e,n,r,i,o,s,a){let u=He(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Du(t,n,l,r,i),oo(e)&&yy(n,e.index)):e.type&3?(r=vy(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function yy(t,e){let n=Dt(e,t);n[w]&16||(n[w]|=64)}function xf(t,e,n,r){if(Cd()){let i=r===null?null:{"":-1},o=Ey(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Nf(t,e,n,s,i,a),i&&Iy(n,r,i)}n.mergedAttrs=or(n.mergedAttrs,n.attrs)}function Nf(t,e,n,r,i,o){for(let c=0;c<r.length;c++)la(qi(n,e),t,r[c].type);My(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=If(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=or(n.mergedAttrs,l.hostAttrs),Sy(t,n,e,u,l),_y(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}my(t,n,o)}function Dy(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;wy(s)!=a&&s.push(a),s.push(n,r,o)}}function wy(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Cy(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;oo(n)&&Ty(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qi(n,e),Lt(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=Vt(e,t,a,n);if(Lt(c,e),s!==null&&Ay(e,a-i,c,u,n,s),vt(u)){let l=Dt(n.index,e);l[ae]=Vt(e,t,a,n)}}}function Of(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Im();try{Ft(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];ea(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&by(u,c)}}finally{Ft(-1),ea(s)}}function by(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ey(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Gg(e,s.selectors,!1))if(r||(r=[]),vt(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;ha(t,e,u)}else r.unshift(s),ha(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ha(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Iy(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new D(-301,!1);r.push(e[i],o)}}}function _y(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function My(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Sy(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vn(i.type,!0)),s=new kt(o,vt(i),B);t.blueprint[r]=s,n[r]=s,Dy(t,e,r,If(t,n,i.hostVars,Ht),i)}function Ty(t,e,n){let r=He(e,t),i=Af(n),o=t[st].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=mo(t,po(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Ay(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];Ef(r,n,u,c,l,d)}}function xy(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Rf(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Pf(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Ya(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function mo(t,e){return t[ur]?t[xl][je]=e:t[ur]=e,t[xl]=e,e}function pa(t,e,n){Ya(0);let r=te(null);try{e(t,n)}finally{te(r)}}function Ff(t){return t[ar]||(t[ar]=[])}function kf(t){return t.cleanup||(t.cleanup=[])}function Vf(t,e){let n=t[gn],r=n?n.get(ut,null):null;r&&r.handleError(e)}function Du(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];Ef(l,c,r,a,u,i)}}function Ny(t,e,n){let r=Dd(e,t);Bv(t[X],r,n)}function Oy(t,e){let n=Dt(e,t),r=n[_];Ry(r,n);let i=n[lt];i!==null&&n[sr]===null&&(n[sr]=au(i,n[gn])),wu(r,n,n[ae])}function Ry(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wu(t,e,n){Qa(e);try{let r=t.viewQuery;r!==null&&pa(1,r,n);let i=t.template;i!==null&&_f(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[at]?.finishViewCreation(t),t.staticContentQueries&&Pf(t,e),t.staticViewQueries&&pa(2,t.viewQuery,n);let o=t.components;o!==null&&Py(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[w]&=-5,Ka()}}function Py(t,e){for(let n=0;n<e.length;n++)Oy(t,e[n])}function vo(t,e,n,r){let i=e.tView,s=t[w]&4096?4096:16,a=po(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[Cr]=u;let c=t[at];return c!==null&&(a[at]=c.createEmbeddedView(i)),wu(i,a,n),a}function Lf(t,e){let n=ue+e;if(n<t.length)return t[n]}function pr(t,e){return!e||e.firstChild===null||Od(t)}function yo(t,e,n,r=!0){let i=e[_];if(zv(i,e,t,n),r){let s=fa(n,t),a=e[X],u=pu(a,t[Pt]);u!==null&&Wv(i,t[Be],a,e,u,s)}let o=e[sr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $f(t,e){let n=hr(t,e);return n!==void 0&&fo(n[_],n),n}function Qi(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ke(o)),dt(o)&&Fy(o,r);let s=n.type;if(s&8)Qi(t,e,n.child,r);else if(s&32){let a=hu(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Df(e,n);if(Array.isArray(a))r.push(...a);else{let u=lr(e[Ue]);Qi(u[_],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Fy(t,e){for(let n=ue;n<t.length;n++){let r=t[n],i=r[_].firstChild;i!==null&&Qi(r[_],r,i,e)}t[Pt]!==t[lt]&&e.push(t[Pt])}var jf=[];function ky(t){return t[Rt]??Vy(t)}function Vy(t){let e=jf.pop()??Object.create($y);return e.lView=t,e}function Ly(t){t.lView[Rt]!==t&&(t.lView=null,jf.push(t))}var $y=P(g({},Yc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cr(t.lView)},consumerOnSignalRead(){this.lView[Rt]=this}});function Uf(t){return Hf(t[ur])}function Bf(t){return Hf(t[je])}function Hf(t){for(;t!==null&&!dt(t);)t=t[je];return t}var Wf=100;function Gf(t,e=!0,n=0){let r=t[st],i=r.rendererFactory,o=!1;o||i.begin?.();try{jy(t,n)}catch(s){throw e&&Vf(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function jy(t,e){ga(t,e);let n=0;for(;Za(t);){if(n===Wf)throw new D(103,!1);n++,ga(t,1)}}function Uy(t,e,n,r){let i=e[w];if((i&256)===256)return;let o=!1;!o&&e[st].inlineEffectRunner?.flush(),Qa(e);let s=null,a=null;!o&&By(t)&&(a=ky(e),s=Qc(a));try{wd(e),wm(t.bindingStartIndex),n!==null&&_f(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&Pi(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Fi(e,d,0,null),Ls(e,0)}if(Hy(e),zf(e,0),t.contentQueries!==null&&Pf(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&Pi(e,d)}else{let d=t.contentHooks;d!==null&&Fi(e,d,1),Ls(e,1)}uy(t,e);let c=t.components;c!==null&&Zf(e,c,0);let l=t.viewQuery;if(l!==null&&pa(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&Pi(e,d)}else{let d=t.viewHooks;d!==null&&Fi(e,d,2),Ls(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Fs]){for(let d of e[Fs])d();e[Fs]=null}o||(e[w]&=-73)}catch(u){throw cr(e),u}finally{a!==null&&(Kc(a,s),Ly(a)),Ka()}}function By(t){return t.type!==2}function zf(t,e){for(let n=Uf(t);n!==null;n=Bf(n))for(let r=ue;r<n.length;r++){let i=n[r];qf(i,e)}}function Hy(t){for(let e=Uf(t);e!==null;e=Bf(e)){if(!(e[w]&Wa.HasTransplantedViews))continue;let n=e[mn];for(let r=0;r<n.length;r++){let i=n[r],o=i[re];um(i)}}}function Wy(t,e,n){let r=Dt(e,t);qf(r,n)}function qf(t,e){qa(t)&&ga(t,e)}function ga(t,e){let r=t[_],i=t[w],o=t[Rt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ps(o)),o&&(o.dirty=!1),t[w]&=-9217,s)Uy(r,t,r.template,t[ae]);else if(i&8192){zf(t,1);let a=r.components;a!==null&&Zf(t,a,1)}}function Zf(t,e,n){for(let r=0;r<e.length;r++)Wy(t,e[r],n)}function Cu(t){for(t[st].changeDetectionScheduler?.notify();t;){t[w]|=64;let e=lr(t);if(em(t)&&!e)return t;t=e}return null}var $t=class{get rootNodes(){let e=this._lView,n=e[_];return Qi(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ae]}set context(e){this._lView[ae]=e}get destroyed(){return(this._lView[w]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[re];if(dt(e)){let n=e[ji],r=n?n.indexOf(this):-1;r>-1&&(hr(e,r),Bi(n,r))}this._attachedToViewContainer=!1}fo(this._lView[_],this._lView)}onDestroy(e){lm(this._lView,e)}markForCheck(){Cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[w]&=-129}reattach(){Js(this._lView),this._lView[w]|=128}detectChanges(){this._lView[w]|=1024,Gf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mf(this._lView[_],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e,Js(this._lView)}},gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qy;let t=e;return t})(),Gy=gr,zy=class extends Gy{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=vo(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new $t(i)}};function qy(){return bu(ye(),$())}function bu(t,e){return t.type&4?new zy(e,t,En(t,e)):null}var GT=new RegExp(`^(\\d+)*(${tv}|${ev})*(.*)`);var Zy=()=>null;function mr(t,e){return Zy(t,e)}var ma=class{},va=class{},Ki=class{};function Yy(t){let e=Error(`No component factory found for ${he(t)}.`);return e[Qy]=t,e}var Qy="ngComponent";var ya=class{resolveComponentFactory(e){throw Yy(e)}},Do=(()=>{let e=class e{};e.NULL=new ya;let t=e;return t})(),vr=class{},An=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ky();let t=e;return t})();function Ky(){let t=$(),e=ye(),n=Dt(e.index,t);return(xt(n)?n:t)[X]}var Xy=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bs={};function Jy(t){return typeof t=="function"&&t[hs]!==void 0}var zl=new Set;function wo(t){zl.has(t)||(zl.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Yf(t){return Jy(t)&&typeof t.set=="function"}var Wt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eD;let t=e;return t})();function eD(t){return tD(ye(),$(),(t&16)===16)}function tD(t,e,n){if(oo(t)&&!n){let r=Dt(t.index,e);return new $t(r,r)}else if(t.type&47){let r=e[Ue];return new $t(r,e)}return null}function ql(...t){}function nD(){let t=typeof tr.requestAnimationFrame=="function",e=tr[t?"requestAnimationFrame":"setTimeout"],n=tr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=nD().nativeRequestAnimationFrame,oD(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rD,ql,ql);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},rD={};function Eu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iD(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Da(t),t.isCheckStableRunning=!0,Eu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Da(t))}function oD(t){let e=()=>{iD(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(sD(a))return n.invokeTask(i,o,s,a);try{return Zl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yl(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Zl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Yl(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Da(t),Eu(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Da(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Zl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yl(t){t._nesting--,Eu(t)}function sD(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Qf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function wa(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Il(i,a);else if(o==2){let u=a,c=e[++s];r=Il(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Xi=class extends Do{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ot(e);return new yr(n,this.ngModule)}};function Ql(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function aD(t){let e=t.toLowerCase();return e==="svg"?tm:e==="math"?nm:null}var Ca=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ao(r);let i=this.injector.get(e,Bs,r);return i!==Bs||n===Bs?i:this.parentInjector.get(e,n,r)}},yr=class extends Ki{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Ql(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ql(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Yg(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof Me?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Ca(e,o):e,a=s.get(vr,null);if(a===null)throw new D(407,!1);let u=s.get(Xy,null),c=s.get(Qf,null),l=s.get(ma,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:l},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?dy(f,r,this.componentDef.encapsulation,s):gf(f,h,aD(h)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let V=null;p!==null&&(V=au(p,s,!0));let S=vu(0,null,null,1,0,null,null,null,null,null,null),pe=po(null,S,null,y,null,null,d,f,s,null,V);Qa(pe);let rt,Pe;try{let Fe=this.componentDef,ze,Kn=null;Fe.findHostDirectiveDefs?(ze=[],Kn=new Map,Fe.findHostDirectiveDefs(Fe,ze,Kn),ze.push(Fe)):ze=[Fe];let Kp=uD(pe,p),Xp=cD(Kp,p,Fe,ze,pe,d,f);Pe=za(S,_e),p&&fD(f,Fe,p,r),n!==void 0&&hD(Pe,this.ngContentSelectors,n),rt=dD(Xp,Fe,ze,Kn,pe,[pD]),wu(S,pe,null)}finally{Ka()}return new ba(this.componentType,rt,En(Pe,pe),pe,Pe)}},ba=class extends va{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $t(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Du(o[_],o,i,e,n),this.previousInputValues.set(e,n);let s=Dt(this._tNode.index,o);Cu(s)}}get injector(){return new Nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uD(t,e){let n=t[_],r=_e;return t[r]=e,go(n,r,2,"#host",null)}function cD(t,e,n,r,i,o,s){let a=i[_];lD(r,t,e,s);let u=null;e!==null&&(u=au(e,i[gn]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=po(i,Af(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&ha(a,t,r.length-1),mo(i,d),i[t.index]=d}function lD(t,e,n,r){for(let i of t)e.mergedAttrs=or(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wa(e,e.mergedAttrs,!0),n!==null&&Cf(r,n,e))}function dD(t,e,n,r,i,o){let s=ye(),a=i[_],u=He(s,i);Nf(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,f=Vt(i,a,d,s);Lt(f,i)}Of(a,i,s),u&&Lt(u,i);let c=Vt(i,a,s.directiveStart+s.componentOffset,s);if(t[ae]=i[ae]=c,o!==null)for(let l of o)l(c,e);return Mf(a,s,i),c}function fD(t,e,n,r){if(r)Xs(t,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:o}=Qg(e.selectors[0]);i&&Xs(t,n,i),o&&o.length>0&&wf(t,n,o.join(" "))}}function hD(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function pD(){let t=ye();lu($()[_],t)}var xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gD;let t=e;return t})();function gD(){let t=ye();return Xf(t,$())}var mD=xn,Kf=class extends mD{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return En(this._hostTNode,this._hostLView)}get injector(){return new Nt(this._hostTNode,this._hostLView)}get parentInjector(){let e=du(this._hostTNode,this._hostLView);if(Kd(e)){let n=zi(e,this._hostLView),r=Gi(e),i=n[_].data[r+8];return new Nt(i,n)}else return new Nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Kl(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=mr(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,pr(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!pv(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let u=s?e:new yr(Ot(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(s?c:this.parentInjector).get(Me,null);y&&(o=y)}let l=Ot(u.componentType??{}),d=mr(this._lContainer,l?.id??null),f=d?.firstChild??null,h=u.create(c,i,f,o);return this.insertImpl(h.hostView,a,pr(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(am(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[re],c=new Kf(u,u[Be],u[re]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return yo(s,i,o,r),e.attachToViewContainerRef(),Nd(Hs(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Kl(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hr(this._lContainer,n);r&&(Bi(Hs(this._lContainer),n),fo(r[_],r))}detach(e){let n=this._adjustIndex(e,-1),r=hr(this._lContainer,n);return r&&Bi(Hs(this._lContainer),n)!=null?new $t(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Kl(t){return t[ji]}function Hs(t){return t[ji]||(t[ji]=[])}function Xf(t,e){let n,r=e[t.index];return dt(r)?n=r:(n=Rf(r,e,null,t),e[t.index]=n,mo(e,n)),yD(n,e,t,r),new Kf(n,t,e)}function vD(t,e){let n=t[X],r=n.createComment(""),i=He(e,t),o=pu(n,i);return Yi(n,o,r,Jv(n,i),!1),r}var yD=CD,DD=()=>!1;function wD(t,e,n){return DD(t,e,n)}function CD(t,e,n,r){if(t[Pt])return;let i;n.type&8?i=Ke(r):i=vD(e,n),t[Pt]=i}var Ea=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ia=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Iu(e,n).matches!==null&&this.queries[n].setDirty()}},_a=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=AD(e):this.predicate=e}},Ma=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Sa=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,bD(n,o)),this.matchTNodeWithReadOption(e,n,ki(n,e,o,!1,!1))}else r===gr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ki(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xe||i===xn||i===gr&&n.type&4)this.addMatch(n.index,-2);else{let o=ki(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function bD(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ED(t,e){return t.type&11?En(t,e):t.type&4?bu(t,e):null}function ID(t,e,n,r){return n===-1?ED(e,t):n===-2?_D(t,e,r):Vt(t,t[_],n,e)}function _D(t,e,n){if(n===Xe)return En(e,t);if(n===gr)return bu(e,t);if(n===xn)return Xf(e,t)}function Jf(t,e,n,r){let i=e[at].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let c=s[u];if(c<0)a.push(null);else{let l=o[c];a.push(ID(e,l,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Ta(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Jf(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let c=o[a+1],l=e[-u];for(let d=ue;d<l.length;d++){let f=l[d];f[Cr]===f[re]&&Ta(f[_],f,c,r)}if(l[mn]!==null){let d=l[mn];for(let f=0;f<d.length;f++){let h=d[f];Ta(h[_],h,c,r)}}}}}return r}function MD(t,e){return t[at].queries[e].queryList}function SD(t,e,n){let r=new ta((n&4)===4);return py(t,e,r,r.destroy),(e[at]??=new Ia).queries.push(new Ea(r))-1}function TD(t,e,n){let r=de();return r.firstCreatePass&&(xD(r,new _a(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),SD(r,$(),e)}function AD(t){return t.split(",").map(e=>e.trim())}function xD(t,e,n){t.queries===null&&(t.queries=new Ma),t.queries.track(new Sa(e,n))}function Iu(t,e){return t.queries.getByIndex(e)}function ND(t,e){let n=t[_],r=Iu(n,e);return r.crossesNgTemplate?Ta(n,t,e,[]):Jf(n,t,r,e)}function OD(t){return Object.getPrototypeOf(t.prototype).constructor}function wt(t){let e=OD(t.type),n=!0,r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ni(t.inputs),s.inputTransforms=Ni(t.inputTransforms),s.declaredInputs=Ni(t.declaredInputs),s.outputs=Ni(t.outputs);let a=i.hostBindings;a&&VD(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&FD(t,u),c&&kD(t,c),RD(t,i),Pg(t.outputs,i.outputs),vt(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===wt&&(n=!1)}}e=Object.getPrototypeOf(e)}PD(r)}function RD(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function PD(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=or(i.hostAttrs,n=or(n,i.hostAttrs))}}function Ni(t){return t===pn?{}:t===Ie?[]:t}function FD(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function kD(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VD(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var yt=class{},Dr=class{};var Aa=class extends yt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xi(this);let i=hd(e);this._bootstrapComponents=pf(i.bootstrap),this._r3Injector=af(e,n,[{provide:yt,useValue:this},{provide:Do,useValue:this.componentFactoryResolver},...r],he(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xa=class extends Dr{constructor(e){super(),this.moduleType=e}create(e){return new Aa(this.moduleType,e,[])}};var Ji=class extends yt{constructor(e){super(),this.componentFactoryResolver=new Xi(this),this.instance=null;let n=new fr([...e.providers,{provide:yt,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],e.parent||cu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _u(t,e,n=null){return new Ji({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Co=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new G(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function LD(t,e,n,r,i,o,s,a,u){let c=e.consts,l=go(e,t,4,s||null,Ui(c,a));xf(e,n,l,Ui(c,u)),lu(e,l);let d=l.tView=vu(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function le(t,e,n,r,i,o,s,a){let u=$(),c=de(),l=t+_e,d=c.firstCreatePass?LD(l,c,u,e,n,r,i,o,s):c.data[l];br(d,!1);let f=$D(c,u,d,t);Ja()&&gu(c,u,f,d),Lt(f,u);let h=Rf(f,u,f,d);return u[l]=h,mo(u,h),wD(h,d,u),Ga(d)&&Sf(c,u,d),s!=null&&Tf(u,d,a),le}var $D=jD;function jD(t,e,n,r){return eu(!0),e[X].createComment("")}function eh(t,e,n,r){return Nn(t,Er(),n)?e+ou(n)+r:Ht}function Oi(t,e){return t<<17|e<<2}function jt(t){return t>>17&32767}function UD(t){return(t&2)==2}function BD(t,e){return t&131071|e<<17}function Na(t){return t|2}function wn(t){return(t&131068)>>2}function Ws(t,e){return t&-131069|e<<2}function HD(t){return(t&1)===1}function Oa(t){return t|1}function WD(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=jt(s),u=wn(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ir(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let f=jt(t[a+1]);t[r+1]=Oi(f,a),f!==0&&(t[f+1]=Ws(t[f+1],r)),t[a+1]=BD(t[a+1],r)}else t[r+1]=Oi(a,0),a!==0&&(t[a+1]=Ws(t[a+1],r)),a=r;else t[r+1]=Oi(u,0),a===0?a=r:t[u+1]=Ws(t[u+1],r),u=r;c&&(t[r+1]=Na(t[r+1])),Xl(t,l,r,!0),Xl(t,l,r,!1),GD(e,l,t,r,o),s=Oi(a,u),o?e.classBindings=s:e.styleBindings=s}function GD(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ir(o,e)>=0&&(n[r+1]=Oa(n[r+1]))}function Xl(t,e,n,r){let i=t[n+1],o=e===null,s=r?jt(i):wn(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];zD(u,e)&&(a=!0,t[s+1]=r?Oa(c):Na(c)),s=r?jt(c):wn(c)}a&&(t[n+1]=r?Na(i):Oa(i))}function zD(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ir(t,e)>=0:!1}function Mr(t,e,n){let r=$(),i=Er();if(Nn(r,i,e)){let o=de(),s=Xa();yu(o,s,r,t,e,r[X],n,!1)}return Mr}function Jl(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Du(t,n,o[s],s,r)}function bo(t,e){return qD(t,e,null,!0),bo}function qD(t,e,n,r){let i=$(),o=de(),s=Cm(2);if(o.firstUpdatePass&&YD(o,t,s,r),e!==Ht&&Nn(i,s,e)){let a=o.data[Ut()];ew(o,a,i,i[X],t,i[s+1]=tw(e,n),r,s)}}function ZD(t,e){return e>=t.expandoStartIndex}function YD(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ut()],s=ZD(t,n);nw(o,r)&&e===null&&!s&&(e=!1),e=QD(i,o,e,r),WD(i,o,e,n,s,r)}}function QD(t,e,n,r){let i=_m(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gs(null,t,e,n,r),n=wr(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Gs(i,t,e,n,r),o===null){let u=KD(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Gs(null,t,e,u[1],r),u=wr(u,e.attrs,r),XD(t,e,r,u))}else o=JD(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function KD(t,e,n){let r=n?e.classBindings:e.styleBindings;if(wn(r)!==0)return t[jt(r)]}function XD(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jt(i)]=r}function JD(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=wr(r,s,n)}return wr(r,e.attrs,n)}function Gs(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=wr(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function wr(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Pm(t,s,n?!0:e[++o]))}return t===void 0?null:t}function ew(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=HD(c)?ed(u,e,n,i,wn(c),s):void 0;if(!eo(l)){eo(o)||UD(c)&&(o=ed(u,null,n,i,a,s));let d=Dd(Ut(),n);sy(r,s,d,i,o)}}function ed(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,f=n[i+1];f===Ht&&(f=d?Ie:void 0);let h=d?ks(f,r):l===r?f:void 0;if(c&&!eo(h)&&(h=ks(u,r)),eo(h)&&(a=h,s))return a;let p=t[i+1];i=s?jt(p):wn(p)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ks(u,r))}return a}function eo(t){return t!==void 0}function tw(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=he(lo(t)))),t}function nw(t,e){return(t.flags&(e?8:16))!==0}var Ra=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function zs(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function rw(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let u=t.at(o),c=e[o],l=zs(o,u,o,c,n);if(l!==0){l<0&&t.updateValue(o,c),o++;continue}let d=t.at(s),f=e[a],h=zs(s,d,a,f,n);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let p=n(o,u),y=n(s,d),V=n(o,c);if(Object.is(V,y)){let S=n(a,f);Object.is(S,p)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(r??=new to,i??=nd(t,o,s,n),Pa(t,r,o,V))t.updateValue(o,c),o++,s++;else if(i.has(V))r.set(p,t.detach(o)),s--;else{let S=t.create(o,e[o]);t.attach(o,S),o++,s++}}for(;o<=a;)td(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&o<=s;){let c=t.at(o),l=u.value,d=zs(o,c,o,l,n);if(d!==0)d<0&&t.updateValue(o,l),o++,u=a.next();else{r??=new to,i??=nd(t,o,s,n);let f=n(o,l);if(Pa(t,r,o,f))t.updateValue(o,l),o++,s++,u=a.next();else if(!i.has(f))t.attach(o,t.create(o,l)),o++,s++,u=a.next();else{let h=n(o,c);r.set(h,t.detach(o)),s--}}}for(;!u.done;)td(t,r,n,t.length,u.value),u=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function Pa(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function td(t,e,n,r,i){if(Pa(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function nd(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var to=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ae(t,e,n){wo("NgControlFlow");let r=$(),i=Er(),o=La(r,_e+t),s=0;if(Nn(r,i,e)){let a=te(null);try{if($f(o,s),e!==-1){let u=$a(r[_],_e+e),c=mr(o,u.tView.ssrId),l=vo(r,u,n,{dehydratedView:c});yo(o,l,s,pr(u,c))}}finally{te(a)}}else{let a=Lf(o,s);a!==void 0&&(a[ae]=n)}}var Fa=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ue}};function th(t,e){return e}var ka=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function nh(t,e,n,r,i,o,s,a,u,c,l,d,f){wo("NgControlFlow");let h=u!==void 0,p=$(),y=a?s.bind(p[Ue][ae]):s,V=new ka(h,y);p[_e+t]=V,le(t+1,e,n,r,i,o),h&&le(t+2,u,c,l,d,f)}var Va=class extends Ra{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ue}at(e){return this.getLView(e)[ae].$implicit}attach(e,n){let r=n[sr];this.needsIndexUpdate||=e!==this.length,yo(this.lContainer,n,e,pr(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,iw(this.lContainer,e)}create(e,n){let r=mr(this.lContainer,this.templateTNode.tView.ssrId);return vo(this.hostLView,this.templateTNode,new Fa(this.lContainer,n,e),{dehydratedView:r})}destroy(e){fo(e[_],e)}updateValue(e,n){this.getLView(e)[ae].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ae].$index=e}getLView(e){return ow(this.lContainer,e)}};function rh(t){let e=te(null),n=Ut();try{let r=$(),i=r[_],o=r[n];if(o.liveCollection===void 0){let a=n+1,u=La(r,a),c=$a(i,a);o.liveCollection=new Va(u,r,c)}else o.liveCollection.reset();let s=o.liveCollection;if(rw(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Er(),u=s.length===0;if(Nn(r,a,u)){let c=n+2,l=La(r,c);if(u){let d=$a(i,c),f=mr(l,d.tView.ssrId),h=vo(r,d,void 0,{dehydratedView:f});yo(l,h,0,pr(d,f))}else $f(l,0)}}}finally{te(e)}}function La(t,e){return t[e]}function iw(t,e){return hr(t,e)}function ow(t,e){return Lf(t,e)}function $a(t,e){return za(t,e)}function sw(t,e,n,r,i,o){let s=e.consts,a=Ui(s,i),u=go(e,t,2,r,a);return xf(e,n,u,Ui(s,o)),u.attrs!==null&&wa(u,u.attrs,!1),u.mergedAttrs!==null&&wa(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function v(t,e,n,r){let i=$(),o=de(),s=_e+t,a=i[X],u=o.firstCreatePass?sw(s,o,i,e,n,r):o.data[s],c=aw(o,i,u,a,e,t);i[s]=c;let l=Ga(u);return br(u,!0),Cf(a,c,u),(u.flags&32)!==32&&Ja()&&gu(o,i,c,u),dm()===0&&Lt(c,i),fm(),l&&(Sf(o,i,u),Mf(o,u,i)),r!==null&&Tf(i,u),v}function C(){let t=ye();Ed()?ym():(t=t.parent,br(t,!1));let e=t;gm(e)&&mm(),hm();let n=de();return n.firstCreatePass&&(lu(n,t),yd(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Cv(e)&&Jl(n,e,$(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bv(e)&&Jl(n,e,$(),e.stylesWithoutHost,!1),C}function De(t,e,n,r){return v(t,e,n,r),C(),De}var aw=(t,e,n,r,i,o)=>(eu(!0),gf(r,i,Tm()));function Ct(){return $()}var no="en-US";var uw=no;function cw(t){typeof t=="string"&&(uw=t.toLowerCase().replace(/_/g,"-"))}function J(t,e,n,r){let i=$(),o=de(),s=ye();return ih(o,i,i[X],s,t,e,r),J}function lw(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ar],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ih(t,e,n,r,i,o,s){let a=Ga(r),c=t.firstCreatePass&&kf(t),l=e[ae],d=Ff(e),f=!0;if(r.type&3||s){let y=He(r,e),V=s?s(y):y,S=d.length,pe=s?Pe=>s(Ke(Pe[r.index])):r.index,rt=null;if(!s&&a&&(rt=lw(t,e,i,r.index)),rt!==null){let Pe=rt.__ngLastListenerFn__||rt;Pe.__ngNextListenerFn__=o,rt.__ngLastListenerFn__=o,f=!1}else{o=id(r,e,l,o,!1);let Pe=n.listen(V,i,o);d.push(o,Pe),c&&c.push(i,pe,S,S+1)}}else o=id(r,e,l,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let y=p.length;if(y)for(let V=0;V<y;V+=2){let S=p[V],pe=p[V+1],Fe=e[S][pe].subscribe(o),ze=d.length;if(d.push(o,Fe),c){let Kn=typeof Fe=="function"?ze+1:-(ze+1);c.push(i,r.index,ze,Kn)}}}}function rd(t,e,n,r){try{return Ze(6,e,n),n(r)!==!1}catch(i){return Vf(t,i),!1}finally{Ze(7,e,n)}}function id(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Dt(t.index,e):e;Cu(a);let u=rd(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=rd(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function W(t=1){return Sm(t)}function Mu(t,e,n){return oh(t,"",e,"",n),Mu}function oh(t,e,n,r,i){let o=$(),s=eh(o,e,n,r);if(s!==Ht){let a=de(),u=Xa();yu(a,u,o,t,s,o[X],i,!1)}return oh}function Sr(t,e,n){TD(t,e,n)}function On(t){let e=$(),n=de(),r=Id();Ya(r+1);let i=Iu(n,r);if(t.dirty&&sm(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=ND(e,r);t.reset(o,xm),t.notifyOnChanges()}return!0}return!1}function Rn(){return MD($(),Id())}function Su(t){let e=Dm();return om(e,_e+t)}function b(t,e=""){let n=$(),r=de(),i=t+_e,o=r.firstCreatePass?go(r,i,1,e,null):r.data[i],s=dw(r,n,o,e,t);n[i]=s,Ja()&&gu(r,n,s,o),br(o,!1)}var dw=(t,e,n,r,i)=>(eu(!0),Uv(e[X],r));function Pn(t){return bt("",t,""),Pn}function bt(t,e,n){let r=$(),i=eh(r,t,e,n);return i!==Ht&&Ny(r,Ut(),i),bt}function Tr(t,e,n){Yf(e)&&(e=e());let r=$(),i=Er();if(Nn(r,i,e)){let o=de(),s=Xa();yu(o,s,r,t,e,r[X],n,!1)}return Tr}function Eo(t,e){let n=Yf(t);return n&&t.set(e),n}function Ar(t,e){let n=$(),r=de(),i=ye();return ih(r,n,n[X],i,t,e),Ar}function fw(t,e,n){let r=de();if(r.firstCreatePass){let i=vt(t);ja(n,r.data,r.blueprint,i,!0),ja(e,r.data,r.blueprint,i,!1)}}function ja(t,e,n,r,i){if(t=ce(t),Array.isArray(t))for(let o=0;o<t.length;o++)ja(t[o],e,n,r,i);else{let o=de(),s=$(),a=ye(),u=Dn(t)?t:ce(t.provide),c=Gd(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Dn(t)||!t.multi){let h=new kt(c,i,B),p=Zs(u,e,i?l:l+f,d);p===-1?(la(qi(a,s),o,u),qs(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Zs(u,e,l+f,d),p=Zs(u,e,l,l+f),y=h>=0&&n[h],V=p>=0&&n[p];if(i&&!V||!i&&!y){la(qi(a,s),o,u);let S=gw(i?pw:hw,n.length,i,r,c);!i&&V&&(n[p].providerFactory=S),qs(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=sh(n[i?p:h],c,!i&&r);qs(o,t,h>-1?h:p,S)}!i&&r&&V&&n[p].componentProviders++}}}function qs(t,e,n,r){let i=Dn(e),o=av(e);if(i||o){let u=(o?ce(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function sh(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hw(t,e,n,r){return Ua(this.multi,[])}function pw(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Vt(n,n[_],this.providerFactory.index,r);o=a.slice(0,s),Ua(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Ua(i,o);return o}function Ua(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gw(t,e,n,r,i){let o=new kt(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,sh(o,i,r&&!n),o}function Io(t,e=[]){return n=>{n.providersResolver=(r,i)=>fw(r,i?i(t):t,e)}}var mw=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Bd(!1,r.type),o=i.length>0?_u([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(k(Me))});let t=e;return t})();function xe(t){wo("NgStandalone"),t.getStandaloneInjector=e=>e.get(mw).getOrCreateStandaloneInjector(t)}var _o=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ah=new A("");function Gt(t){return!!t&&typeof t.then=="function"}function uh(t){return!!t&&typeof t.subscribe=="function"}var ch=new A(""),lh=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=m(ch,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Gt(s))r.push(s);else if(uh(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tu=new A("");function vw(){Jc(()=>{throw new D(600,!1)})}function yw(t){return t.isBoundToModule}function Dw(t,e,n){try{let r=n();return Gt(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(uf),this.afterRenderEffectManager=m(Qf),this.componentTypes=[],this.components=[],this.isStable=m(Co).hasPendingTasks.pipe(R(r=>!r)),this._injector=m(Me)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ki;if(!this._injector.get(lh).done){let h=!o&&fd(r),p=!1;throw new D(405,p)}let a;o?a=r:a=this._injector.get(Do).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=yw(a)?void 0:this._injector.get(yt),c=i||a.selector,l=a.create(Tn.NULL,[],c,u),d=l.location.nativeElement,f=l.injector.get(ah,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ys(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===Wf)throw new D(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Qs(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Qs(s))&&(i.execute(),!this._views.some(({_lView:s})=>Qs(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[w]|=1024):r[w]&64?s=0:s=1,Gf(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ys(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Tu,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ys(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new D(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ys(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qs(t){return Za(t)}var Ba=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Au=(()=>{let e=class e{compileModuleSync(r){return new xa(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=hd(r),s=pf(o.declarations).reduce((a,u)=>{let c=Ot(u);return c&&a.push(new yr(c)),a},[]);return new Ba(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ww=(()=>{let e=class e{constructor(){this.zone=m(Z),this.applicationRef=m(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cw(t){return[{provide:Z,useFactory:t},{provide:yn,multi:!0,useFactory:()=>{let e=m(ww,{optional:!0});return()=>e.initialize()}},{provide:yn,multi:!0,useFactory:()=>{let e=m(_w);return()=>{e.initialize()}}},{provide:uf,useFactory:bw}]}function bw(){let t=m(Z),e=m(ut);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ew(t){let e=Cw(()=>new Z(Iw(t)));return uo([[],e])}function Iw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _w=(()=>{let e=class e{constructor(){this.subscription=new Q,this.initialized=!1,this.zone=m(Z),this.pendingTasks=m(Co)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mw(){return typeof $localize<"u"&&$localize.locale||no}var xu=new A("",{providedIn:"root",factory:()=>m(xu,x.Optional|x.SkipSelf)||Mw()});var dh=new A("");var Li=null;function Sw(t=[],e){return Tn.create({name:e,providers:[{provide:co,useValue:"platform"},{provide:dh,useValue:new Set([()=>Li=null])},...t]})}function Tw(t=[]){if(Li)return Li;let e=Sw(t);return Li=e,vw(),Aw(e),e}function Aw(t){t.get(ru,null)?.forEach(n=>n())}function fh(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Tw(r),o=[Ew(),...n||[]],a=new Ji({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Z);return u.run(()=>{a.resolveInjectorInitializers();let c=a.get(ut,null),l;u.runOutsideAngular(()=>{l=u.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(dh);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),Dw(c,u,()=>{let h=a.get(lh);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(xu,no);cw(p||no);let y=a.get(xr);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function Mo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var gh=null;function ft(){return gh}function mh(t){gh??=t}var So=class{};var Ne=new A(""),vh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(Ow),providedIn:"platform"});let t=e;return t})();var Ow=(()=>{let e=class e extends vh{constructor(){super(),this._doc=m(Ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ft().getBaseHref(this._doc)}onPopState(r){let i=ft().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ft().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function yh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hh(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function zt(t){return t&&t[0]!=="?"?"?"+t:t}var Ao=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(Dh),providedIn:"root"});let t=e;return t})(),Rw=new A(""),Dh=(()=>{let e=class e extends Ao{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+zt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+zt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+zt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(k(vh),k(Rw,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nr=(()=>{let e=class e{constructor(r){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=kw(hh(ph(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+zt(i))}normalize(r){return e.stripTrailingSlash(Fw(this._basePath,ph(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=zt,e.joinWithSlash=yh,e.stripTrailingSlash=hh,e.\u0275fac=function(i){return new(i||e)(k(Ao))},e.\u0275prov=E({token:e,factory:()=>Pw(),providedIn:"root"});let t=e;return t})();function Pw(){return new Nr(k(Ao))}function Fw(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ph(t){return t.replace(/\/index.html$/,"")}function kw(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function wh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ch="browser",Vw="server";function Ou(t){return t===Vw}var To=class{};var Fu=class extends So{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ku=class t extends Fu{static makeCurrent(){mh(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$w();return n==null?null:jw(n)}resetBaseElement(){Or=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wh(document.cookie,e)}},Or=null;function $w(){return Or=Or||document.querySelector("base"),Or?Or.getAttribute("href"):null}function jw(t){return new URL(t,document.baseURI).pathname}var Uw=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Vu=new A(""),_h=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new D(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(k(Vu),k(Z))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),xo=class{constructor(e){this._doc=e}},Ru="ng-app-id",Mh=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ou(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ru}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Ru),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ru,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(k(Ne),k(nu),k(iu,8),k(_n))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Pu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$u=/%COMP%/g,Sh="%COMP%",Bw=`_nghost-${Sh}`,Hw=`_ngcontent-${Sh}`,Ww=!0,Gw=new A("",{providedIn:"root",factory:()=>Ww});function zw(t){return Hw.replace($u,t)}function qw(t){return Bw.replace($u,t)}function Th(t,e){return e.map(n=>n.replace($u,t))}var bh=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ou(u),this.defaultRenderer=new Rr(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qe.ShadowDom&&(i=P(g({},i),{encapsulation:Qe.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof No?o.applyToHost(r):o instanceof Pr&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Qe.Emulated:s=new No(c,l,i,this.appId,d,a,u,f);break;case Qe.ShadowDom:return new Lu(c,l,r,i,a,u,this.nonce,f);default:s=new Pr(c,l,i,d,a,u,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(k(_h),k(Mh),k(nu),k(Gw),k(Ne),k(_n),k(Z),k(iu))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Rr=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Pu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Eh(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Eh(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Pu[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Pu[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ct.DashCase|ct.Important)?e.style.setProperty(n,r,i&ct.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ct.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ft().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Eh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Lu=class extends Rr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Th(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pr=class extends Rr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Th(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},No=class extends Pr{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=zw(c),this.hostAttr=qw(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Zw=(()=>{let e=class e extends xo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(k(Ne))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ih=["alt","control","meta","shift"],Yw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Kw=(()=>{let e=class e extends xo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ft().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ih.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=Yw[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ih.forEach(a=>{if(a!==o){let u=Qw[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(k(Ne))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Ah(t,e){return fh(g({rootComponent:t},Xw(e)))}function Xw(t){return{appProviders:[...rC,...t?.providers??[]],platformProviders:nC}}function Jw(){ku.makeCurrent()}function eC(){return new ut}function tC(){return Rd(document),document}var nC=[{provide:_n,useValue:Ch},{provide:ru,useValue:Jw,multi:!0},{provide:Ne,useFactory:tC,deps:[]}];var rC=[{provide:co,useValue:"root"},{provide:ut,useFactory:eC,deps:[]},{provide:Vu,useClass:Zw,multi:!0,deps:[Ne,Z,_n]},{provide:Vu,useClass:Kw,multi:!0,deps:[Ne]},bh,Mh,_h,{provide:vr,useExisting:bh},{provide:To,useClass:Uw,deps:[]},[]];var xh=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(k(Ne))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var T="primary",Yr=Symbol("RouteTitle"),Wu=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $n(t){return new Wu(t)}function sC(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function aC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!et(t[n],e[n]))return!1;return!0}function et(t,e){let n=t?Gu(t):void 0,r=e?Gu(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kh(t[i],e[i]))return!1;return!0}function Gu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Vh(t){return t.length>0?t[t.length-1]:null}function _t(t){return Ms(t)?t:Gt(t)?z(Promise.resolve(t)):M(t)}var uC={exact:$h,subset:jh},Lh={exact:cC,subset:lC,ignored:()=>!0};function Nh(t,e,n){return uC[n.paths](t.root,e.root,n.matrixParams)&&Lh[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cC(t,e){return et(t,e)}function $h(t,e,n){if(!Zt(t.segments,e.segments)||!Po(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$h(t.children[r],e.children[r],n))return!1;return!0}function lC(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kh(t[n],e[n]))}function jh(t,e,n){return Uh(t,e,e.segments,n)}function Uh(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zt(i,n)||e.hasChildren()||!Po(i,n,r))}else if(t.segments.length===n.length){if(!Zt(t.segments,n)||!Po(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jh(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Zt(t.segments,i)||!Po(t.segments,i,r)||!t.children[T]?!1:Uh(t.children[T],e,o,r)}}function Po(t,e,n){return e.every((r,i)=>Lh[n](t[i].parameters,r.parameters))}var Et=class{constructor(e=new j([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$n(this.queryParams),this._queryParamMap}toString(){return hC.serialize(this)}},j=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}},qt=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$n(this.parameters),this._parameterMap}toString(){return Hh(this)}};function dC(t,e){return Zt(t,e)&&t.every((n,r)=>et(n.parameters,e[r].parameters))}function Zt(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fC(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===T&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==T&&(n=n.concat(e(i,r)))}),n}var vc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Vo,providedIn:"root"});let t=e;return t})(),Vo=class{parse(e){let n=new qu(e);return new Et(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fr(e.root,!0)}`,r=mC(e.queryParams),i=typeof e.fragment=="string"?`#${pC(e.fragment)}`:"";return`${n}${r}${i}`}},hC=new Vo;function Fo(t){return t.segments.map(e=>Hh(e)).join("/")}function Fr(t,e){if(!t.hasChildren())return Fo(t);if(e){let n=t.children[T]?Fr(t.children[T],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==T&&r.push(`${i}:${Fr(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fC(t,(r,i)=>i===T?[Fr(t.children[T],!1)]:[`${i}:${Fr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[T]!=null?`${Fo(t)}/${n[0]}`:`${Fo(t)}/(${n.join("//")})`}}function Bh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oo(t){return Bh(t).replace(/%3B/gi,";")}function pC(t){return encodeURI(t)}function zu(t){return Bh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ko(t){return decodeURIComponent(t)}function Oh(t){return ko(t.replace(/\+/g,"%20"))}function Hh(t){return`${zu(t.path)}${gC(t.parameters)}`}function gC(t){return Object.entries(t).map(([e,n])=>`;${zu(e)}=${zu(n)}`).join("")}function mC(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Oo(n)}=${Oo(i)}`).join("&"):`${Oo(n)}=${Oo(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vC=/^[^\/()?;#]+/;function ju(t){let e=t.match(vC);return e?e[0]:""}var yC=/^[^\/()?;=#]+/;function DC(t){let e=t.match(yC);return e?e[0]:""}var wC=/^[^=?&#]+/;function CC(t){let e=t.match(wC);return e?e[0]:""}var bC=/^[^&#]+/;function EC(t){let e=t.match(bC);return e?e[0]:""}var qu=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[T]=new j(e,n)),r}parseSegment(){let e=ju(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new qt(ko(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ju(this.remaining);i&&(r=i,this.capture(r))}e[ko(n)]=ko(r)}parseQueryParam(e){let n=CC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EC(this.remaining);s&&(r=s,this.capture(r))}let i=Oh(n),o=Oh(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ju(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=T);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[T]:new j([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function Wh(t){return t.segments.length>0?new j([],{[T]:t}):t}function Gh(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Gh(i);if(r===T&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new j(t.segments,e);return IC(n)}function IC(t){if(t.numberOfChildren===1&&t.children[T]){let e=t.children[T];return new j(t.segments.concat(e.segments),e.children)}return t}function jn(t){return t instanceof Et}function _C(t,e,n=null,r=null){let i=zh(t);return qh(i,e,n,r)}function zh(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new j(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Wh(r);return e??i}function qh(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uu(i,i,i,n,r);let o=MC(e);if(o.toRoot())return Uu(i,i,new j([],{}),n,r);let s=SC(o,i,t),a=s.processChildren?Lr(s.segmentGroup,s.index,o.commands):Yh(s.segmentGroup,s.index,o.commands);return Uu(i,s.segmentGroup,a,n,r)}function Lo(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ur(t){return typeof t=="object"&&t!=null&&t.outlets}function Uu(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=Zh(t,e,n);let a=Wh(Gh(s));return new Et(a,o,i)}function Zh(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Zh(o,e,n)}),new j(t.segments,r)}var $o=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lo(r[0]))throw new D(4003,!1);let i=r.find(Ur);if(i&&i!==Vh(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MC(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $o(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $o(n,e,r)}var Vn=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function SC(t,e,n){if(t.isAbsolute)return new Vn(e,!0,0);if(!n)return new Vn(e,!1,NaN);if(n.parent===null)return new Vn(n,!0,0);let r=Lo(t.commands[0])?0:1,i=n.segments.length-1+r;return TC(n,i,t.numberOfDoubleDots)}function TC(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Vn(r,!1,i-o)}function AC(t){return Ur(t[0])?t[0].outlets:{[T]:t}}function Yh(t,e,n){if(t??=new j([],{}),t.segments.length===0&&t.hasChildren())return Lr(t,e,n);let r=xC(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new j(t.segments.slice(0,r.pathIndex),{});return o.children[T]=new j(t.segments.slice(r.pathIndex),t.children),Lr(o,0,i)}else return r.match&&i.length===0?new j(t.segments,{}):r.match&&!t.hasChildren()?Zu(t,e,n):r.match?Lr(t,0,i):Zu(t,e,n)}function Lr(t,e,n){if(n.length===0)return new j(t.segments,{});{let r=AC(n),i={};if(Object.keys(r).some(o=>o!==T)&&t.children[T]&&t.numberOfChildren===1&&t.children[T].segments.length===0){let o=Lr(t.children[T],e,n);return new j(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Yh(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new j(t.segments,i)}}function xC(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ur(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ph(u,c,s))return o;r+=2}else{if(!Ph(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zu(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ur(o)){let u=NC(o.outlets);return new j(r,u)}if(i===0&&Lo(n[0])){let u=t.segments[e];r.push(new qt(u.path,Rh(n[0]))),i++;continue}let s=Ur(o)?o.outlets[T]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Lo(a)?(r.push(new qt(s,Rh(a))),i+=2):(r.push(new qt(s,{})),i++)}return new j(r,{})}function NC(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zu(new j([],{}),0,r))}),e}function Rh(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ph(t,e,n){return t==n.path&&et(e,n.parameters)}var $r="imperative",se=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(se||{}),Re=class{constructor(e,n){this.id=e,this.url=n}},Br=class extends Re{constructor(e,n,r="imperative",i=null){super(e,n),this.type=se.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Re{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Oe||{}),Yu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yu||{}),It=class extends Re{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Re{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=se.NavigationSkipped}},Hr=class extends Re{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jo=class extends Re{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qu=class extends Re{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ku=class extends Re{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xu=class extends Re{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ju=class extends Re{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class{constructor(e){this.route=e,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tc=class{constructor(e){this.route=e,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nc=class{constructor(e){this.snapshot=e,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rc=class{constructor(e){this.snapshot=e,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ic=class{constructor(e){this.snapshot=e,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oc=class{constructor(e){this.snapshot=e,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wr=class{},Gr=class{constructor(e){this.url=e}};var sc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zo,this.attachRef=null}},zo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new sc,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uo=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ac(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ac(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=uc(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uc(e,this._root).map(n=>n.value)}};function ac(t,e){if(t===e.value)return e;for(let n of e.children){let r=ac(t,n);if(r)return r}return null}function uc(t,e){if(t===e.value)return[e];for(let n of e.children){let r=uc(t,n);if(r.length)return r.unshift(e),r}return[]}var we=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function kn(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bo=class extends Uo{constructor(e,n){super(e),this.snapshot=n,Dc(this,e)}toString(){return this.snapshot.toString()}};function Qh(t){let e=OC(t),n=new G([new qt("",{})]),r=new G({}),i=new G({}),o=new G({}),s=new G(""),a=new Un(n,r,o,s,i,T,t,e.root);return a.snapshot=e.root,new Bo(new we(a,[]),e)}function OC(t){let e={},n={},r={},i="",o=new zr([],e,r,i,n,T,t,null,{});return new Ho("",new we(o,[]))}var Un=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(R(c=>c[Yr]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(e=>$n(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(e=>$n(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),t.params),data:g(g({},e.data),t.data),resolve:g(g(g(g({},t.data),e.data),i?.data),t._resolvedData)}:r={params:g({},t.params),data:g({},t.data),resolve:g(g({},t.data),t._resolvedData??{})},i&&Xh(i)&&(r.resolve[Yr]=i.title),r}var zr=class{get title(){return this.data?.[Yr]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$n(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$n(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ho=class extends Uo{constructor(e,n){super(n),this.url=e,Dc(this,n)}toString(){return Kh(this._root)}};function Dc(t,e){e.value._routerState=t,e.children.forEach(n=>Dc(t,n))}function Kh(t){let e=t.children.length>0?` { ${t.children.map(Kh).join(", ")} } `:"";return`${t.value}${e}`}function Bu(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,et(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),et(e.params,n.params)||t.paramsSubject.next(n.params),aC(e.url,n.url)||t.urlSubject.next(n.url),et(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cc(t,e){let n=et(t.params,e.params)&&dC(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cc(t.parent,e.parent))}function Xh(t){return typeof t.title=="string"||t.title===null}var wc=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=T,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.parentContexts=m(zo),this.location=m(xn),this.changeDetector=m(Wt),this.environmentInjector=m(Me),this.inputBinder=m(Cc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new lc(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sn]});let t=e;return t})(),lc=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Un?this.route:e===zo?this.childContexts:this.parent.get(e,n)}},Cc=new A("");function RC(t,e,n){let r=qr(t,e._root,n?n._root:void 0);return new Bo(r,e)}function qr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=PC(t,e,n);return new we(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>qr(t,a)),s}}let r=FC(e.value),i=e.children.map(o=>qr(t,o));return new we(r,i)}}function PC(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return qr(t,r,i);return qr(t,r)})}function FC(t){return new Un(new G(t.url),new G(t.params),new G(t.queryParams),new G(t.fragment),new G(t.data),t.outlet,t.component,t)}var Jh="ngNavigationCancelingError";function ep(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=jn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tp(!1,Oe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tp(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Jh]=!0,n.cancellationCode=e,n}function kC(t){return np(t)&&jn(t.url)}function np(t){return!!t&&t[Jh]}var VC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["ng-component"]],standalone:!0,features:[xe],decls:1,vars:0,template:function(i,o){i&1&&De(0,"router-outlet")},dependencies:[wc],encapsulation:2});let t=e;return t})();function LC(t,e){return t.providers&&!t._injector&&(t._injector=_u(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bc(t){let e=t.children&&t.children.map(bc),n=e?P(g({},t),{children:e}):g({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==T&&(n.component=VC),n}function tt(t){return t.outlet||T}function $C(t,e){let n=t.filter(r=>tt(r)===e);return n.push(...t.filter(r=>tt(r)!==e)),n}function Qr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jC=(t,e,n,r)=>R(i=>(new dc(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),dc=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bu(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=kn(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=kn(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new oc(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rc(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Bu(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bu(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Qr(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Wo=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ln=class{constructor(e,n){this.component=e,this.route=n}};function UC(t,e,n){let r=t._root,i=e?e._root:null;return kr(r,i,n,[r.value])}function BC(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hn(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pd(t)?t:e.get(t):r}function kr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=kn(e);return t.children.forEach(s=>{HC(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jr(a,n.getContext(s),i)),i}function HC(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=WC(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Wo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?kr(t,e,a?a.children:null,r,i):kr(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ln(a.outlet.component,s))}else s&&jr(e,a,i),i.canActivateChecks.push(new Wo(r)),o.component?kr(t,null,a?a.children:null,r,i):kr(t,null,n,r,i);return i}function WC(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zt(t.url,e.url)||!et(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cc(t,e)||!et(t.queryParams,e.queryParams);case"paramsChange":default:return!cc(t,e)}}function jr(t,e,n){let r=kn(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?jr(s,e.children.getContext(o),n):jr(s,null,n):jr(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ln(e.outlet.component,i)):n.canDeactivateChecks.push(new Ln(null,i)):n.canDeactivateChecks.push(new Ln(null,i))}function Kr(t){return typeof t=="function"}function GC(t){return typeof t=="boolean"}function zC(t){return t&&Kr(t.canLoad)}function qC(t){return t&&Kr(t.canActivate)}function ZC(t){return t&&Kr(t.canActivateChild)}function YC(t){return t&&Kr(t.canDeactivate)}function QC(t){return t&&Kr(t.canMatch)}function rp(t){return t instanceof it||t?.name==="EmptyError"}var Ro=Symbol("INITIAL_VALUE");function Bn(){return Le(t=>Ti(t.map(e=>e.pipe(ot(1),Os(Ro)))).pipe(R(e=>{for(let n of e)if(n!==!0){if(n===Ro)return Ro;if(n===!1||n instanceof Et)return n}return!0}),Ve(e=>e!==Ro),ot(1)))}function KC(t,e){return K(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(P(g({},n),{guardsResult:!0})):XC(s,r,i,t).pipe(K(a=>a&&GC(a)?JC(r,o,t,e):M(a)),R(a=>P(g({},n),{guardsResult:a})))})}function XC(t,e,n,r){return z(t).pipe(K(i=>i0(i.component,i.route,n,e,r)),qe(i=>i!==!0,!0))}function JC(t,e,n,r){return z(e).pipe(un(i=>an(t0(i.route.parent,r),e0(i.route,r),r0(t,i.path,n),n0(t,i.route,n))),qe(i=>i!==!0,!0))}function e0(t,e){return t!==null&&e&&e(new ic(t)),M(!0)}function t0(t,e){return t!==null&&e&&e(new nc(t)),M(!0)}function n0(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Ai(()=>{let s=Qr(e)??n,a=Hn(o,s),u=qC(a)?a.canActivate(e,t):Bt(s,()=>a(e,t));return _t(u).pipe(qe())}));return M(i).pipe(Bn())}function r0(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BC(s)).filter(s=>s!==null).map(s=>Ai(()=>{let a=s.guards.map(u=>{let c=Qr(s.node)??n,l=Hn(u,c),d=ZC(l)?l.canActivateChild(r,t):Bt(c,()=>l(r,t));return _t(d).pipe(qe())});return M(a).pipe(Bn())}));return M(o).pipe(Bn())}function i0(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let u=Qr(e)??i,c=Hn(a,u),l=YC(c)?c.canDeactivate(t,e,n,r):Bt(u,()=>c(t,e,n,r));return _t(l).pipe(qe())});return M(s).pipe(Bn())}function o0(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=Hn(s,t),u=zC(a)?a.canLoad(e,n):Bt(t,()=>a(e,n));return _t(u)});return M(o).pipe(Bn(),ip(r))}function ip(t){return bs(ee(e=>{if(jn(e))throw ep(t,e)}),R(e=>e===!0))}function s0(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=Hn(s,t),u=QC(a)?a.canMatch(e,n):Bt(t,()=>a(e,n));return _t(u)});return M(o).pipe(Bn(),ip(r))}var Zr=class{constructor(e){this.segmentGroup=e||null}},Go=class extends Error{constructor(e){super(),this.urlTree=e}};function Fn(t){return sn(new Zr(t))}function a0(t){return sn(new D(4e3,!1))}function u0(t){return sn(tp(!1,Oe.GuardRejected))}var fc=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[T])return a0(e.redirectTo);i=i.children[T]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Go(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Et(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new j(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},hc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c0(t,e,n,r,i){let o=Ec(t,e,n);return o.matched?(r=LC(e,r),s0(r,e,n,i).pipe(R(s=>s===!0?o:g({},hc)))):M(o)}function Ec(t,e,n){if(e.path==="**")return l0(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?g({},hc):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sC)(n,t,e);if(!i)return g({},hc);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?g(g({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l0(t){return{matched:!0,parameters:t.length>0?Vh(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Fh(t,e,n,r){return n.length>0&&h0(t,n,r)?{segmentGroup:new j(e,f0(r,new j(n,t.children))),slicedSegments:[]}:n.length===0&&p0(t,n,r)?{segmentGroup:new j(t.segments,d0(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new j(t.segments,t.children),slicedSegments:n}}function d0(t,e,n,r){let i={};for(let o of n)if(qo(t,e,o)&&!r[tt(o)]){let s=new j([],{});i[tt(o)]=s}return g(g({},r),i)}function f0(t,e){let n={};n[T]=e;for(let r of t)if(r.path===""&&tt(r)!==T){let i=new j([],{});n[tt(r)]=i}return n}function h0(t,e,n){return n.some(r=>qo(t,e,r)&&tt(r)!==T)}function p0(t,e,n){return n.some(r=>qo(t,e,r))}function qo(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function g0(t,e,n,r){return tt(t)!==r&&(r===T||!qo(e,n,t))?!1:Ec(e,t,n).matched}function m0(t,e,n){return e.length===0&&!t.children[n]}var pc=class{};function v0(t,e,n,r,i,o,s="emptyOnly"){return new gc(t,e,n,r,i,s,o).recognize()}var y0=31,gc=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=Fh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(R(n=>{let r=new zr([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},T,this.rootComponentType,null,{}),i=new we(r,n),o=new Ho("",i),s=_C(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,T).pipe(pt(r=>{if(r instanceof Go)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zr?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=yc(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(R(o=>o instanceof we?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return z(i).pipe(un(o=>{let s=r.children[o],a=$C(n,o);return this.processSegmentGroup(e,a,s,o)}),Ns((o,s)=>(o.push(...s),o)),gt(null),xs(),K(o=>{if(o===null)return Fn(r);let s=op(o);return D0(s),M(s)}))}processSegment(e,n,r,i,o,s){return z(n).pipe(un(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(pt(u=>{if(u instanceof Zr)return M(null);throw u}))),qe(a=>!!a),pt(a=>{if(rp(a))return m0(r,i,o)?M(new pc):Fn(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return g0(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Fn(i):Fn(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=Ec(n,i,o);if(!a)return Fn(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>y0&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(K(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=c0(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Le(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Le(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new zr(l,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,C0(r),tt(r),r.component??r._loadedComponent??null,r,b0(r)),{segmentGroup:p,slicedSegments:y}=Fh(n,l,d,u);if(y.length===0&&p.hasChildren())return this.processChildren(c,u,p).pipe(R(S=>S===null?null:new we(h,S)));if(u.length===0&&y.length===0)return M(new we(h,[]));let V=tt(r)===o;return this.processSegment(c,u,p,y,V?T:o,!0).pipe(R(S=>new we(h,S instanceof we?[S]:[])))}))):Fn(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):o0(e,n,r,this.urlSerializer).pipe(K(i=>i?this.configLoader.loadChildren(e,n).pipe(ee(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):u0(n))):M({routes:[],injector:e})}};function D0(t){t.sort((e,n)=>e.value.outlet===T?-1:n.value.outlet===T?1:e.value.outlet.localeCompare(n.value.outlet))}function w0(t){let e=t.value.routeConfig;return e&&e.path===""}function op(t){let e=[],n=new Set;for(let r of t){if(!w0(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=op(r.children);e.push(new we(r.value,i))}return e.filter(r=>!n.has(r))}function C0(t){return t.data||{}}function b0(t){return t.resolve||{}}function E0(t,e,n,r,i,o){return K(s=>v0(t,e,n,r,s.extractedUrl,i,o).pipe(R(({state:a,tree:u})=>P(g({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function I0(t,e){return K(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of sp(u))s.add(c);let a=0;return z(s).pipe(un(u=>o.has(u)?_0(u,r,t,e):(u.data=yc(u,u.parent,t).resolve,M(void 0))),ee(()=>a++),cn(1),K(u=>a===s.size?M(n):be))})}function sp(t){let e=t.children.map(n=>sp(n)).flat();return[t,...e]}function _0(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Xh(i)&&(o[Yr]=i.title),M0(o,t,e,r).pipe(R(s=>(t._resolvedData=s,t.data=yc(t,t.parent,n).resolve,null)))}function M0(t,e,n,r){let i=Gu(t);if(i.length===0)return M({});let o={};return z(i).pipe(K(s=>S0(t[s],e,n,r).pipe(qe(),ee(a=>{o[s]=a}))),cn(1),As(o),pt(s=>rp(s)?be:sn(s)))}function S0(t,e,n,r){let i=Qr(e)??r,o=Hn(t,i),s=o.resolve?o.resolve(e,n):Bt(i,()=>o(e,n));return _t(s)}function Hu(t){return Le(e=>{let n=t(e);return n?z(n).pipe(R(()=>e)):M(e)})}var ap=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===T);return i}getResolvedTitleForRoute(r){return r.data[Yr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(T0),providedIn:"root"});let t=e;return t})(),T0=(()=>{let e=class e extends ap{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(k(xh))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ic=new A("",{providedIn:"root",factory:()=>({})}),_c=new A(""),A0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(Au)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_t(r.loadComponent()).pipe(R(up),ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),er(()=>{this.componentLoaders.delete(r)})),o=new on(i,()=>new me).pipe(rn());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=x0(i,this.compiler,r,this.onLoadEndListener).pipe(er(()=>{this.childrenLoaders.delete(i)})),a=new on(s,()=>new me).pipe(rn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x0(t,e,n,r){return _t(t.loadChildren()).pipe(R(up),K(i=>i instanceof Dr||Array.isArray(i)?M(i):z(e.compileModuleAsync(i))),R(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_c,[],{optional:!0,self:!0}).flat()),{routes:s.map(bc),injector:o}}))}function N0(t){return t&&typeof t=="object"&&"default"in t}function up(t){return N0(t)?t.default:t}var Mc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(O0),providedIn:"root"});let t=e;return t})(),O0=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),R0=new A("");var P0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=m(A0),this.environmentInjector=m(Me),this.urlSerializer=m(vc),this.rootContexts=m(zo),this.location=m(Nr),this.inputBindingEnabled=m(Cc,{optional:!0})!==null,this.titleStrategy=m(ap),this.options=m(Ic,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(Mc),this.createViewTransition=m(R0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new ec(o)),i=o=>this.events.next(new tc(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(P(g(g({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new G({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$r,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(s=>s.id!==0),R(s=>P(g({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Le(s=>{this.currentTransition=s;let a=!1,u=!1;return M(s).pipe(ee(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?P(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Le(c=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new Qt(c.id,this.urlSerializer.serialize(c.rawUrl),f,Yu.IgnoredSameUrlNavigation)),c.resolve(null),be}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(Le(f=>{let h=this.transitions?.getValue();return this.events.next(new Br(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?be:Promise.resolve(f)}),E0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ee(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=P(g({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new jo(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:y,extras:V}=c,S=new Br(f,this.urlSerializer.serialize(h),p,y);this.events.next(S);let pe=Qh(this.rootComponentType).snapshot;return this.currentTransition=s=P(g({},c),{targetSnapshot:pe,urlAfterRedirects:h,extras:P(g({},V),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new Qt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Yu.IgnoredByUrlHandlingStrategy)),c.resolve(null),be}}),ee(c=>{let l=new Qu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),R(c=>(this.currentTransition=s=P(g({},c),{guards:UC(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),KC(this.environmentInjector,c=>this.events.next(c)),ee(c=>{if(s.guardsResult=c.guardsResult,jn(c.guardsResult))throw ep(this.urlSerializer,c.guardsResult);let l=new Ku(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ve(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Oe.GuardRejected),!1)),Hu(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(ee(l=>{let d=new Xu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Le(l=>{let d=!1;return M(l).pipe(I0(this.paramsInheritanceStrategy,this.environmentInjector),ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Oe.NoDataFromResolver)}}))}),ee(l=>{let d=new Ju(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Hu(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ee(h=>{d.component=h}),R(()=>{})));for(let h of d.children)f.push(...l(h));return f};return Ti(l(c.targetSnapshot.root)).pipe(gt(null),ot(1))}),Hu(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?z(d).pipe(R(()=>s)):M(s)}),R(c=>{let l=RC(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=P(g({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),ee(()=>{this.events.next(new Wr)}),jC(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ot(1),ee({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Rs(this.transitionAbortSubject.pipe(ee(c=>{throw c}))),er(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Oe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pt(c=>{if(u=!0,np(c))this.events.next(new It(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),kC(c)?this.events.next(new Gr(c.url)):s.resolve(!1);else{this.events.next(new Hr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return be}))}))}cancelNavigationTransition(r,i,o){let s=new It(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F0(t){return t!==$r}var k0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(V0),providedIn:"root"});let t=e;return t})(),mc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},V0=(()=>{let e=class e extends mc{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_r(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(L0),providedIn:"root"});let t=e;return t})(),L0=(()=>{let e=class e extends cp{constructor(){super(...arguments),this.location=m(Nr),this.urlSerializer=m(vc),this.options=m(Ic,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(Mc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Et,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Br)this.stateMemento=this.createStateMemento();else if(r instanceof Qt)this.rawUrlTree=i.initialUrl;else if(r instanceof jo){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Wr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof It&&(r.code===Oe.GuardRejected||r.code===Oe.NoDataFromResolver)?this.restoreHistory(i):r instanceof Hr?this.restoreHistory(i,!0):r instanceof Yt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=g(g({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=g(g({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_r(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vr||{});function $0(t,e){t.events.pipe(Ve(n=>n instanceof Yt||n instanceof It||n instanceof Hr||n instanceof Qt),R(n=>n instanceof Yt||n instanceof Qt?Vr.COMPLETE:(n instanceof It?n.code===Oe.Redirect||n.code===Oe.SupersededByNewNavigation:!1)?Vr.REDIRECTING:Vr.FAILED),Ve(n=>n!==Vr.REDIRECTING),ot(1)).subscribe(()=>{e()})}function j0(t){throw t}var U0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lp=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=m(_o),this.stateManager=m(cp),this.options=m(Ic,{optional:!0})||{},this.pendingTasks=m(Co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(P0),this.urlSerializer=m(vc),this.location=m(Nr),this.urlHandlingStrategy=m(Mc),this._events=new me,this.errorHandler=this.options.errorHandler||j0,this.navigated=!1,this.routeReuseStrategy=m(k0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(_c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Cc,{optional:!0}),this.eventsSubscription=new Q,this.isNgZoneEnabled=m(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof It&&i.code!==Oe.Redirect&&i.code!==Oe.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Yt)this.navigated=!0;else if(i instanceof Gr){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||F0(o.source)};this.scheduleNavigation(a,$r,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}W0(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$r,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=g({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(bc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=zh(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return qh(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=jn(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$r,null,i)}navigate(r,i={skipLocationChange:!1}){return H0(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=g({},U0):i===!1?o=g({},B0):o=i,jn(r))return Nh(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Nh(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{u=f,c=h});let d=this.pendingTasks.add();return $0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H0(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new D(4008,!1)}function W0(t){return!(t instanceof Wr)&&!(t instanceof Gr)}var G0=new A("");function dp(t,...e){return uo([{provide:_c,multi:!0,useValue:t},[],{provide:Un,useFactory:z0,deps:[lp]},{provide:Tu,multi:!0,useFactory:q0},e.map(n=>n.\u0275providers)])}function z0(t){return t.routerState.root}function q0(){let t=m(Tn);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(lp),i=t.get(Z0);t.get(Y0)===1&&r.initialNavigation(),t.get(Q0,null,x.Optional)?.setUpPreloading(),t.get(G0,null,x.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Z0=new A("",{factory:()=>new me}),Y0=new A("",{providedIn:"root",factory:()=>1});var Q0=new A("");var fp=[];var hp={providers:[dp(fp)]};var Ex=new TextDecoder,pp=new TextEncoder,K0=["#CMDOK","#CMDER","#CMDUN","#CMDSM","#CMDSY"];function Ce(t,e){return t.toString(16).toUpperCase().padStart(e,"0")}function Mt(t){return t.reduce((e,n)=>e+Ce(n,2),"")}function Sc(t){return Uint8Array.from(t.match(/.{2}/g).map(e=>parseInt(e,16)))}function Tc(t,e){t.match(/.{2}/g).map((n,r)=>e[r]=Number.parseInt(n,16))}function gp(t,e){if(K0.includes(t))return;let n;if(t[0]=="#")n=pp.encode([t].concat(e).join("	")+"	");else if(t[0]=="$")n=pp.encode([t.slice(1)]+e.join(","));else return;let r=n.reduce((i,o)=>o==33?i:i^o);return Ce(r,2)}var Xr=class{constructor({encoded:e,type:n,args:r}){if(this.args=r||[],!e){if(!n)throw new Error("Missing message type");this.type=n,this.checksum_calc=gp(n,this.args);return}if(e[0]=="#"){let i=e.replace(/[\r\n]*$/,"").split("	");this.type=i[0],i.length>1&&(this.checksum_recv=i.at(-1)),i.length>2&&(this.args=i.slice(1,-1))}else if(e[0]=="$"){this.type=e.slice(0,5);let i=e.slice(5).replace(/[\r\n]*$/,"").split("*");this.checksum_recv=i[1],this.args=i[0].split(",")}else throw new Error(`Invalid message ${e}`);this.checksum_calc=gp(this.type,this.args)}toString(){if(!this.checksum_calc)return this.type+`\r
`;let e=this.checksum_recv||this.checksum_calc;if(this.type[0]=="#")return[this.type].concat(this.args).concat([e]).join("	")+`\r
`;if(this.type[0]=="$")return[this.type]+this.args.join(",")+`*${e}\r
`;throw new Error(`Unknown message type ${this.type}`)}validate(){return!this.checksum_calc||!this.checksum_recv||this.checksum_calc==this.checksum_recv}};var Zp=ug(mp());var Nc=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},We=new Map,Kt="___parser_",Ge={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Zo={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Yo={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},Jr=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=Zo[e],i=Yo[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Ge[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return We.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!We.has(n.type)&&!(n.type in Ge))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!We.has(o)&&!(o in Ge))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!We.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Ge)&&!We.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new Nc(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${Kt+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${Kt+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=We.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Ge).indexOf(this.type)>=0)e=Ge[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Ge[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(l=0)=>{let d=0;for(let f=l;f<e.bitFields.length;f++){let h=e.bitFields[f].options.length;if(d+h>32)break;d+=h}return d},o=l=>(l<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),l=8):l<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),l=16):l<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),l=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),l=32),e.pushCode(`offset += ${l/8};`),l),s=0,a=this.endian==="be",u=0,c=0;e.bitFields.forEach((l,d)=>{let f=l.options.length;if(f>c){if(c){let y=-1>>>32-c;e.pushCode(`${l.varName} = (${r} & 0x${y.toString(16)}) << ${f-c};`),f-=c}s=0,c=u=o(i(d)-c)}let h=a?u-s-f:s,p=-1>>>32-f;e.pushCode(`${l.varName} ${f<l.options.length?"|=":"="} ${r} >> ${h} & 0x${p.toString(16)};`),l.options.length===32&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),s+=f,c-=f}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let u=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${u}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${u}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,c=typeof u=="string";if(c?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(We.get(i)){let l=e.generateTmpVariable();if(e.pushCode(`var ${l} = ${Kt+i}(offset, {`),e.useContextVariables){let d=e.generateVariable();e.pushCode(`$parent: ${d},`),e.pushCode(`$root: ${d}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${l}.result; offset = ${l}.offset;`),i!==this.alias&&e.addReference(i)}else{let l=Zo[i],d=Yo[i];e.pushCode(`var ${a} = dataView.get${l}(offset, ${d});`),e.pushCode(`offset += ${Ge[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let l=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${l};`),e.pushCode(`${a}.$root = ${l}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(c?e.pushCode(`${s}[${a}.${u}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let l=this.options.readUntil,d=e.addImport(l);e.pushCode(`while (!${d}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(We.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${Kt+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=Zo[r],s=Yo[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${Ge[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(We.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${Kt+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let u=this.options.readUntil,c=e.generateTmpVariable(),l=e.generateTmpVariable();e.pushCode(`var ${c} = offset;`),e.pushCode(`var ${l} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${l} = dataView.getUint8(offset);`);let d=e.addImport(u);e.pushCode(`if (${d}.call(${e.generateVariable()}, ${l}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${c}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let u=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${u});`),e.pushCode(`offset += ${u};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(We.has(this.options.type)){let u=e.generateTmpVariable();e.pushCode(`var ${u} = ${Kt+this.options.type}(0);`),e.pushCode(`${n} = ${u}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(We.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${Kt+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Ge).indexOf(this.options.type)>=0){let s=Zo[n],a=Yo[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${Ge[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};function vp(t){return t.reduce((e,n)=>e^n)}var nt=function(t){return t[t.UTC=1]="UTC",t[t.VALID=2]="VALID",t[t.LAT=4]="LAT",t[t.LON=8]="LON",t[t.HGT=16]="HGT",t[t.SPD=32]="SPD",t[t.TRK=64]="TRK",t[t.HDOP=1024]="HDOP",t[t.NSAT=4096]="NSAT",t}(nt||{});function X0(t){let e=0,n=new Jr().endianness("little"),r=[],i=[];return t&nt.UTC&&n.int32("utc"),t&nt.VALID&&n.uint8("valid"),t&nt.LAT&&n.floatle("lat"),t&nt.LON&&n.floatle("lon"),t&nt.HGT&&n.int16("hgt"),t&nt.SPD&&n.uint16("spd"),t&nt.TRK&&n.int16("trk"),t&nt.HDOP&&n.int16("hdop"),t&nt.NSAT&&n.uint8("nsat"),n.uint8("checksum"),n}var yp=function(t){return t[t.INVALID=0]="INVALID",t[t.SPS=1]="SPS",t[t.DGPS=2]="DGPS",t[t.PPS=3]="PPS",t[t.RTK=4]="RTK",t[t.FRTK=5]="FRTK",t[t.ESTIMATED=6]="ESTIMATED",t[t.MANUAL=7]="MANUAL",t[t.SIMULATOR=8]="SIMULATOR",t}(yp||{}),ei=class extends Error{};function J0(t,e=!0){if(t.length<16)throw new Error("Insufficient data for parsing header");let r=new Jr().endianness("little").uint16("sectorId").uint8("loggingType").uint8("loggingMode").uint16("logContent").uint16("unknown_06").uint16("intervalSetting").uint16("distanceSetting").uint16("speedSetting").uint8("unknown_0e").uint8("checksum").parse(t.slice(0,16));if(e&&r.checksum!==vp(t.slice(0,15)))throw new ei(`Invalid header checksum in ${Mt(t)}`);return r}function eb(t,e,n=!0){if(e.slice(0,6).every(i=>i===255)||e.slice(0,6).every(i=>i===0))return;let r=t.parse(e);if(n&&r.checksum!==vp(e.slice(0,e.length-1)))throw new ei(`Checksum mismatch in waypoint data: ${Mt(e)}`);return r}function tb(t,e){let n=X0(t.logContent),r=[];for(let i=0;i<e.length;i+=n.sizeOf())try{let o=eb(n,e.slice(i,i+n.sizeOf()),!0);r.push(o)}catch(o){if(o instanceof ei)break;throw o}return r}var Oc=class{constructor(e,n=!0){this.waypoints=[],this.header=J0(e.slice(0,18),n),this.mask=e.slice(17,60),this.unknown_3c=e.slice(60,64),this.waypoints=tb(this.header,e.slice(64))}};function nb(t,e){if(t.push(`<trkpt lat="${e.lat}" lon="${e.lon}">`),t.push(`<ele>${e.hgt}</ele>`),t.push(`<time>${new Date(e.utc*1e3).toISOString().replace("Z","")}</time>`),e.spd||e.trk){let n={};e.spd&&(n.spd=e.spd),e.trk&&(n.trk=e.trk),t.push(`<cmt>${JSON.stringify(n)}</cmt>`)}e.valid==yp.DGPS&&t.push("<fix>dgps</fix>"),e.nsat&&t.push(`<sat>${e.nsat}</sat>`),e.hdop&&t.push(`<hdop>${e.hdop}</hdop>`),t.push("</trkpt>")}var Qo=class{constructor(e,n=!0){this.sectors=[];for(let r=0;r+4096<=e.length;r+=4096){let i=e.slice(r,r+4096);this.sectors.push(new Oc(i,n))}}getGpx(){let e=[`<?xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1" creator="Nghx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://www.topografix.com/GPX/1/1"
 xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd">
`];e.push("<trk><trkseg>");for(let n of this.sectors)for(let r of n.waypoints)r&&nb(e,r);return e.push("</trkseg></trk></gpx>"),e}};var rb=new TextDecoder("utf-8"),Ko=class{constructor(e){this.reader=e,this.chunk="",this.pos=0}_getNextChunk(){return U(this,null,function*(){let e=yield this.reader.read();if(e.done)throw new Error("Stream is done");this.chunk=rb.decode(e.value),this.pos=0})}read(e){return U(this,null,function*(){for(var n="";;)if(this.pos+e-n.length<=this.chunk.length){let r=this.pos+e-n.length;return n+=this.chunk.slice(this.pos,r),this.pos=r,n}else n+=this.chunk.slice(this.pos),yield this._getNextChunk()})}readline(){return U(this,null,function*(){for(var e="";;){if(this.pos<this.chunk.length){let n=this.chunk.indexOf(`
`,this.pos);if(n!=-1)return e+=this.chunk.slice(this.pos,n+1),this.pos=n+1,e;e+=this.chunk.slice(this.pos)}yield this._getNextChunk()}})}flush(){this.chunk=""}};function Dp(t,e){let n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *(N|S) *(\d+)\.(\d+) *$/):t.toUpperCase().match(/^ *(\d+) *(E|W) *(\d+)\.(\d+) *$/);if(n){let[r,i,o,s,a]=n,u=a.slice(0,4).padEnd(4,"0"),c=Number.parseInt(i,10),l=Number.parseInt(s,10)*1e4+Number.parseInt(u,10);return{deg:c,dir:o,min:l}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *° *(\d+)\.(\d+) *['‘’`]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) *° *(\d+)\.(\d+) *['‘’`]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=s.slice(0,4).padEnd(4,"0"),c=Number.parseInt(i,10),l=Number.parseInt(o,10)*1e4+Number.parseInt(u,10);return{deg:c,dir:a,min:l}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *° *(\d+) *['‘’`] *(\d+|\d+\.\d+) *["“”]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) *° *(\d+) *['‘’`] *(\d+|\d+\.\d+) *["“”]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=Number.parseInt(i,10),c=Number.parseInt(o,10)*1e4+Math.round(Number.parseFloat(s)*1e4/60);return{deg:u,dir:a,min:c}}if(n=t.match(/^ *([+-]?\d+(\.\d+)?) *$/),n){let[r,i]=n,o=Number.parseFloat(i),s;e=="lat"?s=o>0?"N":"S":s=o>0?"E":"W";let a=Math.floor(Math.abs(o)),u=Math.round((Math.abs(o)-a)*60*1e4);return{deg:a,dir:s,min:u}}}function Xo(t){let e=Dp(t,"lat");if(e)return{lat_deg:e.deg,lat_dir:e.dir,lat_min:e.min}}function Jo(t){let e=Dp(t,"lon");if(e)return{lon_deg:e.deg,lon_dir:e.dir,lon_min:e.min}}var Wn=class{constructor(e){this.wp=e}toString(){let e=`${this.wp.id}, ${this.wp.name}, ${this.wp.lat_deg}${this.wp.lat_dir}${this.wp.lat_min}, ${this.wp.lon_deg}${this.wp.lon_dir}${this.wp.lon_min}`;return this.wp.address?`@0x${Ce(this.wp.address,4)}: `+e:e}getLat(){let e=Math.floor(this.wp.lat_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lat_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lat_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lat_dir}`}getLon(){let e=Math.floor(this.wp.lon_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lon_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lon_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lon_dir}`}getMapLink(){let e=(this.wp.lat_dir=="N"?1:-1)*(this.wp.lat_deg+this.wp.lat_min/1e4/60),n=(this.wp.lon_dir=="E"?1:-1)*(this.wp.lon_deg+this.wp.lon_min/1e4/60);return`https://www.google.com/maps/place/${e},${n}`}fillConfig(e,n){if(!this.wp.address)throw new Error("The waypoint must have an address");let r=this.wp.address-n;if(r<0||r>e.length-32)throw new Error(`Waypoint address ${this.wp.address} (offset ${r}) is out of bounds`);let i=this.wp.name;i.length>=15&&(console.log(`Waypoint name too long ${i}, truncating`),i=i.substring(0,14));let o=e.subarray(r,r+32);this.wp.dsc_origin?o.set(this.wp.dsc_origin):o.set([255,255,255,255,240]),o[31]=this.wp.id;let s=o.subarray(16,31),{written:a}=ib.encodeInto(i,s);s.fill(255,a,15);let u=o.subarray(5,9),c=this.wp.lat_deg.toString(10).padStart(2,"0");if(c+=this.wp.lat_min.toString(10).padStart(6,"0"),c.length!=8)throw new Error(`Encoded waypoint lat too long ${c}`);Tc(c,u),o[9]=this.wp.lat_dir.charCodeAt(0);let l=o.subarray(10,15),d=this.wp.lon_deg.toString(10).padStart(4,"0");if(d+=this.wp.lon_min.toString(10).padStart(6,"0"),d.length!=10)throw new Error(`Encoded waypoint lon too long ${d}`);Tc(d,l),o[15]=this.wp.lon_dir.charCodeAt(0)}},Rc=new TextDecoder,ib=new TextEncoder;function wp(t,e){let n=t[31];if(n==255)return;for(var r=30;r>=16&&[0,255,32].includes(t[r]);r-=1);let i=Rc.decode(t.slice(16,r+1)),o=Mt(t.slice(5,9)),s=Number(o.slice(0,2)),a=Number(o.slice(2,9)),u=Rc.decode(t.slice(9,10)),c=Mt(t.slice(10,15)).slice(1),l=Number(c.slice(0,3)),d=Number(c.slice(3,10)),f=Rc.decode(t.slice(15,16));return new Wn({id:n,name:i,lat_deg:s,lat_min:a,lat_dir:u,lon_deg:l,lon_min:d,lon_dir:f,address:e,dsc_origin:t.slice(0,5)})}function es({name:t,lat:e,lon:n}){if(t.length==0)throw new Error("No name was provided");if(t.length>=15)throw new Error(`Waypoint name too long "${t}". Consider "${t.trim().substring(0,14).trim()}".`);if(!/^[-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]+$/.test(t)){let o=/[^-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]/g,s=t.matchAll(o),a="";for(let u of s){let c=u[0];a.includes(c)||(a=a+c)}throw new Error(`Waypoint name cannot contain ${a}`)}let r=Xo(e),i=Jo(n);if(!r||!i)throw new Error(`Unparseable position ${e} ${n}`);if(r.lat_deg>90||r.lat_deg<0||r.lat_min<0||r.lat_min>60*1e4)throw new Error(`Bad latitude ${e}`);if(i.lon_deg>180||i.lon_deg<0||i.lon_min<0||i.lon_min>60*1e4)throw new Error(`Bad longitude ${n}`);if(!["N","S"].includes(r.lat_dir))throw new Error(`Bad latitude direction in ${e}`);if(!["E","W"].includes(i.lon_dir))throw new Error(`Bad longitude direction in ${n}`);return{lat:r,lon:i}}var ti=32;var ob=new TextDecoder,sb=new TextEncoder,Gn=class{constructor(e){this.route={name:e.name,waypointIds:e.waypointIds.slice()}}fillConfig(e,n,r,i){if(n<0||n>e.length-i)throw new Error(`Waypoint offset ${n} is out of bounds`);let o=this.route.name;o.length>=16&&(console.log(`Route name too long ${o}, truncating`),o=o.substring(0,15));let s=e.subarray(n,n+16),{written:a}=sb.encodeInto(o,s);s.fill(255,a,16);let u=this.route.waypointIds;u.length>r&&(console.log(`Too many waypoints in route (${u.length}), truncating to ${r}`),u=u.slice(0,r));let c=e.subarray(n+16,n+i);for(let[l,d]of u.entries())c[l]=d;c.fill(255,u.length,i-16)}};function Cp(t,e){for(var n=15;n>=0&&[0,255,32].includes(t[n]);n-=1);let r=ob.decode(t.slice(0,n+1));for(var i=e-1;i>=0&&t[16+i]==255;i-=1);if(r==""||i==-1)return;let o=t.subarray(16,16+i+1);return new Gn({name:r,waypointIds:Array.from(o)})}var zn=class{constructor(e,n,r,i){this.deviceConfig=r,this.updateCallback=i,this.dirtyWaypoints=!1,this.dirtyRoutes=!1,this.waypoints=e.slice(),this.routes=Array.from({length:n.length},(o,s)=>new Gn(n[s].route))}maybeUpdateCallback(){this.updateCallback&&this.updateCallback()}deleteWaypoint(e){let n=this.waypoints.findIndex(r=>r.wp.address==e.wp.address);this.waypoints.splice(n,1),this.dirtyWaypoints=!0;for(let r of this.routes){let i=r.route.waypointIds.filter(o=>o!=e.wp.id);i.length!=r.route.waypointIds.length&&(r.route.waypointIds=i,this.dirtyRoutes=!0)}this.routes=this.routes.filter(r=>r.route.waypointIds.length>0),this.maybeUpdateCallback()}editWaypoint(e,n,r,i){if(n.length>15)throw new Error(`Waypoint name too long ${n}`);let o=Xo(r),s=Jo(i);if(!o||!s)throw new Error(`Unparseable position ${r} ${i}`);let a=this.waypoints.findIndex(u=>u.wp.address==e.wp.address);if(a==-1)throw new Error(`Could not find waypoint at ${e.wp.address}`);this.waypoints[a]=new Wn(P(g(g(g({},this.waypoints[a].wp),o),s),{name:n})),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}addWaypoint(e){if(this.waypoints.length>=this.deviceConfig.waypointsNumber)throw new Error("No more room for waypoints");let{lat:n,lon:r}=es(e),i;for(i=1;i<255&&this.waypoints.find(o=>o.wp.id==i);i+=1);this.waypoints.push(new Wn(P(g(g({},n),r),{name:e.name,id:i}))),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}deleteRoute(e){this.routes.splice(e,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}addRoute(e){if(this.routes.length>=this.deviceConfig.routesNumber)throw new Error(`No room for more routes (${this.routes.length})`);return this.routes.push(new Gn({name:e,waypointIds:[]})),this.dirtyRoutes=!0,this.maybeUpdateCallback(),this.routes.length-1}insertWaypointInRoute(e,n,r){let i=this.routes[e].route;if(i.waypointIds.length>=this.deviceConfig.numWaypointsPerRoute)throw new Error(`No room for more waypoints (${i.waypointIds.length})`);i.waypointIds.splice(r,0,n),this.dirtyRoutes=!0,this.maybeUpdateCallback()}deleteWaypointFromRoute(e,n){this.routes[e].route.waypointIds.splice(n,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}swapWaypointsInRoute(e,n,r){if(n==r)return;let i=this.routes[e].route,o=i.waypointIds[n],s=i.waypointIds[r];n<r?(i.waypointIds.splice(r,1,o),i.waypointIds.splice(n,1,s)):(i.waypointIds.splice(n,1,s),i.waypointIds.splice(r,1,o)),this.dirtyRoutes=!0,this.maybeUpdateCallback()}getBinaryWaypointData(e){this.waypoints.sort((i,o)=>i.wp.name.localeCompare(o.wp.name));let n=e;for(let i of this.waypoints)i.wp.address=n,n+=ti;let r=new Uint8Array(ti*this.deviceConfig.waypointsNumber);r.fill(255);for(let i of this.waypoints)i.fillConfig(r,e);return r}getBinaryRouteData(){this.routes.sort((n,r)=>n.route.name.localeCompare(r.route.name));let e=new Uint8Array(this.deviceConfig.routeBytes*this.deviceConfig.routesNumber);e.fill(255);for(let[n,r]of this.routes.entries())r.fillConfig(e,n*this.deviceConfig.routeBytes,this.deviceConfig.numWaypointsPerRoute,this.deviceConfig.routeBytes);return e}};function ts(t,e){return U(this,null,function*(){let n,r=new Promise((i,o)=>{n=setTimeout(()=>o(new Error("Timeout")),e)});return Promise.race([t,r]).then(i=>(clearTimeout(n),i))})}var ns=class{constructor(e){this.dev=e,this.config=new G({}),this._deviceTaskState=new G("idle"),this.deviceTaskState$=this._deviceTaskState.asObservable(),this._progress=new G(0),this.progress$=this._progress.asObservable()}reset(e){this.config.next({}),this._deviceTaskState.next("idle"),this._deviceConfig=e}sendMessage(e,n,r){return U(this,null,function*(){let i=new Xr({type:e,args:n}).toString();r?yield ts(this.dev.write(i),r):yield this.dev.write(i),console.log(`Wrote command ${JSON.stringify(i)}`)})}receiveMessage(e){return U(this,null,function*(){let n;return e?n=yield ts(this.dev.readline(),e):n=yield this.dev.readline(),console.log(`Received line ${n}`),new Xr({encoded:n})})}waitForReady_(){return U(this,null,function*(){let e="";for(;e!="00";){if(this.dev.flushInput(),yield this.sendMessage("#CEPSR",["00"]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge status request");let r=yield this.receiveMessage();if(r.type!="#CEPSD")throw new Error("Device did not return status");e=r.args[0],e!="00"&&console.log(`Waiting for radio, state=${e}`),this.sendMessage("#CMDOK")}})}waitForReady(){return U(this,null,function*(){yield ts(this.waitForReady_(),1e3)})}readConfigMemory(e,n){return U(this,null,function*(){if(yield this.waitForReady(),yield this.sendMessage("#CEPRD",[Ce(e,4),Ce(n,2)]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge read");let i=yield this.receiveMessage();if(i.type!="#CEPDT")throw new Error("Device did not reply with data");return this.sendMessage("#CMDOK"),Sc(i.args[2])})}writeConfigMemory(e,n){return U(this,null,function*(){yield this.waitForReady();let r=Mt(n);if(yield this.sendMessage("#CEPWR",[Ce(e,4),Ce(n.length,2),r]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge write")})}noopConfigCallback(){return()=>this.config.next(this.config.getValue())}readNavInfo(){return U(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't read waypoints from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-read"),this._progress.next(0);let e=64,n=this._deviceConfig.waypointsNumber,r=ti*n,i=this._deviceConfig.routesNumber,o=this._deviceConfig.routeBytes*i,s=this._deviceConfig.waypointsStartAddress,a=new Uint8Array(r);for(let p=0;p<r;p+=e)a.set(yield this.readConfigMemory(s+p,Math.min(r-p,e)),p),this._progress.next(p/(r+o));let u=[];for(var c=0;c<n;c+=1){let p=c*32,y=wp(a.subarray(p,p+32),s+p);y&&u.push(y)}let l=this._deviceConfig.routesStartAddress,d=new Uint8Array(o);for(let p=0;p<o;p+=e)d.set(yield this.readConfigMemory(l+p,Math.min(o-p,e)),p),this._progress.next((r+p)/(r+o));let f=[];for(var h=0;h<i;h++){let p=h*this._deviceConfig.routeBytes,y=Cp(d.subarray(p,p+this._deviceConfig.routeBytes),this._deviceConfig.numWaypointsPerRoute);y&&f.push(y)}this.config.next(P(g({},this.config.getValue()),{waypoints:u,draftWaypoints:new zn(u,f,this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("nav-edit")})}writeNavInfoDraft(){return U(this,null,function*(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't write draft from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-save"),this._progress.next(0);let e=this.config.getValue().draftWaypoints;if(!e){console.log("No draft waypoints"),this._deviceTaskState.next("idle");return}let n=e?.getBinaryWaypointData(this._deviceConfig.waypointsStartAddress);if(!n)throw new Error("Error getting draft binary data");let r=e?.getBinaryRouteData();if(!r)throw new Error("Error getting route binary data");let i=64;for(let o=0;o<n.length;o+=i){let s=this._deviceConfig.waypointsStartAddress+o;yield this.writeConfigMemory(s,n.subarray(o,o+i)),this._progress.next(o/(n.length+r.length))}for(let o=0;o<r.length;o+=i){let s=this._deviceConfig.routesStartAddress+o;yield this.writeConfigMemory(s,r.subarray(o,o+i)),this._progress.next((n.length+o)/(n.length+r.length))}this.config.next(P(g({},this.config.getValue()),{waypoints:e.waypoints,draftWaypoints:new zn(e.waypoints,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")})}cancelNavInfoDraft(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't cancel draft from state ${this._deviceTaskState.getValue()}`);let e=this.config.getValue().waypoints;if(!e){console.log("No waypoints yet"),this._deviceTaskState.next("idle");return}this.config.next(P(g({},this.config.getValue()),{draftWaypoints:new zn(e,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")}waitForGps_(){return U(this,null,function*(){for(;;){this.dev.flushInput(),this.sendMessage("$PMTK",["000"]);let e=yield this.receiveMessage();if(e.type=="$PMTK"&&e.args.length==3&&e.args[0]=="001"&&e.args[1]=="0"&&e.args[2]=="3")return}})}waitForGps(){return U(this,null,function*(){yield ts(this.waitForGps_(),1e3)})}readGpsLog(){return U(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't start reading GPS from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("gpslog-read"),this._progress.next(0),yield this.waitForGps();let e=[];this.sendMessage("$PMTK",["622","1"]);let n=yield this.receiveMessage();if(n.type!="$PMTK"||n.args.length!=3||n.args[0]!="LOX"||n.args[1]!="0")throw new Error(`Unexpected log header ${n.toString()}`);let r=Number(n.args[2]),i=0,o=yield this.receiveMessage();for(;!(o.args.length==2&&o.args[1]=="2");){if(o.type!="$PMTK"||o.args.length<2||o.args[0]!="LOX"||o.args[1]!="1")throw new Error(`Unexpected log line ${o.toString()}`);if(Number(o.args[2])!=i)throw new Error(`Unexpected log line number ${Number(o.args[2])} (was expecting ${i})`);let c=o.args.slice(3).map(Sc);for(let l of c)e.push(l);this._progress.next(i/r),i+=1,o=yield this.receiveMessage()}i!=r&&console.log(`Got ${i} lines, was expecting ${r}. Continuing anyway.`);let s=e.reduce((c,l)=>c+l.length,0),a=new Uint8Array(s),u=0;for(let c of e)a.set(c,u),u+=c.length;if(n=yield this.receiveMessage(),n.type!="$PMTK"||n.args.length!=3||n.args[0]!="001"||n.args[1]!="622"||n.args[2]!="3")throw new Error(`Unexpected ReadLog acknowledgement ${n.toString()}`);this.config.next(P(g({},this.config.getValue()),{gpslog:a})),this._deviceTaskState.next("idle")})}};var qn=function(t){return t[t.Unknown=0]="Unknown",t[t.CP=1]="CP",t[t.NMEA=2]="NMEA",t}(qn||{}),bp=[{name:"HX890",usbFilter:{usbVendorId:9898,usbProductId:30},waypointsStartAddress:55040,waypointsNumber:250,routesStartAddress:50944,routesNumber:20,numWaypointsPerRoute:31,routeBytes:64},{name:"HX870",usbFilter:{usbVendorId:9898,usbProductId:16},waypointsStartAddress:17152,waypointsNumber:200,routesStartAddress:23552,routesNumber:20,numWaypointsPerRoute:16,routeBytes:32}],Zn=(()=>{let e=class e{constructor(){this._connectionState=new G("disconnected"),this.connectionState$=this._connectionState.asObservable(),this.encoder=new TextEncoder,this.decoder=new TextDecoder("utf-8"),this.mode=qn.Unknown,this.configProtocol=new ns(this),this.serial=navigator.serial}getConnectionState(){return this._connectionState.getValue()}connect(){return U(this,null,function*(){if(this.getConnectionState()!="disconnected")throw new Error(`Cannot connect from state: ${this.getConnectionState()}`);try{this._connectionState.next("connecting"),this.port=yield this.serial.requestPort({filters:bp.map(o=>o.usbFilter)});let r=this.port.getInfo(),i=bp.find(o=>o.usbFilter.usbProductId==r.usbProductId&&o.usbFilter.usbVendorId==r.usbVendorId);if(console.log(`Found device ${i.name}`),this.port.addEventListener("disconnect",o=>this.disconnect()),yield this.port.open({baudRate:9600}),this._streamReader=this.port?.readable?.getReader(),this.reader=new Ko(this._streamReader),this.writer=this.port?.writable?.getWriter(),yield this.detectDeviceMode(),this.mode!=qn.CP)throw new Error("Device must be in CP mode");this._connectionState.next("connected"),this.configProtocol.reset(i),console.log("Connected")}catch(r){console.error(`Error while connecting: ${r}`),yield this.disconnect()}})}disconnect(){return U(this,null,function*(){try{yield this.writer?.close(),yield this._streamReader?.cancel(),this._streamReader?.releaseLock(),this.writer?.releaseLock(),yield this.port?.close(),yield this.port?.forget(),this.port=void 0,this._streamReader=void 0,this.reader=void 0,this.writer=void 0,this.mode=qn.Unknown,this.configProtocol.config.next({}),console.log("Disconnected")}catch(r){this.port=void 0,console.error(`Error while disconnecting: ${r}`)}this._connectionState.next("disconnected")})}write(r){return U(this,null,function*(){yield this.writer?.write(this.encoder.encode(r))})}read(r){return U(this,null,function*(){return yield this.reader.read(r)})}readline(){return U(this,null,function*(){return yield this.reader.readline()})}flushInput(){this.reader&&this.reader.flush()}detectDeviceMode(){return U(this,null,function*(){yield this.write("P?");let r=yield this.read(1);r[0]=="@"?this.mode=qn.CP:(r[0]=="P"||r[0]=="$")&&(this.mode=qn.NMEA),console.log(`Detected mode ${this.mode}`)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ab(t,e){if(t&1&&b(0),t&2){let n=W(2);bt(" Reading GPS log (",n.progressPct,"%) ")}}function ub(t,e){if(t&1&&b(0),t&2){let n=W(2);bt(" Reading waypoints (",n.progressPct,"%) ")}}function cb(t,e){if(t&1&&b(0),t&2){let n=W(2);bt(" Saving waypoints (",n.progressPct,"%) ")}}function lb(t,e){if(t&1&&(v(0,"div",1)(1,"div",2)(2,"div",3),le(3,ab,1,1)(4,ub,1,1)(5,cb,1,1),C(),De(6,"div",4),C()()),t&2){let n=W();Y(3),Ae(3,n.state=="gpslog-read"?3:n.state=="nav-read"?4:n.state=="nav-save"?5:-1)}}var Fc=(()=>{let e=class e{constructor(r){this.state="idle",this.progressPct=0,this.configProtocol=r.configProtocol}ngOnInit(){this.configProtocol.deviceTaskState$.subscribe(r=>this.state=r),this.configProtocol.progress$.subscribe(r=>this.progressPct=Math.floor(r*100))}};e.\u0275fac=function(i){return new(i||e)(B(Zn))},e.\u0275cmp=Se({type:e,selectors:[["busy-state-modal"]],standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"message"],[1,"spinner"]],template:function(i,o){i&1&&le(0,lb,7,1,"div",0),i&2&&Ae(0,o.state=="gpslog-read"||o.state=="nav-read"||o.state=="nav-save"?0:-1)},styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border-radius:5px;min-width:200px;display:flex;flex-direction:column;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{width:64px;height:64px;position:relative;border-radius:50%;border:2px solid transparent;border-top-color:#aaa;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}"]});let t=e;return t})();var xp=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(An),B(Xe))},e.\u0275dir=Te({type:e});let t=e;return t})(),db=(()=>{let e=class e extends xp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_r(e)))(o||e)}})(),e.\u0275dir=Te({type:e,features:[wt]});let t=e;return t})(),Np=new A("");var fb={provide:Np,useExisting:Mn(()=>cs),multi:!0};function hb(){let t=ft()?ft().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pb=new A(""),cs=(()=>{let e=class e extends xp{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hb())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(An),B(Xe),B(pb,8))},e.\u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&J("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Io([fb]),wt]});let t=e;return t})();var Op=new A(""),Rp=new A("");function Pp(t){return t!=null}function Fp(t){return Gt(t)?z(t):t}function kp(t){let e={};return t.forEach(n=>{e=n!=null?g(g({},e),n):e}),Object.keys(e).length===0?null:e}function Vp(t,e){return e.map(n=>n(t))}function gb(t){return!t.validate}function Lp(t){return t.map(e=>gb(e)?e:n=>e.validate(n))}function mb(t){if(!t)return null;let e=t.filter(Pp);return e.length==0?null:function(n){return kp(Vp(n,e))}}function Vc(t){return t!=null?mb(Lp(t)):null}function vb(t){if(!t)return null;let e=t.filter(Pp);return e.length==0?null:function(n){let r=Vp(n,e).map(Fp);return Ts(r).pipe(R(kp))}}function Lc(t){return t!=null?vb(Lp(t)):null}function Ep(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function yb(t){return t._rawValidators}function Db(t){return t._rawAsyncValidators}function kc(t){return t?Array.isArray(t)?t:[t]:[]}function is(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ip(t,e){let n=kc(e);return kc(t).forEach(i=>{is(n,i)||n.push(i)}),n}function _p(t,e){return kc(e).filter(n=>!is(t,n))}var os=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qn=class extends os{get formDirective(){return null}get path(){return null}},oi=class extends os{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ss=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wb={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pN=P(g({},wb),{"[class.ng-submitted]":"isSubmitted"}),$p=(()=>{let e=class e extends ss{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(oi,2))},e.\u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&bo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[wt]});let t=e;return t})(),jp=(()=>{let e=class e extends ss{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Qn,10))},e.\u0275dir=Te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&bo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[wt]});let t=e;return t})();var ni="VALID",rs="INVALID",Yn="PENDING",ri="DISABLED";function Up(t){return(ls(t)?t.validators:t)||null}function Cb(t){return Array.isArray(t)?Vc(t):t||null}function Bp(t,e){return(ls(e)?e.asyncValidators:t)||null}function bb(t){return Array.isArray(t)?Lc(t):t||null}function ls(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Eb(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function Ib(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new D(1002,"")})}var as=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ni}get invalid(){return this.status===rs}get pending(){return this.status==Yn}get disabled(){return this.status===ri}get enabled(){return this.status!==ri}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ip(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ip(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_p(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_p(e,this._rawAsyncValidators))}hasValidator(e){return is(this._rawValidators,e)}hasAsyncValidator(e){return is(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yn,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ri,this.errors=null,this._forEachChild(r=>{r.disable(P(g({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(P(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ni,this._forEachChild(r=>{r.enable(P(g({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(P(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ni||this.status===Yn)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ri:ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yn,this._hasOwnPendingAsyncValidator=!0;let n=Fp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?ri:this.errors?rs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yn)?Yn:this._anyControlsHaveStatus(rs)?rs:ni}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ls(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cb(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bb(this._rawAsyncValidators)}},us=class extends as{constructor(e,n,r){super(Up(n),Bp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ib(this,!0,e),Object.keys(e).forEach(r=>{Eb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $c=new A("CallSetDisabledState",{providedIn:"root",factory:()=>jc}),jc="always";function _b(t,e){return[...e.path,t]}function Hp(t,e,n=jc){Wp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sb(t,e),Ab(t,e),Tb(t,e),Mb(t,e)}function Mp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Mb(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Wp(t,e){let n=yb(t);e.validator!==null?t.setValidators(Ep(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Db(t);e.asyncValidator!==null?t.setAsyncValidators(Ep(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Mp(e._rawValidators,i),Mp(e._rawAsyncValidators,i)}function Sb(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Gp(t,e)})}function Tb(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Gp(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Gp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ab(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xb(t,e){t==null,Wp(t,e)}function Nb(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ob(t){return Object.getPrototypeOf(t.constructor)===db}function Rb(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Pb(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===cs?n=o:Ob(o)?r=o:i=o}),i||r||n||null}var Fb={provide:Qn,useExisting:Mn(()=>Uc)},ii=Promise.resolve(),Uc=(()=>{let e=class e extends Qn{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ne,this.form=new us({},Vc(r),Lc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ii.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Hp(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ii.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ii.then(()=>{let i=this._findContainer(r.path),o=new us({});xb(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ii.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ii.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Rb(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(Op,10),B(Rp,10),B($c,8))},e.\u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&J("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[ve.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Io([Fb]),wt]});let t=e;return t})();function Sp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tp(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kb=class extends as{constructor(e=null,n,r){super(Up(n),Bp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ls(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Tp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Tp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Vb={provide:oi,useExisting:Mn(()=>Bc)},Ap=Promise.resolve(),Bc=(()=>{let e=class e extends oi{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new kb,this._registered=!1,this.name="",this.update=new ne,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Pb(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Nb(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Ap.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Mo(i);Ap.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?_b(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Qn,9),B(Op,10),B(Rp,10),B(Np,10),B(Wt,8),B($c,8))},e.\u0275dir=Te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ve.None,"disabled","isDisabled"],model:[ve.None,"ngModel","model"],options:[ve.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Io([Vb]),wt,Sn]});let t=e;return t})(),zp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Lb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=In({});let t=e;return t})();var qp=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$c,useValue:r.callSetDisabledState??jc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Cn({type:e}),e.\u0275inj=In({imports:[Lb]});let t=e;return t})();function jb(t,e){t&1&&b(0," Edit waypoint ")}function Ub(t,e){t&1&&b(0," Add waypoint ")}function Bb(t,e){if(t&1&&(v(0,"div",13),b(1),C()),t&2){let n=W(2);Y(),Pn(n.errorMsg)}}function Hb(t,e){if(t&1){let n=Ct();v(0,"div",1)(1,"h2"),le(2,jb,1,0)(3,Ub,1,0),C(),le(4,Bb,2,1,"div",2),v(5,"form",3,4),J("ngSubmit",function(){ie(n);let i=Su(6),o=W();return oe(o.onSubmit(i))}),v(7,"div",5),b(8," Name: "),v(9,"input",6),Ar("ngModelChange",function(i){ie(n);let o=W();return Eo(o.wpFormData.name,i)||(o.wpFormData.name=i),oe(i)}),C()(),v(10,"div",5),b(11," Latitude: "),v(12,"input",7),Ar("ngModelChange",function(i){ie(n);let o=W();return Eo(o.wpFormData.lat,i)||(o.wpFormData.lat=i),oe(i)}),C()(),v(13,"div",5),b(14," Longitude: "),v(15,"input",8),Ar("ngModelChange",function(i){ie(n);let o=W();return Eo(o.wpFormData.lon,i)||(o.wpFormData.lon=i),oe(i)}),C()(),v(16,"div",9),b(17," Supported formats for latitude / longitude: "),v(18,"li"),b(19,"Degrees and decimal minutes (DMM), e.g. 12 N 34.5678, 12\xB0 34.5678' N"),C(),v(20,"li"),b(21,`Degrees, minutes, seconds (DMS), e.g. 12\xB0 34' 34.1" N`),C(),v(22,"li"),b(23,"Decimal degrees (DD), e.g. 12.57613 (number sign indicates direction)"),C()(),v(24,"div",10)(25,"button",11),J("click",function(){ie(n);let i=Su(6),o=W();return oe(o.onCancel(i))}),b(26,"Cancel"),C(),v(27,"button",12),b(28,"Done"),C()()()()}if(t&2){let n=W();Y(2),Ae(2,n.editing?2:3),Y(2),Ae(4,n.errorMsg?4:-1),Y(5),Tr("ngModel",n.wpFormData.name),Y(3),Tr("ngModel",n.wpFormData.lat),Y(3),Tr("ngModel",n.wpFormData.lon)}}var Hc=(()=>{let e=class e{constructor(){this.editing=!1,this.shown=!0}ngOnInit(){}onSubmit(r){if(!this.wpFormData){this.shown=!1;return}var i=this.wpFormData;try{let o=es(i)}catch(o){this.errorMsg=o.toString();return}this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,console.log(`Submitted form ${r}`),this.callbackFn&&this.callbackFn(i)}onCancel(r){return console.log(`Canceled form ${r}`),this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,!1}editWaypoint(r,i){this.shown=!0,this.editing=!0,this.wpFormData={name:r.wp.name,lat:r.getLat(),lon:r.getLon()},this.callbackFn=i}createWaypoint(r){this.editing=!1,this.wpFormData={name:"",lat:"",lon:""},this.shown=!0,this.callbackFn=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["waypoint-editor"]],standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","dialog"],[1,"dialog"],["class","error"],[3,"ngSubmit"],["f","ngForm"],[1,"input"],["type","text","name","wpName","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLat","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLon","autocomplete","off",3,"ngModel","ngModelChange"],[1,"desc"],[1,"buttons"],["type","button",3,"click"],["type","submit"],[1,"error"]],template:function(i,o){i&1&&le(0,Hb,29,5,"div",0),i&2&&Ae(0,o.shown&&o.wpFormData?0:-1)},dependencies:[qp,zp,cs,$p,jp,Bc,Uc],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:1em;box-shadow:#0000004d 1px 1px 10px;border-radius:5px}h2[_ngcontent-%COMP%]{margin-top:10px}.input[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;flex-direction:row;justify-content:space-between}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:1rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.error[_ngcontent-%COMP%]{background-color:#ffd5d5;font-size:80%;padding:.4rem;color:#8b0000}.desc[_ngcontent-%COMP%]{font-size:80%}"]});let t=e;return t})();function Wb(t,e){t&1&&b(0," No waypoints! ")}function Gb(t,e){if(t&1){let n=Ct();v(0,"tr")(1,"td")(2,"a",9),b(3),C()(),v(4,"td"),b(5),C(),v(6,"td"),b(7),C(),v(8,"td",10),J("click",function(){let o=ie(n).$implicit,s=W(3);return oe(s.draftEditWaypoint(o))}),b(9,"\u270E"),C(),v(10,"td",10),J("click",function(){let o=ie(n).$implicit,s=W(3);return oe(s.draftDeleteWaypoint(o))}),b(11,"\u2716"),C()()}if(t&2){let n=e.$implicit;Y(2),Mu("href",n.getMapLink(),ff),Y(),bt("",n.wp.name," \u2197"),Y(2),Pn(n.getLat()),Y(2),Pn(n.getLon())}}function zb(t,e){if(t&1&&(v(0,"table")(1,"tr")(2,"th"),b(3,"Name"),C(),v(4,"th"),b(5,"Latitude"),C(),v(6,"th"),b(7,"Longitude"),C()(),nh(8,Gb,12,4,"tr",null,th),C()),t&2){let n=W(2);Y(8),rh(n.getDraftWaypoints().waypoints)}}function qb(t,e){if(t&1){let n=Ct();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),le(5,Wb,1,0)(6,zb,10,0),v(7,"button",6),J("click",function(){ie(n);let i=W();return oe(i.draftAddWaypoint())}),b(8,"Add waypoint"),C()()(),De(9,"waypoint-editor"),C(),v(10,"div",7)(11,"button",6),J("click",function(){ie(n);let i=W();return oe(i.draftCancel())}),b(12,"Cancel"),C(),v(13,"button",8),J("click",function(){ie(n);let i=W();return oe(i.saveDraft())}),b(14," Save "),C()()()()}if(t&2){let n=W(),r;Y(5),Ae(5,!((r=n.getDraftWaypoints())==null||r.waypoints==null)&&r.waypoints.length?6:5),Y(8),Mr("disabled",!n.isPendingDraft())}}var Wc=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.shown=!1,this.hex=Ce}ngOnInit(){this.deviceMgr.configProtocol.deviceTaskState$.subscribe(r=>{r=="nav-edit"||r=="nav-save"?this.shown=!0:this.shown=!1}),this.configSubscription=this.deviceMgr.configProtocol.config.asObservable().subscribe()}getDraftWaypoints(){return this.deviceMgr.configProtocol.config.getValue().draftWaypoints}draftEditWaypoint(r){let i=this.getDraftWaypoints();i&&this.waypointEditor.editWaypoint(r,o=>i?.editWaypoint(r,o.name,o.lat,o.lon))}draftDeleteWaypoint(r){let i=this.getDraftWaypoints();i&&i.deleteWaypoint(r)}draftAddWaypoint(){let r=this.getDraftWaypoints();this.waypointEditor.createWaypoint(i=>r?.addWaypoint(i))}draftCancel(){this.deviceMgr.configProtocol.cancelNavInfoDraft()}saveDraft(){this.deviceMgr.configProtocol.writeNavInfoDraft()}isPendingDraft(){return this.getDraftWaypoints()?.dirtyWaypoints}};e.\u0275fac=function(i){return new(i||e)(B(Zn))},e.\u0275cmp=Se({type:e,selectors:[["waypoint-sheet"]],viewQuery:function(i,o){if(i&1&&Sr(Hc,5),i&2){let s;On(s=Rn())&&(o.waypointEditor=s.first)}},standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"contents"],[1,"waypoints"],[1,"list"],[3,"click"],[1,"controls"],[3,"disabled","click"],["target","_blank",3,"href"],[1,"action",3,"click"]],template:function(i,o){i&1&&le(0,qb,15,2,"div",0),i&2&&Ae(0,o.shown?0:-1)},dependencies:[Hc],styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000040}.modal[_ngcontent-%COMP%]{position:fixed;top:30%;left:0%;width:100%;height:70%;background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center}.contents[_ngcontent-%COMP%]{max-width:600px;overflow:auto;flex:1}.waypoints[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{align-self:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:1.5rem}"]});let t=e;return t})();function Zb(t,e){if(t&1){let n=Ct();v(0,"div",3),b(1,' Connect your HX870 or HX890 radio to this computer with a USB cable, and place it in "CP Mode": '),v(2,"ol")(3,"li"),b(4,"Power the device off"),C(),v(5,"li"),b(6,"Press and hold the Menu key"),C(),v(7,"li"),b(8,"While holding the Menu key, press the power button"),C(),v(9,"li"),b(10,"Release both keys when the screen lights up"),C(),v(11,"li"),b(12,"Click Connect"),C()()(),v(13,"button",4),J("click",function(){ie(n);let i=W();return oe(i.deviceMgr.connect())}),b(14," Connect "),C()}if(t&2){let n=W();Y(13),Mr("disabled",n.connectionState==="connecting")}}function Yb(t,e){if(t&1){let n=Ct();v(0,"button",5),J("click",function(){ie(n);let i=W();return oe(i.readWaypoints())}),b(1,"Waypoints"),C(),v(2,"button",5),J("click",function(){ie(n);let i=W();return oe(i.readGpslog())}),b(3,"Download GPS log"),C(),v(4,"button",5),J("click",function(){ie(n);let i=W();return oe(i.deviceMgr.disconnect())}),b(5,"Disconnect"),C()}}var Yp=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.hex=Ce,this.connectionState=r.getConnectionState(),this.config=this.deviceMgr.configProtocol.config,this.deviceTaskState="idle"}ngOnInit(){this.connectionStateSubscription=this.deviceMgr.connectionState$.subscribe(r=>this.connectionState=r),this.configSubscription=this.deviceMgr.configProtocol.config.asObservable().subscribe(),this.deviceMgr.configProtocol.deviceTaskState$.subscribe(r=>this.deviceTaskState=r)}readWaypoints(){return U(this,null,function*(){yield this.deviceMgr.configProtocol.readNavInfo()})}readGpslog(){return U(this,null,function*(){yield this.deviceMgr.configProtocol.readGpsLog();let r=new Qo(this.deviceMgr.configProtocol.config.getValue().gpslog).getGpx(),i=new Blob(r,{type:"application/xml"});(0,Zp.saveAs)(i,"gpslog.gpx")})}};e.\u0275fac=function(i){return new(i||e)(B(Zn))},e.\u0275cmp=Se({type:e,selectors:[["app-device"]],viewQuery:function(i,o){if(i&1&&(Sr(Wc,5),Sr(Fc,5)),i&2){let s;On(s=Rn())&&(o.waypointSheet=s.first),On(s=Rn())&&(o.busyStateModal=s.first)}},standalone:!0,features:[xe],decls:7,vars:1,consts:[[1,"device-panel"],["src","assets/radio.jpeg",1,"device-picture"],[1,"controls"],[1,"desc"],[3,"disabled","click"],[3,"click"]],template:function(i,o){i&1&&(v(0,"div",0),De(1,"img",1),v(2,"div",2),le(3,Zb,15,1)(4,Yb,6,0),C()(),De(5,"waypoint-sheet")(6,"busy-state-modal")),i&2&&(Y(3),Ae(3,o.connectionState!="connected"?3:4))},dependencies:[Fc,Wc],styles:[".device-panel[_ngcontent-%COMP%]{display:flex}.device-picture[_ngcontent-%COMP%]{width:150px;height:150px}.status-lights[_ngcontent-%COMP%]{width:100px;height:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.status-lights[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:14px;border:solid 1px #444;margin:5px;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_on-light{0%{background-color:#1c881c}50%{background-color:#36ae36}to{background-color:#1c881c}}.status-lights[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{background-color:#1c881c;color:#fff;animation-name:_ngcontent-%COMP%_on-light;animation-duration:1s;animation-iteration-count:infinite}.controls[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;align-items:center;justify-content:center}"]});let t=e;return t})();var Qp=(()=>{let e=class e{constructor(){this.title="hxsync"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-root"]],standalone:!0,features:[xe],decls:10,vars:0,consts:[[1,"main"],[1,"content"],[1,"desc"]],template:function(i,o){i&1&&(v(0,"main",0)(1,"div",1)(2,"h1"),b(3,"HxSync"),C(),v(4,"div",2),b(5," With this utility, you'll be able to edit waypoints on your HX870 or HX890, and download its GPS log in GPX format. "),C(),v(6,"div",2),b(7," This experimental utility is not provided by Standard Horizon. Use at your own risk! "),C(),De(8,"app-device"),C()(),De(9,"router-outlet"))},dependencies:[wc,Yp],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem;margin-bottom:1rem}.content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']});let t=e;return t})();Ah(Qp,hp).catch(t=>console.error(t));
