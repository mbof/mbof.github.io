var Gg=Object.create;var Us=Object.defineProperty,Wg=Object.defineProperties,qg=Object.getOwnPropertyDescriptor,Zg=Object.getOwnPropertyDescriptors,Qg=Object.getOwnPropertyNames,Tl=Object.getOwnPropertySymbols,Yg=Object.getPrototypeOf,Nl=Object.prototype.hasOwnProperty,Kg=Object.prototype.propertyIsEnumerable;var Al=(t,e,n)=>e in t?Us(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||={})Nl.call(e,n)&&Al(t,n,e[n]);if(Tl)for(var n of Tl(e))Kg.call(e,n)&&Al(t,n,e[n]);return t},R=(t,e)=>Wg(t,Zg(e));var Jg=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Xg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Qg(e))!Nl.call(t,i)&&i!==n&&Us(t,i,{get:()=>e[i],enumerable:!(r=qg(e,i))||r.enumerable});return t};var em=(t,e,n)=>(n=t!=null?Gg(Yg(t)):{},Xg(e||!t||!t.__esModule?Us(n,"default",{value:t,enumerable:!0}):n,t));var T=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var eg=Jg((il,ol)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof il<"u"?e():(e(),t.FileSaver={})})(il,function(){"use strict";function t(a,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,u,c){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){s(l.response,u,c)},l.onerror=function(){console.error("could not download file")},l.send()}function n(a){var u=new XMLHttpRequest;u.open("HEAD",a,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(u)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,u,c){var l=i.URL||i.webkitURL,d=document.createElement("a");u=u||a.name||"download",d.download=u,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):n(d.href)?e(a,u,c):r(d,d.target="_blank")):(d.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,u,c){if(u=u||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,c),u);else if(n(a))e(a,u,c);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){r(l)})}}:function(a,u,c,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return e(a,u,c);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&f||o)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var D=p.result;D=h?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=D:location=D,l=null},p.readAsDataURL(a)}else{var m=i.URL||i.webkitURL,O=m.createObjectURL(a);l?l.location=O:location.href=O,l=null,setTimeout(function(){m.revokeObjectURL(O)},4e4)}});i.saveAs=s.saveAs=s,typeof ol<"u"&&(ol.exports=s)})});var Ol=null;var Hs=1,zs=Symbol("SIGNAL");function he(t){let e=Ol;return Ol=t,e}var Rl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tm(t){if(!(qs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hs)){if(!t.producerMustRecompute(t)&&!Gs(t)){t.dirty=!1,t.lastCleanEpoch=Hs;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hs}}function Pl(t){return t&&(t.nextProducerIndex=0),he(t)}function Fl(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ws(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Gs(t){Mi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(tm(n),r!==n.version))return!0}return!1}function kl(t){if(Mi(t),qs(t))for(let e=0;e<t.producerNode.length;e++)Ws(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ws(t,e){if(nm(t),Mi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ws(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Mi(i),i.producerIndexOfThis[r]=e}}function qs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rm(){throw new Error}var im=rm;function Vl(t){im=t}function I(t){return typeof t=="function"}function wn(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Si=wn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(I(r))try{r()}catch(o){e=o instanceof Si?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ll(o)}catch(s){e=e??[],s instanceof Si?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Si(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ll(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&mr(n,e)}remove(e){let{_finalizers:n}=this;n&&mr(n,e),e instanceof t&&e._removeParent(this)}};ae.EMPTY=(()=>{let t=new ae;return t.closed=!0,t})();var Zs=ae.EMPTY;function xi(t){return t instanceof ae||t&&"closed"in t&&I(t.remove)&&I(t.add)&&I(t.unsubscribe)}function Ll(t){I(t)?t():t.unsubscribe()}var ze={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cn={setTimeout(t,e,...n){let{delegate:r}=Cn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ti(t){Cn.setTimeout(()=>{let{onUnhandledError:e}=ze;if(e)e(t);else throw t})}function vr(){}var $l=Qs("C",void 0,void 0);function jl(t){return Qs("E",void 0,t)}function Bl(t){return Qs("N",t,void 0)}function Qs(t,e,n){return{kind:t,value:e,error:n}}var Lt=null;function Dn(t){if(ze.useDeprecatedSynchronousErrorHandling){let e=!Lt;if(e&&(Lt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Lt;if(Lt=null,n)throw r}}else t()}function Ul(t){ze.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=t)}var $t=class extends ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xi(e)&&e.add(this)):this.destination=am}static create(e,n,r){return new _n(e,n,r)}next(e){this.isStopped?Ks(Bl(e),this):this._next(e)}error(e){this.isStopped?Ks(jl(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ks($l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},om=Function.prototype.bind;function Ys(t,e){return om.call(t,e)}var Js=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ai(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ai(r)}else Ai(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ai(n)}}},_n=class extends $t{constructor(e,n,r){super();let i;if(I(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ze.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ys(e.next,o),error:e.error&&Ys(e.error,o),complete:e.complete&&Ys(e.complete,o)}):i=e}this.destination=new Js(i)}};function Ai(t){ze.useDeprecatedSynchronousErrorHandling?Ul(t):Ti(t)}function sm(t){throw t}function Ks(t,e){let{onStoppedNotification:n}=ze;n&&Cn.setTimeout(()=>n(t,e))}var am={closed:!0,next:vr,error:sm,complete:vr};var bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ae(t){return t}function Xs(...t){return ea(t)}function ea(t){return t.length===0?Ae:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=cm(n)?n:new _n(n,r,i);return Dn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Hl(r),new r((i,o)=>{let s=new _n({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bn](){return this}pipe(...n){return ea(n)(this)}toPromise(n){return n=Hl(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Hl(t){var e;return(e=t??ze.Promise)!==null&&e!==void 0?e:Promise}function um(t){return t&&I(t.next)&&I(t.error)&&I(t.complete)}function cm(t){return t&&t instanceof $t||um(t)&&xi(t)}function ta(t){return I(t?.lift)}function U(t){return e=>{if(ta(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new na(t,e,n,r,i)}var na=class extends $t{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function En(){return U((t,e)=>{let n=null;t._refCount++;let r=$(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var In=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ta(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ae;let n=this.getSubject();e.add(this.source.subscribe($(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ae.EMPTY)}return e}refCount(){return En()(this)}};var zl=wn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ni(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new zl}next(n){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zs:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,mr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ni(e,n),t})(),Ni=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zs}};var ne=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ke=new G(t=>t.complete());function Gl(t){return t&&I(t.schedule)}function Wl(t){return t[t.length-1]}function Oi(t){return I(Wl(t))?t.pop():void 0}function Et(t){return Gl(Wl(t))?t.pop():void 0}function Zl(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function ql(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function Ql(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{u(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){f.value instanceof jt?Promise.resolve(f.value.v).then(c,l):d(o[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Yl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ql=="function"?ql(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var Ri=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pi(t){return I(t?.then)}function Fi(t){return I(t[bn])}function ki(t){return Symbol.asyncIterator&&I(t?.[Symbol.asyncIterator])}function Vi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Li=lm();function $i(t){return I(t?.[Li])}function ji(t){return Ql(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jt(n.read());if(i)return yield jt(void 0);yield yield jt(r)}}finally{n.releaseLock()}})}function Bi(t){return I(t?.getReader)}function oe(t){if(t instanceof G)return t;if(t!=null){if(Fi(t))return dm(t);if(Ri(t))return fm(t);if(Pi(t))return hm(t);if(ki(t))return Kl(t);if($i(t))return pm(t);if(Bi(t))return gm(t)}throw Vi(t)}function dm(t){return new G(e=>{let n=t[bn]();if(I(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fm(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hm(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ti)})}function pm(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kl(t){return new G(e=>{mm(t,e).catch(n=>e.error(n))})}function gm(t){return Kl(ji(t))}function mm(t,e){var n,r,i,o;return Zl(this,void 0,void 0,function*(){try{for(n=Yl(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ie(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ui(t,e=0){return U((n,r)=>{n.subscribe($(r,i=>Ie(r,t,()=>r.next(i),e),()=>Ie(r,t,()=>r.complete(),e),i=>Ie(r,t,()=>r.error(i),e)))})}function Hi(t,e=0){return U((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jl(t,e){return oe(t).pipe(Hi(e),Ui(e))}function Xl(t,e){return oe(t).pipe(Hi(e),Ui(e))}function ed(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function td(t,e){return new G(n=>{let r;return Ie(n,e,()=>{r=t[Li](),Ie(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}function zi(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Ie(n,e,()=>{let r=t[Symbol.asyncIterator]();Ie(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nd(t,e){return zi(ji(t),e)}function rd(t,e){if(t!=null){if(Fi(t))return Jl(t,e);if(Ri(t))return ed(t,e);if(Pi(t))return Xl(t,e);if(ki(t))return zi(t,e);if($i(t))return td(t,e);if(Bi(t))return nd(t,e)}throw Vi(t)}function re(t,e){return e?rd(t,e):oe(t)}function S(...t){let e=Et(t);return re(t,e)}function Mn(t,e){let n=I(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function ra(t){return!!t&&(t instanceof G||I(t.lift)&&I(t.subscribe))}var ht=wn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function j(t,e){return U((n,r)=>{let i=0;n.subscribe($(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:vm}=Array;function ym(t,e){return vm(e)?t(...e):t(e)}function Gi(t){return j(e=>ym(t,e))}var{isArray:wm}=Array,{getPrototypeOf:Cm,prototype:Dm,keys:_m}=Object;function Wi(t){if(t.length===1){let e=t[0];if(wm(e))return{args:e,keys:null};if(bm(e)){let n=_m(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function bm(t){return t&&typeof t=="object"&&Cm(t)===Dm}function qi(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Zi(...t){let e=Et(t),n=Oi(t),{args:r,keys:i}=Wi(t);if(r.length===0)return re([],e);let o=new G(Em(r,e,i?s=>qi(i,s):Ae));return n?o.pipe(Gi(n)):o}function Em(t,e,n=Ae){return r=>{id(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)id(e,()=>{let c=re(t[u],e),l=!1;c.subscribe($(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function id(t,e,n){t?Ie(n,t,e):e()}function od(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,f=()=>{d&&!u.length&&!c&&e.complete()},h=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let O=!1;oe(n(m,l++)).subscribe($(e,D=>{i?.(D),o?h(D):e.next(D)},()=>{O=!0},void 0,()=>{if(O)try{for(c--;u.length&&c<r;){let D=u.shift();s?Ie(e,s,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe($(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ue(t,e,n=1/0){return I(e)?ue((r,i)=>j((o,s)=>e(r,o,i,s))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),U((r,i)=>od(r,i,t,n)))}function ia(t=1/0){return ue(Ae,t)}function sd(){return ia(1)}function Sn(...t){return sd()(re(t,Et(t)))}function Qi(t){return new G(e=>{oe(t()).subscribe(e)})}function oa(...t){let e=Oi(t),{args:n,keys:r}=Wi(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;oe(n[l]).subscribe($(o,f=>{d||(d=!0,c--),a[l]=f},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?qi(r,a):a),o.complete())}))}});return e?i.pipe(Gi(e)):i}function Ge(t,e){return U((n,r)=>{let i=0;n.subscribe($(r,o=>t.call(e,o,i++)&&r.next(o)))})}function It(t){return U((e,n)=>{let r=null,i=!1,o;r=e.subscribe($(n,void 0,void 0,s=>{o=oe(t(s,It(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ad(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe($(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function xn(t,e){return I(e)?ue(t,e,1):ue(t,1)}function Mt(t){return U((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pt(t){return t<=0?()=>ke:U((e,n)=>{let r=0;e.subscribe($(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sa(t){return j(()=>t)}function Yi(t=Im){return U((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Im(){return new ht}function yr(t){return U((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ge((i,o)=>t(i,o,r)):Ae,pt(1),n?Mt(e):Yi(()=>new ht))}function Tn(t){return t<=0?()=>ke:U((e,n)=>{let r=[];e.subscribe($(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function aa(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ge((i,o)=>t(i,o,r)):Ae,Tn(1),n?Mt(e):Yi(()=>new ht))}function ua(t,e){return U(ad(t,e,arguments.length>=2,!0))}function ca(...t){let e=Et(t);return U((n,r)=>{(e?Sn(t,n,e):Sn(t,n)).subscribe(r)})}function We(t,e){return U((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe($(r,u=>{i?.unsubscribe();let c=0,l=o++;oe(t(u,l)).subscribe(i=$(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function la(t){return U((e,n)=>{oe(t).subscribe($(n,()=>n.complete(),vr)),!n.closed&&e.subscribe(n)})}function le(t,e,n){let r=I(t)||e||n?{next:t,error:e,complete:n}:t;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe($(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ae}var Hd="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(Cu(e,n)),this.code=e}};function Cu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var xa=class extends Ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=da(o),i&&(i=da(i)),s&&(s=da(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ae&&e.add(a),a}};function da(t){return e=>{setTimeout(t,void 0,e)}}var de=xa;var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{});function Me(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ud(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zd||{}),it=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(it||{});function Eo(t){return{toString:t}.toString()}var wr=globalThis;var Pn={},Le=[];function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}function Mm(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Sm=Q({\u0275cmp:Q}),xm=Q({\u0275dir:Q}),Tm=Q({\u0275pipe:Q}),Am=Q({\u0275mod:Q}),oo=Q({\u0275fac:Q}),Cr=Q({__NG_ELEMENT_ID__:Q}),cd=Q({__NG_ENV_ID__:Q}),Ce=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ce||{});function Gd(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ta(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Om(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Nm(t){return t===3||t===4||t===6}function Om(t){return t.charCodeAt(0)===64}function br(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ld(t,n,i,null,e[++r]):ld(t,n,i,null,null))}}return t}function ld(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Wd="ng-template";function Rm(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&Gd(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function qd(t){return t.type===4&&t.value!==Wd}function Pm(t,e,n){let r=t.type===4&&!n?Wd:t.value;return e===r}function Fm(t,e,n){let r=4,i=t.attrs||[],o=Lm(i),s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!qe(r)&&!qe(u))return!1;if(s&&qe(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Pm(t,u,n)||u===""&&e.length===1){if(qe(r))return!1;s=!0}}else{let c=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!Rm(t.attrs,c,n)){if(qe(r))return!1;s=!0}continue}let l=r&8?"class":u,d=km(l,i,qd(t),n);if(d===-1){if(qe(r))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&Gd(h,c,0)!==-1||r&2&&c!==f){if(qe(r))return!1;s=!0}}}}return qe(r)||s}function qe(t){return(t&1)===0}function km(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $m(e,t)}function Vm(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fm(t,e[r],n))return!0;return!1}function Lm(t){for(let e=0;e<t.length;e++){let n=t[e];if(Nm(n))return e}return t.length}function $m(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dd(t,e){return t?":not("+e.trim()+")":e}function jm(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qe(s)&&(e+=dd(o,i),i=""),r=s,o=o||!qe(r);n++}return i!==""&&(e+=dd(o,i)),e}function Bm(t){return t.map(jm).join(",")}function Um(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!qe(i))break;i=o}r++}return{attrs:e,classes:n}}function Se(t){return Eo(()=>{let e=Jd(t),n=R(g({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||it.Emulated,styles:t.styles||Le,_:null,schemas:t.schemas||null,tView:null,id:""});Xd(n);let r=t.dependencies;return n.directiveDefs=hd(r,!1),n.pipeDefs=hd(r,!0),n.id=Gm(n),n})}function Hm(t){return Ht(t)||Zd(t)}function zm(t){return t!==null}function Jt(t){return Eo(()=>({type:t.type,bootstrap:t.bootstrap||Le,declarations:t.declarations||Le,imports:t.imports||Le,exports:t.exports||Le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fd(t,e){if(t==null)return Pn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ce.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ce.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Oe(t){return Eo(()=>{let e=Jd(t);return Xd(e),e})}function Ht(t){return t[Sm]||null}function Zd(t){return t[xm]||null}function Qd(t){return t[Tm]||null}function Yd(t){let e=Ht(t)||Zd(t)||Qd(t);return e!==null?e.standalone:!1}function Kd(t,e){let n=t[Am]||null;if(!n&&e===!0)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return n}function Jd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fd(t.inputs,e),outputs:fd(t.outputs),debugInfo:null}}function Xd(t){t.features?.forEach(e=>e(t))}function hd(t,e){if(!t)return null;let n=e?Qd:Hm;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zm)}function Gm(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var wt=0,M=1,b=2,pe=3,Ze=4,Ye=5,Er=6,Ir=7,ye=8,Fn=9,gt=10,ce=11,Mr=12,pd=13,Bn=14,Qe=15,$r=16,An=17,mt=18,Io=19,ef=20,Dr=21,fa=22,zt=23,$e=25,tf=1;var Gt=7,so=8,kn=9,we=10,Du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Du||{});function Bt(t){return Array.isArray(t)&&typeof t[tf]=="object"}function Ct(t){return Array.isArray(t)&&t[tf]===!0}function nf(t){return(t.flags&4)!==0}function Mo(t){return t.componentOffset>-1}function _u(t){return(t.flags&1)===1}function xt(t){return!!t.template}function Wm(t){return(t[b]&512)!==0}var qm="svg",Zm="math",Qm=!1;function Ym(){return Qm}function ot(t){for(;Array.isArray(t);)t=t[wt];return t}function rf(t,e){return ot(e[t])}function Ke(t,e){return ot(e[t.index])}function bu(t,e){return t.data[e]}function Km(t,e){return t[e]}function At(t,e){let n=e[t];return Bt(n)?n:n[wt]}function Jm(t){return(t[b]&4)===4}function Eu(t){return(t[b]&128)===128}function Xm(t){return Ct(t[pe])}function ao(t,e){return e==null?null:t[e]}function of(t){t[An]=0}function ev(t){t[b]&1024||(t[b]|=1024,Eu(t)&&Sr(t))}function tv(t,e){for(;t>0;)e=e[Bn],t--;return e}function Iu(t){return!!(t[b]&9216||t[zt]?.dirty)}function Aa(t){Iu(t)?Sr(t):t[b]&64&&(Ym()?(t[b]|=1024,Sr(t)):t[gt].changeDetectionScheduler?.notify())}function Sr(t){t[gt].changeDetectionScheduler?.notify();let e=xr(t);for(;e!==null&&!(e[b]&8192||(e[b]|=8192,!Eu(e)));)e=xr(e)}function nv(t,e){if((t[b]&256)===256)throw new _(911,!1);t[Dr]===null&&(t[Dr]=[]),t[Dr].push(e)}function xr(t){let e=t[pe];return Ct(e)?e[pe]:e}var V={lFrame:ff(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rv(){return V.lFrame.elementDepthCount}function iv(){V.lFrame.elementDepthCount++}function ov(){V.lFrame.elementDepthCount--}function sf(){return V.bindingsEnabled}function sv(){return V.skipHydrationRootTNode!==null}function av(t){return V.skipHydrationRootTNode===t}function uv(){V.skipHydrationRootTNode=null}function W(){return V.lFrame.lView}function _e(){return V.lFrame.tView}function X(t){return V.lFrame.contextLView=t,t[ye]}function ee(t){return V.lFrame.contextLView=null,t}function Re(){let t=af();for(;t!==null&&t.type===64;)t=t.parent;return t}function af(){return V.lFrame.currentTNode}function cv(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jr(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function uf(){return V.lFrame.isParent}function lv(){V.lFrame.isParent=!1}function dv(){return V.lFrame.contextLView}function fv(t){return V.lFrame.bindingIndex=t}function Br(){return V.lFrame.bindingIndex++}function hv(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pv(){return V.lFrame.inI18n}function gv(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Na(e)}function mv(){return V.lFrame.currentDirectiveIndex}function Na(t){V.lFrame.currentDirectiveIndex=t}function vv(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cf(){return V.lFrame.currentQueryIndex}function Mu(t){V.lFrame.currentQueryIndex=t}function yv(t){let e=t[M];return e.type===2?e.declTNode:e.type===1?t[Ye]:null}function lf(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=yv(o),i===null||(o=o[Bn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=V.lFrame=df();return r.currentTNode=e,r.lView=t,!0}function Su(t){let e=df(),n=t[M];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function df(){let t=V.lFrame,e=t===null?null:t.child;return e===null?ff(t):e}function ff(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hf(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pf=hf;function xu(){let t=hf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wv(t){return(V.lFrame.contextLView=tv(t,V.lFrame.contextLView))[ye]}function Xt(){return V.lFrame.selectedIndex}function Wt(t){V.lFrame.selectedIndex=t}function Tu(){let t=V.lFrame;return bu(t.tView,t.selectedIndex)}function Cv(){return V.lFrame.currentNamespace}var gf=!0;function Au(){return gf}function Nu(t){gf=t}function Dv(){return Un(Re(),W())}function Un(t,e){return new st(Ke(t,e))}var st=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Dv;let t=e;return t})();function _v(t){return t instanceof st?t.nativeElement:t}function bv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Ev(t){return t.flat(Number.POSITIVE_INFINITY)}function Ou(t,e){t.forEach(n=>Array.isArray(n)?Ou(n,e):e(n))}function mf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Iv(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Mv(t,e,n){let r=Ur(t,e);return r>=0?t[r|1]=n:(r=~r,Iv(t,r,e,n)),r}function ha(t,e){let n=Ur(t,e);if(n>=0)return t[n|1]}function Ur(t,e){return Sv(t,e,1)}function Sv(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function xv(){return this._results[Symbol.iterator]()}var Oa=class t{get changes(){return this._changes??=new de}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ev(e);(this._changesDetected=!bv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function vf(t){return(t.flags&128)===128}var Ra;function yf(t){Ra=t}function Tv(){if(Ra!==void 0)return Ra;if(typeof document<"u")return document;throw new _(210,!1)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function So(t){return gd(t,Cf)||gd(t,Df)}function wf(t){return So(t)!==null}function gd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Av(t){let e=t&&(t[Cf]||t[Df]);return e||null}function md(t){return t&&(t.hasOwnProperty(vd)||t.hasOwnProperty(Nv))?t[vd]:null}var Cf=Q({\u0275prov:Q}),vd=Q({\u0275inj:Q}),Df=Q({ngInjectableDef:Q}),Nv=Q({ngInjectorDef:Q}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Ru=new A("",{providedIn:"root",factory:()=>Ov}),Ov="ng",Pu=new A(""),Hn=new A("",{providedIn:"platform",factory:()=>"unknown"});var Fu=new A("",{providedIn:"root",factory:()=>Tv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Rv=Q({__forward_ref__:Q});function tn(t){return t.__forward_ref__=tn,t.toString=function(){return Me(this())},t}function De(t){return _f(t)?t():t}function _f(t){return typeof t=="function"&&t.hasOwnProperty(Rv)&&t.__forward_ref__===tn}function bf(t){return t&&!!t.\u0275providers}function ku(t){return typeof t=="string"?t:t==null?"":String(t)}function Pv(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ku(t)}function Fv(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function Vu(t,e){throw new _(-201,!1)}var Pa;function kv(){return Pa}function Ve(t){let e=Pa;return Pa=t,e}function Ef(t,e,n){let r=So(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;Vu(t,"Injector")}var Vv={},Tr=Vv,Lv="__NG_DI_FLAG__",co="ngTempTokenPath",$v="ngTokenPath",jv=/\n/gm,Bv="\u0275",yd="__source",_r;function St(t){let e=_r;return _r=t,e}function Uv(t,e=k.Default){if(_r===void 0)throw new _(-203,!1);return _r===null?Ef(t,void 0,e):_r.get(t,e&k.Optional?null:void 0,e)}function H(t,e=k.Default){return(kv()||Uv)(De(t),e)}function v(t,e=k.Default){return H(t,xo(e))}function xo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fa(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Hv(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function Hv(t){return t[Lv]}function zv(t,e,n,r){let i=t[co];throw e[yd]&&i.unshift(e[yd]),t.message=Gv(`
`+t.message,i,n,r),t[$v]=i,t[co]=null,t}function Gv(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Bv?t.slice(2):t;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Me(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jv,`
  `)}`}var Wv="h",qv="b";var Zv=()=>null;function Lu(t,e,n=!1){return Zv(t,e,n)}function Vn(t,e){let n=t.hasOwnProperty(oo);return n?t[oo]:null}var Ln=new A(""),If=new A("",-1),Mf=new A(""),lo=class{get(e,n=Tr){if(n===Tr){let r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return n}};function To(t){return{\u0275providers:t}}function Qv(...t){return{\u0275providers:Sf(!0,t),\u0275fromNgModule:!0}}function Sf(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ou(e,s=>{let a=s;ka(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xf(i,o),n}function xf(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$u(i,o=>{e(o,r)})}}function ka(t,e,n,r){if(t=De(t),!t)return!1;let i=null,o=md(t),s=!o&&Ht(t);if(!o&&!s){let u=t.ngModule;if(o=md(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)ka(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Ou(o.imports,l=>{ka(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&xf(c,e)}if(!a){let c=Vn(i)||(()=>new i);e({provide:i,useFactory:c,deps:Le},i),e({provide:Mf,useValue:i,multi:!0},i),e({provide:Ln,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;$u(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function $u(t,e){for(let n of t)bf(n)&&(n=n.\u0275providers),Array.isArray(n)?$u(n,e):e(n)}var Yv=Q({provide:String,useValue:Q});function Tf(t){return t!==null&&typeof t=="object"&&Yv in t}function Kv(t){return!!(t&&t.useExisting)}function Jv(t){return!!(t&&t.useFactory)}function $n(t){return typeof t=="function"}function Xv(t){return!!t.useClass}var Ao=new A(""),Xi={},ey={},pa;function ju(){return pa===void 0&&(pa=new lo),pa}var je=class{},Ar=class extends je{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,La(e,s=>this.processProvider(s)),this.records.set(If,Nn(void 0,this)),i.has("environment")&&this.records.set(je,Nn(void 0,this));let o=this.records.get(Ao);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mf,Le,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=St(this),r=Ve(void 0),i;try{return e()}finally{St(n),Ve(r)}}get(e,n=Tr,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cd))return e[cd](this);r=xo(r);let i,o=St(this),s=Ve(void 0);try{if(!(r&k.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=oy(e)&&So(e);c&&this.injectableDefInScope(c)?u=Nn(Va(e),Xi):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&k.Self?ju():this.parent;return n=r&k.Optional&&n===Tr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[co]=a[co]||[]).unshift(Me(e)),o)throw a;return zv(a,e,"R3InjectorError",this.source)}else throw a}finally{Ve(s),St(o)}}resolveInjectorInitializers(){let e=St(this),n=Ve(void 0),r;try{let i=this.get(Ln,Le,k.Self);for(let o of i)o()}finally{St(e),Ve(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=De(e);let n=$n(e)?e:De(e&&e.provide),r=ny(e);if(!$n(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Nn(void 0,Xi,!0),i.factory=()=>Fa(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Xi&&(n.value=ey,n.value=n.factory()),typeof n.value=="object"&&n.value&&iy(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Va(t){let e=So(t),n=e!==null?e.factory:Vn(t);if(n!==null)return n;if(t instanceof A)throw new _(204,!1);if(t instanceof Function)return ty(t);throw new _(204,!1)}function ty(t){if(t.length>0)throw new _(204,!1);let n=Av(t);return n!==null?()=>n.factory(t):()=>new t}function ny(t){if(Tf(t))return Nn(void 0,t.useValue);{let e=Af(t);return Nn(e,Xi)}}function Af(t,e,n){let r;if($n(t)){let i=De(t);return Vn(i)||Va(i)}else if(Tf(t))r=()=>De(t.useValue);else if(Jv(t))r=()=>t.useFactory(...Fa(t.deps||[]));else if(Kv(t))r=()=>H(De(t.useExisting));else{let i=De(t&&(t.useClass||t.provide));if(ry(t))r=()=>new i(...Fa(t.deps));else return Vn(i)||Va(i)}return r}function Nn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ry(t){return!!t.deps}function iy(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oy(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function La(t,e){for(let n of t)Array.isArray(n)?La(n,e):n&&bf(n)?La(n.\u0275providers,e):e(n)}function nn(t,e){t instanceof Ar&&t.assertNotDestroyed();let n,r=St(t),i=Ve(void 0);try{return e()}finally{St(r),Ve(i)}}function sy(t){return typeof t=="function"}var $a=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Nf(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rn(){return Of}function Of(t){return t.type.prototype.ngOnChanges&&(t.setInput=uy),ay}rn.ngInherit=!0;function ay(){let t=Pf(this),e=t?.current;if(e){let n=t.previous;if(n===Pn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function uy(t,e,n,r,i){let o=this.declaredInputs[r],s=Pf(t)||cy(t,{previous:Pn,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new $a(c&&c.currentValue,n,u===Pn),Nf(t,e,i,n)}var Rf="__ngSimpleChanges__";function Pf(t){return t[Rf]||null}function cy(t,e){return t[Rf]=e}var wd=null;var nt=function(t,e,n){wd?.(t,e,n)};function ly(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Of(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Bu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function eo(t,e,n){Ff(t,e,3,n)}function to(t,e,n,r){(t[b]&3)===n&&Ff(t,e,n,r)}function ga(t,e){let n=t[b];(n&3)===e&&(n&=16383,n+=1,t[b]=n)}function Ff(t,e,n,r){let i=r!==void 0?t[An]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[An]+=65536),(a<o||o==-1)&&(dy(t,n,e,u),t[An]=(t[An]&4294901760)+u+2),u++}function Cd(t,e){nt(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),nt(5,t,e)}}function dy(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[b]>>14<t[An]>>16&&(t[b]&3)===e&&(t[b]+=16384,Cd(a,o)):Cd(a,o)}var Rn=-1,qt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fy(t){return t instanceof qt}function hy(t){return(t.flags&8)!==0}function py(t){return(t.flags&16)!==0}function kf(t){return t!==Rn}function fo(t){return t&32767}function gy(t){return t>>16}function ho(t,e){let n=gy(t),r=e;for(;n>0;)r=r[Bn],n--;return r}var ja=!0;function Dd(t){let e=ja;return ja=t,e}var my=256,Vf=my-1,Lf=5,vy=0,rt={};function yy(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cr)&&(r=n[Cr]),r==null&&(r=n[Cr]=vy++);let i=r&Vf,o=1<<i;e.data[t+(i>>Lf)]|=o}function po(t,e){let n=$f(t,e);if(n!==-1)return n;let r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,ma(r.data,t),ma(e,null),ma(r.blueprint,null));let i=Uu(t,e),o=t.injectorIndex;if(kf(i)){let s=fo(i),a=ho(i,e),u=a[M].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ma(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $f(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zf(i),r===null)return Rn;if(n++,i=i[Bn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Rn}function Ba(t,e,n){yy(t,e,n)}function jf(t,e,n){if(n&k.Optional||t!==void 0)return t;Vu(e,"NodeInjector")}function Bf(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let i=t[Fn],o=Ve(void 0);try{return i?i.get(e,r,n&k.Optional):Ef(e,r,n&k.Optional)}finally{Ve(o)}}return jf(r,e,n)}function Uf(t,e,n,r=k.Default,i){if(t!==null){if(e[b]&2048&&!(r&k.Self)){let s=_y(t,e,n,r,rt);if(s!==rt)return s}let o=Hf(t,e,n,r,rt);if(o!==rt)return o}return Bf(e,n,r,i)}function Hf(t,e,n,r,i){let o=Cy(n);if(typeof o=="function"){if(!lf(e,t,r))return r&k.Host?jf(i,n,r):Bf(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&k.Optional))Vu(n);else return s}finally{pf()}}else if(typeof o=="number"){let s=null,a=$f(t,e),u=Rn,c=r&k.Host?e[Qe][Ye]:null;for((a===-1||r&k.SkipSelf)&&(u=a===-1?Uu(t,e):e[a+8],u===Rn||!bd(r,!1)?a=-1:(s=e[M],a=fo(u),e=ho(u,e)));a!==-1;){let l=e[M];if(_d(o,a,l.data)){let d=wy(a,e,n,s,r,c);if(d!==rt)return d}u=e[a+8],u!==Rn&&bd(r,e[M].data[a+8]===c)&&_d(o,a,e)?(s=l,a=fo(u),e=ho(u,e)):a=-1}}return i}function wy(t,e,n,r,i,o){let s=e[M],a=s.data[t+8],u=r==null?Mo(a)&&ja:r!=s&&(a.type&3)!==0,c=i&k.Host&&o===a,l=no(a,s,n,u,c);return l!==null?Zt(e,s,l,a):rt}function no(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,f=i?a+l:c;for(let h=d;h<f;h++){let p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){let h=s[u];if(h&&xt(h)&&h.type===n)return u}return null}function Zt(t,e,n,r){let i=t[n],o=e.data;if(fy(i)){let s=i;s.resolving&&Fv(Pv(o[n]));let a=Dd(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?Ve(s.injectImpl):null,l=lf(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ly(n,o[n],e)}finally{c!==null&&Ve(c),Dd(a),s.resolving=!1,pf()}}return i}function Cy(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Cr)?t[Cr]:void 0;return typeof e=="number"?e>=0?e&Vf:Dy:e}function _d(t,e,n){let r=1<<t;return!!(n[e+(t>>Lf)]&r)}function bd(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var Ut=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Uf(this._tNode,this._lView,e,xo(r),n)}};function Dy(){return new Ut(Re(),W())}function Hr(t){return Eo(()=>{let e=t.prototype.constructor,n=e[oo]||Ua(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[oo]||Ua(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ua(t){return _f(t)?()=>{let e=Ua(De(t));return e&&e()}:Vn(t)}function _y(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[b]&2048&&!(s[b]&512);){let a=Hf(o,s,n,r|k.Self,rt);if(a!==rt)return a;let u=o.parent;if(!u){let c=s[ef];if(c){let l=c.get(n,rt,r);if(l!==rt)return l}u=zf(s),s=s[Bn]}o=u}return i}function zf(t){let e=t[M],n=e.type;return n===2?e.declTNode:n===1?t[Ye]:null}function Ed(t,e=null,n=null,r){let i=Gf(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gf(t,e=null,n=null,r,i=new Set){let o=[n||Le,Qv(t)];return r=r||(typeof t=="object"?void 0:Me(t)),new Ar(o,e||ju(),r||null,i)}var zn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Ed({name:""},i,r,"");{let o=r.name??"";return Ed({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Tr,e.NULL=new lo,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>H(If)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),by="ngOriginalError";function va(t){return t[by]}var vt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&va(e);for(;n&&va(n);)n=va(n);return n||null}},Wf=new A("",{providedIn:"root",factory:()=>v(vt).handleError.bind(void 0)});var qf=!1,Ey=new A("",{providedIn:"root",factory:()=>qf});var go=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hd})`}};function No(t){return t instanceof go?t.changingThisBreaksApplicationSecurity:t}function Zf(t,e){let n=Iy(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Hd})`)}return n===e}function Iy(t){return t instanceof go&&t.getTypeName()||null}var My=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qf(t){return t=String(t),t.match(My)?t:"unsafe:"+t}var Hu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hu||{});function Yf(t){let e=Sy();return e?e.sanitize(Hu.URL,t)||"":Zf(t,"URL")?No(t):Qf(ku(t))}function Sy(){let t=W();return t&&t[gt].sanitizer}var Kf=new Map,xy=0;function Ty(){return xy++}function Ay(t){Kf.set(t[Io],t)}function Ny(t){Kf.delete(t[Io])}var Id="__ngContext__";function Qt(t,e){Bt(e)?(t[Id]=e[Io],Ay(e)):t[Id]=e}function Jf(t){return t instanceof Function?t():t}var yt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yt||{}),Oy;function zu(t,e){return Oy(t,e)}function On(t,e,n,r,i){if(r!=null){let o,s=!1;Ct(r)?o=r:Bt(r)&&(s=!0,r=r[wt]);let a=ot(r);t===0&&n!==null?i==null?nh(e,n,a):mo(e,n,a,i||null,!0):t===1&&n!==null?mo(e,n,a,i||null,!0):t===2?Qy(e,a,s):t===3&&e.destroyNode(a),o!=null&&Ky(e,t,o,n,i)}}function Ry(t,e){return t.createText(e)}function Py(t,e,n){t.setValue(e,n)}function Xf(t,e,n){return t.createElement(e,n)}function Fy(t,e){eh(t,e),e[wt]=null,e[Ye]=null}function ky(t,e,n,r,i,o){r[wt]=i,r[Ye]=e,Ro(t,r,n,1,i,o)}function eh(t,e){Ro(t,e,e[ce],2,null,null)}function Vy(t){let e=t[Mr];if(!e)return ya(t[M],t);for(;e;){let n=null;if(Bt(e))n=e[Mr];else{let r=e[we];r&&(n=r)}if(!n){for(;e&&!e[Ze]&&e!==t;)Bt(e)&&ya(e[M],e),e=e[pe];e===null&&(e=t),Bt(e)&&ya(e[M],e),n=e&&e[Ze]}e=n}}function Ly(t,e,n,r){let i=we+r,o=n.length;r>0&&(n[i-1][Ze]=e),r<o-we?(e[Ze]=n[i],mf(n,we+r,e)):(n.push(e),e[Ze]=null),e[pe]=n;let s=e[$r];s!==null&&n!==s&&$y(s,e);let a=e[mt];a!==null&&a.insertView(t),Aa(e),e[b]|=128}function $y(t,e){let n=t[kn],i=e[pe][pe][Qe];e[Qe]!==i&&(t[b]|=Du.HasTransplantedViews),n===null?t[kn]=[e]:n.push(e)}function th(t,e){let n=t[kn],r=n.indexOf(e);n.splice(r,1)}function Nr(t,e){if(t.length<=we)return;let n=we+e,r=t[n];if(r){let i=r[$r];i!==null&&i!==t&&th(i,r),e>0&&(t[n-1][Ze]=r[Ze]);let o=uo(t,we+e);Fy(r[M],r);let s=o[mt];s!==null&&s.detachView(o[M]),r[pe]=null,r[Ze]=null,r[b]&=-129}return r}function Oo(t,e){if(!(e[b]&256)){let n=e[ce];n.destroyNode&&Ro(t,e,n,3,null,null),Vy(e)}}function ya(t,e){if(!(e[b]&256)){e[b]&=-129,e[b]|=256,e[zt]&&kl(e[zt]),By(t,e),jy(t,e),e[M].type===1&&e[ce].destroy();let n=e[$r];if(n!==null&&Ct(e[pe])){n!==e[pe]&&th(n,e);let r=e[mt];r!==null&&r.detachView(t)}Ny(e)}}function jy(t,e){let n=t.cleanup,r=e[Ir];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ir]=null);let i=e[Dr];if(i!==null){e[Dr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function By(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];nt(4,a,u);try{u.call(a)}finally{nt(5,a,u)}}else{nt(4,i,o);try{o.call(i)}finally{nt(5,i,o)}}}}}function Uy(t,e,n){return Hy(t,e.parent,n)}function Hy(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===it.None||o===it.Emulated)return null}return Ke(r,n)}}function mo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nh(t,e,n){t.appendChild(e,n)}function Md(t,e,n,r,i){r!==null?mo(t,e,n,r,i):nh(t,e,n)}function zy(t,e,n,r){t.removeChild(e,n,r)}function Gu(t,e){return t.parentNode(e)}function Gy(t,e){return t.nextSibling(e)}function Wy(t,e,n){return Zy(t,e,n)}function qy(t,e,n){return t.type&40?Ke(t,n):null}var Zy=qy,Sd;function Wu(t,e,n,r){let i=Uy(t,r,e),o=e[ce],s=r.parent||e[Ye],a=Wy(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Md(o,i,n[u],a,!1);else Md(o,i,n,a,!1);Sd!==void 0&&Sd(o,r,e,n,i)}function ro(t,e){if(e!==null){let n=e.type;if(n&3)return Ke(e,t);if(n&4)return Ha(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ro(t,r);{let i=t[e.index];return Ct(i)?Ha(-1,i):ot(i)}}else{if(n&32)return zu(e,t)()||ot(t[e.index]);{let r=rh(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xr(t[Qe]);return ro(i,r)}else return ro(t,e.next)}}}return null}function rh(t,e){if(e!==null){let r=t[Qe][Ye],i=e.projection;return r.projection[i]}return null}function Ha(t,e){let n=we+t+1;if(n<e.length){let r=e[n],i=r[M].firstChild;if(i!==null)return ro(r,i)}return e[Gt]}function Qy(t,e,n){let r=Gu(t,e);r&&zy(t,r,e,n)}function qu(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Qt(ot(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)qu(t,e,n.child,r,i,o,!1),On(e,t,i,a,o);else if(u&32){let c=zu(n,r),l;for(;l=c();)On(e,t,i,l,o);On(e,t,i,a,o)}else u&16?Yy(t,e,r,n,i,o):On(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ro(t,e,n,r,i,o){qu(n,r,t.firstChild,e,i,o,!1)}function Yy(t,e,n,r,i,o){let s=n[Qe],u=s[Ye].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];On(e,t,i,l,o)}else{let c=u,l=s[pe];vf(r)&&(c.flags|=128),qu(t,e,c,l,i,o,!0)}}function Ky(t,e,n,r,i){let o=n[Gt],s=ot(n);o!==s&&On(e,t,r,o,i);for(let a=we;a<n.length;a++){let u=n[a];Ro(u[M],u,t,e,r,o)}}function Jy(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:yt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yt.Important),t.setStyle(n,r,i,o))}}function Xy(t,e,n){t.setAttribute(e,"style",n)}function ih(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oh(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ta(t,e,r),i!==null&&ih(t,e,i),o!==null&&Xy(t,e,o)}var on={};function J(t=1){sh(_e(),W(),Xt()+t,!1)}function sh(t,e,n,r){if(!r)if((e[b]&3)===3){let o=t.preOrderCheckHooks;o!==null&&eo(e,o,n)}else{let o=t.preOrderHooks;o!==null&&to(e,o,0,n)}Wt(n)}function B(t,e=k.Default){let n=W();if(n===null)return H(t,e);let r=Re();return Uf(r,n,De(t),e)}function ah(t,e,n,r,i,o){let s=he(null);try{let a=null;i&Ce.SignalBased&&(a=e[r][zs]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ce.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Nf(e,a,r,o)}finally{he(s)}}function ew(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wt(~i);else{let o=i,s=n[++r],a=n[++r];gv(s,o);let u=e[o];a(2,u)}}}finally{Wt(-1)}}function Po(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[wt]=i,d[b]=r|4|128|8|64,(c!==null||t&&t[b]&2048)&&(d[b]|=2048),of(d),d[pe]=d[Bn]=t,d[ye]=n,d[gt]=s||t&&t[gt],d[ce]=a||t&&t[ce],d[Fn]=u||t&&t[Fn]||null,d[Ye]=o,d[Io]=Ty(),d[Er]=l,d[ef]=c,d[Qe]=e.type==2?t[Qe]:d,d}function Fo(t,e,n,r,i){let o=t.data[e];if(o===null)o=tw(t,e,n,r,i),pv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=cv();o.injectorIndex=s===null?-1:s.injectorIndex}return jr(o,!0),o}function tw(t,e,n,r,i){let o=af(),s=uf(),a=s?o:o&&o.parent,u=t.data[e]=aw(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function uh(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ch(t,e,n,r,i){let o=Xt(),s=r&2;try{Wt(-1),s&&e.length>$e&&sh(t,e,$e,!1),nt(s?2:0,i),n(r,i)}finally{Wt(o),nt(s?3:1,i)}}function lh(t,e,n){if(nf(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{he(r)}}}function dh(t,e,n){sf()&&(hw(t,e,n,Ke(n,e)),(n.flags&64)===64&&mh(t,e,n))}function fh(t,e,n=Ke){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function hh(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zu(t,e,n,r,i,o,s,a,u,c,l){let d=$e+r,f=d+i,h=nw(d,f),p=typeof c=="function"?c():c;return h[M]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}function nw(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:on);return n}function rw(t,e,n,r){let o=r.get(Ey,qf)||n===it.ShadowDom,s=t.selectRootElement(e,o);return iw(s),s}function iw(t){ow(t)}var ow=()=>null;function sw(t,e,n,r){let i=wh(e);i.push(n),t.firstCreatePass&&Ch(t).push(r,i.length-1)}function aw(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xd(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ce.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Td(r,n,c,a,u):Td(r,n,c,a)}return r}function Td(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function uw(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;u=xd(0,d.inputs,l,u,h),c=xd(1,d.outputs,l,c,p);let m=u!==null&&s!==null&&!qd(e)?_w(u,l,s):null;a.push(m)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function cw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qu(t,e,n,r,i,o,s,a){let u=Ke(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Yu(t,n,l,r,i),Mo(e)&&lw(n,e.index)):e.type&3?(r=cw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function lw(t,e){let n=At(e,t);n[b]&16||(n[b]|=64)}function ph(t,e,n,r){if(sf()){let i=r===null?null:{"":-1},o=gw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&gh(t,e,n,s,i,a),i&&mw(n,r,i)}n.mergedAttrs=br(n.mergedAttrs,n.attrs)}function gh(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Ba(po(n,e),t,r[c].type);yw(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=uh(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=br(n.mergedAttrs,l.hostAttrs),ww(t,n,e,u,l),vw(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}uw(t,n,o)}function dw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;fw(s)!=a&&s.push(a),s.push(n,r,o)}}function fw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hw(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Mo(n)&&Cw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||po(n,e),Qt(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=Zt(e,t,a,n);if(Qt(c,e),s!==null&&Dw(e,a-i,c,u,n,s),xt(u)){let l=At(n.index,e);l[ye]=Zt(e,t,a,n)}}}function mh(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mv();try{Wt(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];Na(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&pw(u,c)}}finally{Wt(-1),Na(s)}}function pw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Vm(e,s.selectors,!1))if(r||(r=[]),xt(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;za(t,e,u)}else r.unshift(s),za(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function za(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new _(-301,!1);r.push(e[i],o)}}}function vw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function yw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ww(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Vn(i.type,!0)),s=new qt(o,xt(i),B);t.blueprint[r]=s,n[r]=s,dw(t,e,r,uh(t,n,i.hostVars,on),i)}function Cw(t,e,n){let r=Ke(e,t),i=hh(n),o=t[gt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ko(t,Po(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Dw(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];ah(r,n,u,c,l,d)}}function _w(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function vh(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yh(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Mu(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function ko(t,e){return t[Mr]?t[pd][Ze]=e:t[Mr]=e,t[pd]=e,e}function Ga(t,e,n){Mu(0);let r=he(null);try{e(t,n)}finally{he(r)}}function wh(t){return t[Ir]||(t[Ir]=[])}function Ch(t){return t.cleanup||(t.cleanup=[])}function Dh(t,e){let n=t[Fn],r=n?n.get(vt,null):null;r&&r.handleError(e)}function Yu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];ah(l,c,r,a,u,i)}}function bw(t,e,n){let r=rf(e,t);Py(t[ce],r,n)}function Ew(t,e){let n=At(e,t),r=n[M];Iw(r,n);let i=n[wt];i!==null&&n[Er]===null&&(n[Er]=Lu(i,n[Fn])),Ku(r,n,n[ye])}function Iw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ku(t,e,n){Su(e);try{let r=t.viewQuery;r!==null&&Ga(1,r,n);let i=t.template;i!==null&&ch(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[mt]?.finishViewCreation(t),t.staticContentQueries&&yh(t,e),t.staticViewQueries&&Ga(2,t.viewQuery,n);let o=t.components;o!==null&&Mw(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[b]&=-5,xu()}}function Mw(t,e){for(let n=0;n<e.length;n++)Ew(t,e[n])}function Vo(t,e,n,r){let i=e.tView,s=t[b]&4096?4096:16,a=Po(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[$r]=u;let c=t[mt];return c!==null&&(a[mt]=c.createEmbeddedView(i)),Ku(i,a,n),a}function _h(t,e){let n=we+e;if(n<t.length)return t[n]}function Or(t,e){return!e||e.firstChild===null||vf(t)}function Lo(t,e,n,r=!0){let i=e[M];if(Ly(i,e,t,n),r){let s=Ha(n,t),a=e[ce],u=Gu(a,t[Gt]);u!==null&&ky(i,t[Ye],a,e,u,s)}let o=e[Er];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bh(t,e){let n=Nr(t,e);return n!==void 0&&Oo(n[M],n),n}function vo(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(ot(o)),Ct(o)&&Sw(o,r);let s=n.type;if(s&8)vo(t,e,n.child,r);else if(s&32){let a=zu(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=rh(e,n);if(Array.isArray(a))r.push(...a);else{let u=xr(e[Qe]);vo(u[M],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Sw(t,e){for(let n=we;n<t.length;n++){let r=t[n],i=r[M].firstChild;i!==null&&vo(r[M],r,i,e)}t[Gt]!==t[wt]&&e.push(t[Gt])}var Eh=[];function xw(t){return t[zt]??Tw(t)}function Tw(t){let e=Eh.pop()??Object.create(Nw);return e.lView=t,e}function Aw(t){t.lView[zt]!==t&&(t.lView=null,Eh.push(t))}var Nw=R(g({},Rl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sr(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function Ih(t){return Sh(t[Mr])}function Mh(t){return Sh(t[Ze])}function Sh(t){for(;t!==null&&!Ct(t);)t=t[Ze];return t}var xh=100;function Th(t,e=!0,n=0){let r=t[gt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Ow(t,n)}catch(s){throw e&&Dh(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Ow(t,e){Wa(t,e);let n=0;for(;Iu(t);){if(n===xh)throw new _(103,!1);n++,Wa(t,1)}}function Rw(t,e,n,r){let i=e[b];if((i&256)===256)return;let o=!1;!o&&e[gt].inlineEffectRunner?.flush(),Su(e);let s=null,a=null;!o&&Pw(t)&&(a=xw(e),s=Pl(a));try{of(e),fv(t.bindingStartIndex),n!==null&&ch(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&eo(e,d,null)}else{let d=t.preOrderHooks;d!==null&&to(e,d,0,null),ga(e,0)}if(Fw(e),Ah(e,0),t.contentQueries!==null&&yh(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&eo(e,d)}else{let d=t.contentHooks;d!==null&&to(e,d,1),ga(e,1)}ew(t,e);let c=t.components;c!==null&&Oh(e,c,0);let l=t.viewQuery;if(l!==null&&Ga(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&eo(e,d)}else{let d=t.viewHooks;d!==null&&to(e,d,2),ga(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fa]){for(let d of e[fa])d();e[fa]=null}o||(e[b]&=-73)}catch(u){throw Sr(e),u}finally{a!==null&&(Fl(a,s),Aw(a)),xu()}}function Pw(t){return t.type!==2}function Ah(t,e){for(let n=Ih(t);n!==null;n=Mh(n))for(let r=we;r<n.length;r++){let i=n[r];Nh(i,e)}}function Fw(t){for(let e=Ih(t);e!==null;e=Mh(e)){if(!(e[b]&Du.HasTransplantedViews))continue;let n=e[kn];for(let r=0;r<n.length;r++){let i=n[r],o=i[pe];ev(i)}}}function kw(t,e,n){let r=At(e,t);Nh(r,n)}function Nh(t,e){Eu(t)&&Wa(t,e)}function Wa(t,e){let r=t[M],i=t[b],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gs(o)),o&&(o.dirty=!1),t[b]&=-9217,s)Rw(r,t,r.template,t[ye]);else if(i&8192){Ah(t,1);let a=r.components;a!==null&&Oh(t,a,1)}}function Oh(t,e,n){for(let r=0;r<e.length;r++)kw(t,e[r],n)}function Ju(t){for(t[gt].changeDetectionScheduler?.notify();t;){t[b]|=64;let e=xr(t);if(Wm(t)&&!e)return t;t=e}return null}var Yt=class{get rootNodes(){let e=this._lView,n=e[M];return vo(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ye]}set context(e){this._lView[ye]=e}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pe];if(Ct(e)){let n=e[so],r=n?n.indexOf(this):-1;r>-1&&(Nr(e,r),uo(n,r))}this._attachedToViewContainer=!1}Oo(this._lView[M],this._lView)}onDestroy(e){nv(this._lView,e)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[b]&=-129}reattach(){Aa(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,Th(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,eh(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e,Aa(this._lView)}},Rr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$w;let t=e;return t})(),Vw=Rr,Lw=class extends Vw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Vo(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Yt(i)}};function $w(){return Xu(Re(),W())}function Xu(t,e){return t.type&4?new Lw(e,t,Un(t,e)):null}var ZT=new RegExp(`^(\\d+)*(${qv}|${Wv})*(.*)`);var jw=()=>null;function Pr(t,e){return jw(t,e)}var qa=class{},Za=class{},yo=class{};function Bw(t){let e=Error(`No component factory found for ${Me(t)}.`);return e[Uw]=t,e}var Uw="ngComponent";var Qa=class{resolveComponentFactory(e){throw Bw(e)}},$o=(()=>{let e=class e{};e.NULL=new Qa;let t=e;return t})(),Fr=class{},Gn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Hw();let t=e;return t})();function Hw(){let t=W(),e=Re(),n=At(e.index,t);return(Bt(n)?n:t)[ce]}var zw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wa={};function Gw(t){return typeof t=="function"&&t[zs]!==void 0}var Ad=new Set;function jo(t){Ad.has(t)||(Ad.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Rh(t){return Gw(t)&&typeof t.set=="function"}var sn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ww;let t=e;return t})();function Ww(t){return qw(Re(),W(),(t&16)===16)}function qw(t,e,n){if(Mo(t)&&!n){let r=At(t.index,e);return new Yt(r,r)}else if(t.type&47){let r=e[Qe];return new Yt(r,e)}return null}function Nd(...t){}function Zw(){let t=typeof wr.requestAnimationFrame=="function",e=wr[t?"requestAnimationFrame":"setTimeout"],n=wr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Zw().nativeRequestAnimationFrame,Kw(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Qw,Nd,Nd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Qw={};function ec(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yw(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ya(t),t.isCheckStableRunning=!0,ec(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ya(t))}function Kw(t){let e=()=>{Yw(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Jw(a))return n.invokeTask(i,o,s,a);try{return Od(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rd(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Od(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Rd(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ya(t),ec(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ya(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Od(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rd(t){t._nesting--,ec(t)}function Jw(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ph=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ka(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ud(i,a);else if(o==2){let u=a,c=e[++s];r=ud(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wo=class extends $o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ht(e);return new kr(n,this.ngModule)}};function Pd(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Xw(t){let e=t.toLowerCase();return e==="svg"?qm:e==="math"?Zm:null}var Ja=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xo(r);let i=this.injector.get(e,wa,r);return i!==wa||n===wa?i:this.parentInjector.get(e,n,r)}},kr=class extends yo{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Pd(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Pd(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Bm(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof je?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Ja(e,o):e,a=s.get(Fr,null);if(a===null)throw new _(407,!1);let u=s.get(zw,null),c=s.get(Ph,null),l=s.get(qa,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:l},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?rw(f,r,this.componentDef.encapsulation,s):Xf(f,h,Xw(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let O=null;p!==null&&(O=Lu(p,s,!0));let D=Zu(0,null,null,1,0,null,null,null,null,null,null),F=Po(null,D,null,m,null,null,d,f,s,null,O);Su(F);let P,Y;try{let te=this.componentDef,Ee,Ft=null;te.findHostDirectiveDefs?(Ee=[],Ft=new Map,te.findHostDirectiveDefs(te,Ee,Ft),Ee.push(te)):Ee=[te];let yn=eC(F,p),js=tC(yn,p,te,Ee,F,d,f);Y=bu(D,$e),p&&iC(f,te,p,r),n!==void 0&&oC(Y,this.ngContentSelectors,n),P=rC(js,te,Ee,Ft,F,[sC]),Ku(D,F,null)}finally{xu()}return new Xa(this.componentType,P,Un(Y,F),F,Y)}},Xa=class extends Za{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yt(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yu(o[M],o,i,e,n),this.previousInputValues.set(e,n);let s=At(this._tNode.index,o);Ju(s)}}get injector(){return new Ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function eC(t,e){let n=t[M],r=$e;return t[r]=e,Fo(n,r,2,"#host",null)}function tC(t,e,n,r,i,o,s){let a=i[M];nC(r,t,e,s);let u=null;e!==null&&(u=Lu(e,i[Fn]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Po(i,hh(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&za(a,t,r.length-1),ko(i,d),i[t.index]=d}function nC(t,e,n,r){for(let i of t)e.mergedAttrs=br(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ka(e,e.mergedAttrs,!0),n!==null&&oh(r,n,e))}function rC(t,e,n,r,i,o){let s=Re(),a=i[M],u=Ke(s,i);gh(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,f=Zt(i,a,d,s);Qt(f,i)}mh(a,i,s),u&&Qt(u,i);let c=Zt(i,a,s.directiveStart+s.componentOffset,s);if(t[ye]=i[ye]=c,o!==null)for(let l of o)l(c,e);return lh(a,s,i),c}function iC(t,e,n,r){if(r)Ta(t,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:o}=Um(e.selectors[0]);i&&Ta(t,n,i),o&&o.length>0&&ih(t,n,o.join(" "))}}function oC(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function sC(){let t=Re();Bu(W()[M],t)}var Wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aC;let t=e;return t})();function aC(){let t=Re();return kh(t,W())}var uC=Wn,Fh=class extends uC{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Un(this._hostTNode,this._hostLView)}get injector(){return new Ut(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uu(this._hostTNode,this._hostLView);if(kf(e)){let n=ho(e,this._hostLView),r=fo(e),i=n[M].data[r+8];return new Ut(i,n)}else return new Ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Fd(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-we}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Pr(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Or(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!sy(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let u=s?e:new kr(Ht(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(s?c:this.parentInjector).get(je,null);m&&(o=m)}let l=Ht(u.componentType??{}),d=Pr(this._lContainer,l?.id??null),f=d?.firstChild??null,h=u.create(c,i,f,o);return this.insertImpl(h.hostView,a,Or(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Xm(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[pe],c=new Fh(u,u[Ye],u[pe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Lo(s,i,o,r),e.attachToViewContainerRef(),mf(Ca(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Fd(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Nr(this._lContainer,n);r&&(uo(Ca(this._lContainer),n),Oo(r[M],r))}detach(e){let n=this._adjustIndex(e,-1),r=Nr(this._lContainer,n);return r&&uo(Ca(this._lContainer),n)!=null?new Yt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Fd(t){return t[so]}function Ca(t){return t[so]||(t[so]=[])}function kh(t,e){let n,r=e[t.index];return Ct(r)?n=r:(n=vh(r,e,null,t),e[t.index]=n,ko(e,n)),lC(n,e,t,r),new Fh(n,t,e)}function cC(t,e){let n=t[ce],r=n.createComment(""),i=Ke(e,t),o=Gu(n,i);return mo(n,o,r,Gy(n,i),!1),r}var lC=hC,dC=()=>!1;function fC(t,e,n){return dC(t,e,n)}function hC(t,e,n,r){if(t[Gt])return;let i;n.type&8?i=ot(r):i=cC(e,n),t[Gt]=i}var eu=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},tu=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)tc(e,n).matches!==null&&this.queries[n].setDirty()}},nu=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DC(e):this.predicate=e}},ru=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iu=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,pC(n,o)),this.matchTNodeWithReadOption(e,n,no(n,e,o,!1,!1))}else r===Rr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,no(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===st||i===Wn||i===Rr&&n.type&4)this.addMatch(n.index,-2);else{let o=no(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function pC(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function gC(t,e){return t.type&11?Un(t,e):t.type&4?Xu(t,e):null}function mC(t,e,n,r){return n===-1?gC(e,t):n===-2?vC(t,e,r):Zt(t,t[M],n,e)}function vC(t,e,n){if(n===st)return Un(e,t);if(n===Rr)return Xu(e,t);if(n===Wn)return kh(e,t)}function Vh(t,e,n,r){let i=e[mt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let c=s[u];if(c<0)a.push(null);else{let l=o[c];a.push(mC(e,l,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ou(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Vh(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let c=o[a+1],l=e[-u];for(let d=we;d<l.length;d++){let f=l[d];f[$r]===f[pe]&&ou(f[M],f,c,r)}if(l[kn]!==null){let d=l[kn];for(let f=0;f<d.length;f++){let h=d[f];ou(h[M],h,c,r)}}}}}return r}function yC(t,e){return t[mt].queries[e].queryList}function wC(t,e,n){let r=new Oa((n&4)===4);return sw(t,e,r,r.destroy),(e[mt]??=new tu).queries.push(new eu(r))-1}function CC(t,e,n){let r=_e();return r.firstCreatePass&&(_C(r,new nu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),wC(r,W(),e)}function DC(t){return t.split(",").map(e=>e.trim())}function _C(t,e,n){t.queries===null&&(t.queries=new ru),t.queries.track(new iu(e,n))}function tc(t,e){return t.queries.getByIndex(e)}function bC(t,e){let n=t[M],r=tc(n,e);return r.crossesNgTemplate?ou(n,t,e,[]):Vh(n,t,r,e)}function EC(t){return Object.getPrototypeOf(t.prototype).constructor}function Dt(t){let e=EC(t.type),n=!0,r=[t];for(;e;){let i;if(xt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ki(t.inputs),s.inputTransforms=Ki(t.inputTransforms),s.declaredInputs=Ki(t.declaredInputs),s.outputs=Ki(t.outputs);let a=i.hostBindings;a&&TC(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&SC(t,u),c&&xC(t,c),IC(t,i),Mm(t.outputs,i.outputs),xt(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Dt&&(n=!1)}}e=Object.getPrototypeOf(e)}MC(r)}function IC(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function MC(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=br(i.hostAttrs,n=br(n,i.hostAttrs))}}function Ki(t){return t===Pn?{}:t===Le?[]:t}function SC(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xC(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function TC(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Tt=class{},Vr=class{};var su=class extends Tt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wo(this);let i=Kd(e);this._bootstrapComponents=Jf(i.bootstrap),this._r3Injector=Gf(e,n,[{provide:Tt,useValue:this},{provide:$o,useValue:this.componentFactoryResolver},...r],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},au=class extends Vr{constructor(e){super(),this.moduleType=e}create(e){return new su(this.moduleType,e,[])}};var Co=class extends Tt{constructor(e){super(),this.componentFactoryResolver=new wo(this),this.instance=null;let n=new Ar([...e.providers,{provide:Tt,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],e.parent||ju(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function nc(t,e,n=null){return new Co({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Bo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AC(t,e,n,r,i,o,s,a,u){let c=e.consts,l=Fo(e,t,4,s||null,ao(c,a));ph(e,n,l,ao(c,u)),Bu(e,l);let d=l.tView=Zu(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function fe(t,e,n,r,i,o,s,a){let u=W(),c=_e(),l=t+$e,d=c.firstCreatePass?AC(l,c,u,e,n,r,i,o,s):c.data[l];jr(d,!1);let f=NC(c,u,d,t);Au()&&Wu(c,u,f,d),Qt(f,u);let h=vh(f,u,f,d);return u[l]=h,ko(u,h),fC(h,d,u),_u(d)&&dh(c,u,d),s!=null&&fh(u,d,a),fe}var NC=OC;function OC(t,e,n,r){return Nu(!0),e[ce].createComment("")}function Lh(t,e,n,r){return qn(t,Br(),n)?e+ku(n)+r:on}function Ji(t,e){return t<<17|e<<2}function Kt(t){return t>>17&32767}function RC(t){return(t&2)==2}function PC(t,e){return t&131071|e<<17}function uu(t){return t|2}function jn(t){return(t&131068)>>2}function Da(t,e){return t&-131069|e<<2}function FC(t){return(t&1)===1}function cu(t){return t|1}function kC(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Kt(s),u=jn(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ur(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let f=Kt(t[a+1]);t[r+1]=Ji(f,a),f!==0&&(t[f+1]=Da(t[f+1],r)),t[a+1]=PC(t[a+1],r)}else t[r+1]=Ji(a,0),a!==0&&(t[a+1]=Da(t[a+1],r)),a=r;else t[r+1]=Ji(u,0),a===0?a=r:t[u+1]=Da(t[u+1],r),u=r;c&&(t[r+1]=uu(t[r+1])),kd(t,l,r,!0),kd(t,l,r,!1),VC(e,l,t,r,o),s=Ji(a,u),o?e.classBindings=s:e.styleBindings=s}function VC(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ur(o,e)>=0&&(n[r+1]=cu(n[r+1]))}function kd(t,e,n,r){let i=t[n+1],o=e===null,s=r?Kt(i):jn(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];LC(u,e)&&(a=!0,t[s+1]=r?cu(c):uu(c)),s=r?Kt(c):jn(c)}a&&(t[n+1]=r?uu(i):cu(i))}function LC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ur(t,e)>=0:!1}function an(t,e,n){let r=W(),i=Br();if(qn(r,i,e)){let o=_e(),s=Tu();Qu(o,s,r,t,e,r[ce],n,!1)}return an}function Vd(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yu(t,n,o[s],s,r)}function Uo(t,e){return $C(t,e,null,!0),Uo}function $C(t,e,n,r){let i=W(),o=_e(),s=hv(2);if(o.firstUpdatePass&&BC(o,t,s,r),e!==on&&qn(i,s,e)){let a=o.data[Xt()];WC(o,a,i,i[ce],t,i[s+1]=qC(e,n),r,s)}}function jC(t,e){return e>=t.expandoStartIndex}function BC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Xt()],s=jC(t,n);ZC(o,r)&&e===null&&!s&&(e=!1),e=UC(i,o,e,r),kC(i,o,e,n,s,r)}}function UC(t,e,n,r){let i=vv(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=_a(null,t,e,n,r),n=Lr(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=_a(i,t,e,n,r),o===null){let u=HC(t,e,r);u!==void 0&&Array.isArray(u)&&(u=_a(null,t,e,u[1],r),u=Lr(u,e.attrs,r),zC(t,e,r,u))}else o=GC(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function HC(t,e,n){let r=n?e.classBindings:e.styleBindings;if(jn(r)!==0)return t[Kt(r)]}function zC(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Kt(i)]=r}function GC(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Lr(r,s,n)}return Lr(r,e.attrs,n)}function _a(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Lr(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Lr(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Mv(t,s,n?!0:e[++o]))}return t===void 0?null:t}function WC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=FC(c)?Ld(u,e,n,i,jn(c),s):void 0;if(!Do(l)){Do(o)||RC(c)&&(o=Ld(u,null,n,i,a,s));let d=rf(Xt(),n);Jy(r,s,d,i,o)}}function Ld(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,f=n[i+1];f===on&&(f=d?Le:void 0);let h=d?ha(f,r):l===r?f:void 0;if(c&&!Do(h)&&(h=ha(u,r)),Do(h)&&(a=h,s))return a;let p=t[i+1];i=s?Kt(p):jn(p)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ha(u,r))}return a}function Do(t){return t!==void 0}function qC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Me(No(t)))),t}function ZC(t,e){return(t.flags&(e?8:16))!==0}var lu=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ba(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function QC(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let u=t.at(o),c=e[o],l=ba(o,u,o,c,n);if(l!==0){l<0&&t.updateValue(o,c),o++;continue}let d=t.at(s),f=e[a],h=ba(s,d,a,f,n);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let p=n(o,u),m=n(s,d),O=n(o,c);if(Object.is(O,m)){let D=n(a,f);Object.is(D,p)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(r??=new _o,i??=jd(t,o,s,n),du(t,r,o,O))t.updateValue(o,c),o++,s++;else if(i.has(O))r.set(p,t.detach(o)),s--;else{let D=t.create(o,e[o]);t.attach(o,D),o++,s++}}for(;o<=a;)$d(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&o<=s;){let c=t.at(o),l=u.value,d=ba(o,c,o,l,n);if(d!==0)d<0&&t.updateValue(o,l),o++,u=a.next();else{r??=new _o,i??=jd(t,o,s,n);let f=n(o,l);if(du(t,r,o,f))t.updateValue(o,l),o++,s++,u=a.next();else if(!i.has(f))t.attach(o,t.create(o,l)),o++,s++,u=a.next();else{let h=n(o,c);r.set(h,t.detach(o)),s--}}}for(;!u.done;)$d(t,r,n,t.length,u.value),u=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function du(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function $d(t,e,n,r,i){if(du(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function jd(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var _o=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ge(t,e,n){jo("NgControlFlow");let r=W(),i=Br(),o=gu(r,$e+t),s=0;if(qn(r,i,e)){let a=he(null);try{if(bh(o,s),e!==-1){let u=mu(r[M],$e+e),c=Pr(o,u.tView.ssrId),l=Vo(r,u,n,{dehydratedView:c});Lo(o,l,s,Or(u,c))}}finally{he(a)}}else{let a=_h(o,s);a!==void 0&&(a[ye]=n)}}var fu=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-we}};function $h(t,e){return e}var hu=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function jh(t,e,n,r,i,o,s,a,u,c,l,d,f){jo("NgControlFlow");let h=u!==void 0,p=W(),m=a?s.bind(p[Qe][ye]):s,O=new hu(h,m);p[$e+t]=O,fe(t+1,e,n,r,i,o),h&&fe(t+2,u,c,l,d,f)}var pu=class extends lu{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-we}at(e){return this.getLView(e)[ye].$implicit}attach(e,n){let r=n[Er];this.needsIndexUpdate||=e!==this.length,Lo(this.lContainer,n,e,Or(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,YC(this.lContainer,e)}create(e,n){let r=Pr(this.lContainer,this.templateTNode.tView.ssrId);return Vo(this.hostLView,this.templateTNode,new fu(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Oo(e[M],e)}updateValue(e,n){this.getLView(e)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ye].$index=e}getLView(e){return KC(this.lContainer,e)}};function Bh(t){let e=he(null),n=Xt();try{let r=W(),i=r[M],o=r[n];if(o.liveCollection===void 0){let a=n+1,u=gu(r,a),c=mu(i,a);o.liveCollection=new pu(u,r,c)}else o.liveCollection.reset();let s=o.liveCollection;if(QC(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Br(),u=s.length===0;if(qn(r,a,u)){let c=n+2,l=gu(r,c);if(u){let d=mu(i,c),f=Pr(l,d.tView.ssrId),h=Vo(r,d,void 0,{dehydratedView:f});Lo(l,h,0,Or(d,f))}else bh(l,0)}}}finally{he(e)}}function gu(t,e){return t[e]}function YC(t,e){return Nr(t,e)}function KC(t,e){return _h(t,e)}function mu(t,e){return bu(t,e)}function JC(t,e,n,r,i,o){let s=e.consts,a=ao(s,i),u=Fo(e,t,2,r,a);return ph(e,n,u,ao(s,o)),u.attrs!==null&&Ka(u,u.attrs,!1),u.mergedAttrs!==null&&Ka(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function y(t,e,n,r){let i=W(),o=_e(),s=$e+t,a=i[ce],u=o.firstCreatePass?JC(s,o,i,e,n,r):o.data[s],c=XC(o,i,u,a,e,t);i[s]=c;let l=_u(u);return jr(u,!0),oh(a,c,u),(u.flags&32)!==32&&Au()&&Wu(o,i,c,u),rv()===0&&Qt(c,i),iv(),l&&(dh(o,i,u),lh(o,u,i)),r!==null&&fh(i,u),y}function C(){let t=Re();uf()?lv():(t=t.parent,jr(t,!1));let e=t;av(e)&&uv(),ov();let n=_e();return n.firstCreatePass&&(Bu(n,t),nf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hy(e)&&Vd(n,e,W(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&py(e)&&Vd(n,e,W(),e.stylesWithoutHost,!1),C}function be(t,e,n,r){return y(t,e,n,r),C(),be}var XC=(t,e,n,r,i,o)=>(Nu(!0),Xf(r,i,Cv()));function xe(){return W()}var bo="en-US";var eD=bo;function tD(t){typeof t=="string"&&(eD=t.toLowerCase().replace(/_/g,"-"))}function K(t,e,n,r){let i=W(),o=_e(),s=Re();return Uh(o,i,i[ce],s,t,e,r),K}function nD(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ir],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Uh(t,e,n,r,i,o,s){let a=_u(r),c=t.firstCreatePass&&Ch(t),l=e[ye],d=wh(e),f=!0;if(r.type&3||s){let m=Ke(r,e),O=s?s(m):m,D=d.length,F=s?Y=>s(ot(Y[r.index])):r.index,P=null;if(!s&&a&&(P=nD(t,e,i,r.index)),P!==null){let Y=P.__ngLastListenerFn__||P;Y.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,f=!1}else{o=Ud(r,e,l,o,!1);let Y=n.listen(O,i,o);d.push(o,Y),c&&c.push(i,F,D,D+1)}}else o=Ud(r,e,l,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let O=0;O<m;O+=2){let D=p[O],F=p[O+1],te=e[D][F].subscribe(o),Ee=d.length;if(d.push(o,te),c){let Ft=typeof te=="function"?Ee+1:-(Ee+1);c.push(i,r.index,Ee,Ft)}}}}function Bd(t,e,n,r){try{return nt(6,e,n),n(r)!==!1}catch(i){return Dh(t,i),!1}finally{nt(7,e,n)}}function Ud(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?At(t.index,e):e;Ju(a);let u=Bd(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Bd(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function L(t=1){return wv(t)}function rc(t,e,n){return Hh(t,"",e,"",n),rc}function Hh(t,e,n,r,i){let o=W(),s=Lh(o,e,n,r);if(s!==on){let a=_e(),u=Tu();Qu(a,u,o,t,s,o[ce],i,!1)}return Hh}function Zn(t,e,n){CC(t,e,n)}function un(t){let e=W(),n=_e(),r=cf();Mu(r+1);let i=tc(n,r);if(t.dirty&&Jm(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=bC(e,r);t.reset(o,_v),t.notifyOnChanges()}return!0}return!1}function cn(){return yC(W(),cf())}function ic(t){let e=dv();return Km(e,$e+t)}function w(t,e=""){let n=W(),r=_e(),i=t+$e,o=r.firstCreatePass?Fo(r,i,1,e,null):r.data[i],s=rD(r,n,o,e,t);n[i]=s,Au()&&Wu(r,n,s,o),jr(o,!1)}var rD=(t,e,n,r,i)=>(Nu(!0),Ry(e[ce],r));function Qn(t){return at("",t,""),Qn}function at(t,e,n){let r=W(),i=Lh(r,t,e,n);return i!==on&&bw(r,Xt(),i),at}function zr(t,e,n){Rh(e)&&(e=e());let r=W(),i=Br();if(qn(r,i,e)){let o=_e(),s=Tu();Qu(o,s,r,t,e,r[ce],n,!1)}return zr}function Ho(t,e){let n=Rh(t);return n&&t.set(e),n}function Gr(t,e){let n=W(),r=_e(),i=Re();return Uh(r,n,n[ce],i,t,e),Gr}function iD(t,e,n){let r=_e();if(r.firstCreatePass){let i=xt(t);vu(n,r.data,r.blueprint,i,!0),vu(e,r.data,r.blueprint,i,!1)}}function vu(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let o=0;o<t.length;o++)vu(t[o],e,n,r,i);else{let o=_e(),s=W(),a=Re(),u=$n(t)?t:De(t.provide),c=Af(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if($n(t)||!t.multi){let h=new qt(c,i,B),p=Ia(u,e,i?l:l+f,d);p===-1?(Ba(po(a,s),o,u),Ea(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Ia(u,e,l+f,d),p=Ia(u,e,l,l+f),m=h>=0&&n[h],O=p>=0&&n[p];if(i&&!O||!i&&!m){Ba(po(a,s),o,u);let D=aD(i?sD:oD,n.length,i,r,c);!i&&O&&(n[p].providerFactory=D),Ea(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=zh(n[i?p:h],c,!i&&r);Ea(o,t,h>-1?h:p,D)}!i&&r&&O&&n[p].componentProviders++}}}function Ea(t,e,n,r){let i=$n(e),o=Xv(e);if(i||o){let u=(o?De(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function zh(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ia(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oD(t,e,n,r){return yu(this.multi,[])}function sD(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zt(n,n[M],this.providerFactory.index,r);o=a.slice(0,s),yu(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],yu(i,o);return o}function yu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aD(t,e,n,r,i){let o=new qt(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,zh(o,i,r&&!n),o}function Wr(t,e=[]){return n=>{n.providersResolver=(r,i)=>iD(r,i?i(t):t,e)}}var uD=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Sf(!1,r.type),o=i.length>0?nc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(H(je))});let t=e;return t})();function Te(t){jo("NgStandalone"),t.getStandaloneInjector=e=>e.get(uD).getOrCreateStandaloneInjector(t)}var zo=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Gh=new A("");function ln(t){return!!t&&typeof t.then=="function"}function Wh(t){return!!t&&typeof t.subscribe=="function"}var qh=new A(""),Zh=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(qh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ln(s))r.push(s);else if(Wh(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oc=new A("");function cD(){Vl(()=>{throw new _(600,!1)})}function lD(t){return t.isBoundToModule}function dD(t,e,n){try{let r=n();return ln(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var qr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Wf),this.afterRenderEffectManager=v(Ph),this.componentTypes=[],this.components=[],this.isStable=v(Bo).hasPendingTasks.pipe(j(r=>!r)),this._injector=v(je)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof yo;if(!this._injector.get(Zh).done){let h=!o&&Yd(r),p=!1;throw new _(405,p)}let a;o?a=r:a=this._injector.get($o).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=lD(a)?void 0:this._injector.get(Tt),c=i||a.selector,l=a.create(zn.NULL,[],c,u),d=l.location.nativeElement,f=l.injector.get(Gh,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ma(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new _(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===xh)throw new _(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Sa(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Sa(s))&&(i.execute(),!this._views.some(({_lView:s})=>Sa(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[b]|=1024):r[b]&64?s=0:s=1,Th(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ma(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(oc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ma(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ma(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sa(t){return Iu(t)}var wu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sc=(()=>{let e=class e{compileModuleSync(r){return new au(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Kd(r),s=Jf(o.declarations).reduce((a,u)=>{let c=Ht(u);return c&&a.push(new kr(c)),a},[]);return new wu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fD=(()=>{let e=class e{constructor(){this.zone=v(se),this.applicationRef=v(qr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hD(t){return[{provide:se,useFactory:t},{provide:Ln,multi:!0,useFactory:()=>{let e=v(fD,{optional:!0});return()=>e.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{let e=v(vD);return()=>{e.initialize()}}},{provide:Wf,useFactory:pD}]}function pD(){let t=v(se),e=v(vt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function gD(t){let e=hD(()=>new se(mD(t)));return To([[],e])}function mD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vD=(()=>{let e=class e{constructor(){this.subscription=new ae,this.initialized=!1,this.zone=v(se),this.pendingTasks=v(Bo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yD(){return typeof $localize<"u"&&$localize.locale||bo}var ac=new A("",{providedIn:"root",factory:()=>v(ac,k.Optional|k.SkipSelf)||yD()});var Qh=new A("");var io=null;function wD(t=[],e){return zn.create({name:e,providers:[{provide:Ao,useValue:"platform"},{provide:Qh,useValue:new Set([()=>io=null])},...t]})}function CD(t=[]){if(io)return io;let e=wD(t);return io=e,cD(),DD(e),e}function DD(t){t.get(Pu,null)?.forEach(n=>n())}function Yh(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CD(r),o=[gD(),...n||[]],a=new Co({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(se);return u.run(()=>{a.resolveInjectorInitializers();let c=a.get(vt,null),l;u.runOutsideAngular(()=>{l=u.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Qh);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),dD(c,u,()=>{let h=a.get(Zh);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(ac,bo);tD(p||bo);let m=a.get(qr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function Go(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Xh=null;function _t(){return Xh}function ep(t){Xh??=t}var Wo=class{};var Be=new A(""),tp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(ED),providedIn:"platform"});let t=e;return t})();var ED=(()=>{let e=class e extends tp{constructor(){super(),this._doc=v(Be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _t().getBaseHref(this._doc)}onPopState(r){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function np(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Kh(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dn(t){return t&&t[0]!=="?"?"?"+t:t}var Zo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(rp),providedIn:"root"});let t=e;return t})(),ID=new A(""),rp=(()=>{let e=class e extends Zo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return np(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(H(tp),H(ID,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zr=(()=>{let e=class e{constructor(r){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=xD(Kh(Jh(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dn(i))}normalize(r){return e.stripTrailingSlash(SD(this._basePath,Jh(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=dn,e.joinWithSlash=np,e.stripTrailingSlash=Kh,e.\u0275fac=function(i){return new(i||e)(H(Zo))},e.\u0275prov=E({token:e,factory:()=>MD(),providedIn:"root"});let t=e;return t})();function MD(){return new Zr(H(Zo))}function SD(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Jh(t){return t.replace(/\/index.html$/,"")}function xD(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ip(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var op="browser",TD="server";function cc(t){return t===TD}var qo=class{};var fc=class extends Wo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hc=class t extends fc{static makeCurrent(){ep(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ND();return n==null?null:OD(n)}resetBaseElement(){Qr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ip(document.cookie,e)}},Qr=null;function ND(){return Qr=Qr||document.querySelector("base"),Qr?Qr.getAttribute("href"):null}function OD(t){return new URL(t,document.baseURI).pathname}var RD=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=new A(""),cp=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(H(pc),H(se))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Qo=class{constructor(e){this._doc=e}},lc="ng-app-id",lp=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${lc}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(lc),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lc,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(H(Be),H(Ru),H(Fu,8),H(Hn))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mc=/%COMP%/g,dp="%COMP%",PD=`_nghost-${dp}`,FD=`_ngcontent-${dp}`,kD=!0,VD=new A("",{providedIn:"root",factory:()=>kD});function LD(t){return FD.replace(mc,t)}function $D(t){return PD.replace(mc,t)}function fp(t,e){return e.map(n=>n.replace(mc,t))}var sp=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=cc(u),this.defaultRenderer=new Yr(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===it.ShadowDom&&(i=R(g({},i),{encapsulation:it.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Yo?o.applyToHost(r):o instanceof Kr&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case it.Emulated:s=new Yo(c,l,i,this.appId,d,a,u,f);break;case it.ShadowDom:return new gc(c,l,r,i,a,u,this.nonce,f);default:s=new Kr(c,l,i,d,a,u,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(H(cp),H(lp),H(Ru),H(VD),H(Be),H(Hn),H(se),H(Fu))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Yr=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dc[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ap(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ap(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=dc[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dc[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yt.DashCase|yt.Important)?e.style.setProperty(n,r,i&yt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=_t().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ap(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gc=class extends Yr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=fp(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kr=class extends Yr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fp(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yo=class extends Kr{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=LD(c),this.hostAttr=$D(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},jD=(()=>{let e=class e extends Qo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(H(Be))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),up=["alt","control","meta","shift"],BD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},HD=(()=>{let e=class e extends Qo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_t().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),up.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=BD[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),up.forEach(a=>{if(a!==o){let u=UD[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(H(Be))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function hp(t,e){return Yh(g({rootComponent:t},zD(e)))}function zD(t){return{appProviders:[...QD,...t?.providers??[]],platformProviders:ZD}}function GD(){hc.makeCurrent()}function WD(){return new vt}function qD(){return yf(document),document}var ZD=[{provide:Hn,useValue:op},{provide:Pu,useValue:GD,multi:!0},{provide:Be,useFactory:qD,deps:[]}];var QD=[{provide:Ao,useValue:"root"},{provide:vt,useFactory:WD,deps:[]},{provide:pc,useClass:jD,multi:!0,deps:[Be,se,Hn]},{provide:pc,useClass:HD,multi:!0,deps:[Be]},sp,lp,cp,{provide:Fr,useExisting:sp},{provide:qo,useClass:RD,deps:[]},[]];var pp=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(H(Be))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N="primary",fi=Symbol("RouteTitle"),Dc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function er(t){return new Dc(t)}function JD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function XD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ut(t[n],e[n]))return!1;return!0}function ut(t,e){let n=t?_c(t):void 0,r=e?_c(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Cp(t[i],e[i]))return!1;return!0}function _c(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Cp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Dp(t){return t.length>0?t[t.length-1]:null}function Rt(t){return ra(t)?t:ln(t)?re(Promise.resolve(t)):S(t)}var e_={exact:bp,subset:Ep},_p={exact:t_,subset:n_,ignored:()=>!0};function gp(t,e,n){return e_[n.paths](t.root,e.root,n.matrixParams)&&_p[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function t_(t,e){return ut(t,e)}function bp(t,e,n){if(!hn(t.segments,e.segments)||!Xo(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!bp(t.children[r],e.children[r],n))return!1;return!0}function n_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cp(t[n],e[n]))}function Ep(t,e,n){return Ip(t,e,e.segments,n)}function Ip(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hn(i,n)||e.hasChildren()||!Xo(i,n,r))}else if(t.segments.length===n.length){if(!hn(t.segments,n)||!Xo(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Ep(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hn(t.segments,i)||!Xo(t.segments,i,r)||!t.children[N]?!1:Ip(t.children[N],e,o,r)}}function Xo(t,e,n){return e.every((r,i)=>_p[n](t[i].parameters,r.parameters))}var Nt=class{constructor(e=new q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){return o_.serialize(this)}},q=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return es(this)}},fn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=er(this.parameters),this._parameterMap}toString(){return Sp(this)}};function r_(t,e){return hn(t,e)&&t.every((n,r)=>ut(n.parameters,e[r].parameters))}function hn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function i_(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===N&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==N&&(n=n.concat(e(i,r)))}),n}var Zc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new ns,providedIn:"root"});let t=e;return t})(),ns=class{parse(e){let n=new Ec(e);return new Nt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Jr(e.root,!0)}`,r=u_(e.queryParams),i=typeof e.fragment=="string"?`#${s_(e.fragment)}`:"";return`${n}${r}${i}`}},o_=new ns;function es(t){return t.segments.map(e=>Sp(e)).join("/")}function Jr(t,e){if(!t.hasChildren())return es(t);if(e){let n=t.children[N]?Jr(t.children[N],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==N&&r.push(`${i}:${Jr(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=i_(t,(r,i)=>i===N?[Jr(t.children[N],!1)]:[`${i}:${Jr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[N]!=null?`${es(t)}/${n[0]}`:`${es(t)}/(${n.join("//")})`}}function Mp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ko(t){return Mp(t).replace(/%3B/gi,";")}function s_(t){return encodeURI(t)}function bc(t){return Mp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ts(t){return decodeURIComponent(t)}function mp(t){return ts(t.replace(/\+/g,"%20"))}function Sp(t){return`${bc(t.path)}${a_(t.parameters)}`}function a_(t){return Object.entries(t).map(([e,n])=>`;${bc(e)}=${bc(n)}`).join("")}function u_(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ko(n)}=${Ko(i)}`).join("&"):`${Ko(n)}=${Ko(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var c_=/^[^\/()?;#]+/;function vc(t){let e=t.match(c_);return e?e[0]:""}var l_=/^[^\/()?;=#]+/;function d_(t){let e=t.match(l_);return e?e[0]:""}var f_=/^[^=?&#]+/;function h_(t){let e=t.match(f_);return e?e[0]:""}var p_=/^[^&#]+/;function g_(t){let e=t.match(p_);return e?e[0]:""}var Ec=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[N]=new q(e,n)),r}parseSegment(){let e=vc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new fn(ts(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=d_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vc(this.remaining);i&&(r=i,this.capture(r))}e[ts(n)]=ts(r)}parseQueryParam(e){let n=h_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=g_(this.remaining);s&&(r=s,this.capture(r))}let i=mp(n),o=mp(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vc(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=N);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[N]:new q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function xp(t){return t.segments.length>0?new q([],{[N]:t}):t}function Tp(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Tp(i);if(r===N&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new q(t.segments,e);return m_(n)}function m_(t){if(t.numberOfChildren===1&&t.children[N]){let e=t.children[N];return new q(t.segments.concat(e.segments),e.children)}return t}function tr(t){return t instanceof Nt}function v_(t,e,n=null,r=null){let i=Ap(t);return Np(i,e,n,r)}function Ap(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new q(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=xp(r);return e??i}function Np(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yc(i,i,i,n,r);let o=y_(e);if(o.toRoot())return yc(i,i,new q([],{}),n,r);let s=w_(o,i,t),a=s.processChildren?ti(s.segmentGroup,s.index,o.commands):Rp(s.segmentGroup,s.index,o.commands);return yc(i,s.segmentGroup,a,n,r)}function rs(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ii(t){return typeof t=="object"&&t!=null&&t.outlets}function yc(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=Op(t,e,n);let a=xp(Tp(s));return new Nt(a,o,i)}function Op(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Op(o,e,n)}),new q(t.segments,r)}var is=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rs(r[0]))throw new _(4003,!1);let i=r.find(ii);if(i&&i!==Dp(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function y_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new is(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new is(n,e,r)}var Jn=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function w_(t,e,n){if(t.isAbsolute)return new Jn(e,!0,0);if(!n)return new Jn(e,!1,NaN);if(n.parent===null)return new Jn(n,!0,0);let r=rs(t.commands[0])?0:1,i=n.segments.length-1+r;return C_(n,i,t.numberOfDoubleDots)}function C_(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Jn(r,!1,i-o)}function D_(t){return ii(t[0])?t[0].outlets:{[N]:t}}function Rp(t,e,n){if(t??=new q([],{}),t.segments.length===0&&t.hasChildren())return ti(t,e,n);let r=__(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new q(t.segments.slice(0,r.pathIndex),{});return o.children[N]=new q(t.segments.slice(r.pathIndex),t.children),ti(o,0,i)}else return r.match&&i.length===0?new q(t.segments,{}):r.match&&!t.hasChildren()?Ic(t,e,n):r.match?ti(t,0,i):Ic(t,e,n)}function ti(t,e,n){if(n.length===0)return new q(t.segments,{});{let r=D_(n),i={};if(Object.keys(r).some(o=>o!==N)&&t.children[N]&&t.numberOfChildren===1&&t.children[N].segments.length===0){let o=ti(t.children[N],e,n);return new q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Rp(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new q(t.segments,i)}}function __(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ii(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!yp(u,c,s))return o;r+=2}else{if(!yp(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ic(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ii(o)){let u=b_(o.outlets);return new q(r,u)}if(i===0&&rs(n[0])){let u=t.segments[e];r.push(new fn(u.path,vp(n[0]))),i++;continue}let s=ii(o)?o.outlets[N]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rs(a)?(r.push(new fn(s,vp(a))),i+=2):(r.push(new fn(s,{})),i++)}return new q(r,{})}function b_(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ic(new q([],{}),0,r))}),e}function vp(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yp(t,e,n){return t==n.path&&ut(e,n.parameters)}var ni="imperative",me=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(me||{}),He=class{constructor(e,n){this.id=e,this.url=n}},oi=class extends He{constructor(e,n,r="imperative",i=null){super(e,n),this.type=me.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends He{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ue||{}),Mc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Mc||{}),Ot=class extends He{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends He{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=me.NavigationSkipped}},si=class extends He{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},os=class extends He{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class extends He{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xc=class extends He{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tc=class extends He{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ac=class extends He{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nc=class{constructor(e){this.route=e,this.type=me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oc=class{constructor(e){this.route=e,this.type=me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rc=class{constructor(e){this.snapshot=e,this.type=me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(e){this.snapshot=e,this.type=me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fc=class{constructor(e){this.snapshot=e,this.type=me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{constructor(e){this.snapshot=e,this.type=me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ai=class{},ui=class{constructor(e){this.url=e}};var Vc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ds,this.attachRef=null}},ds=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vc,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ss=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lc(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Lc(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$c(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $c(e,this._root).map(n=>n.value)}};function Lc(t,e){if(t===e.value)return e;for(let n of e.children){let r=Lc(t,n);if(r)return r}return null}function $c(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$c(t,n);if(r.length)return r.unshift(e),r}return[]}var Pe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Kn(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var as=class extends ss{constructor(e,n){super(e),this.snapshot=n,Yc(this,e)}toString(){return this.snapshot.toString()}};function Pp(t){let e=E_(t),n=new ne([new fn("",{})]),r=new ne({}),i=new ne({}),o=new ne({}),s=new ne(""),a=new nr(n,r,o,s,i,N,t,e.root);return a.snapshot=e.root,new as(new Pe(a,[]),e)}function E_(t){let e={},n={},r={},i="",o=new ci([],e,r,i,n,N,t,null,{});return new us("",new Pe(o,[]))}var nr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(j(c=>c[fi]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>er(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>er(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),t.params),data:g(g({},e.data),t.data),resolve:g(g(g(g({},t.data),e.data),i?.data),t._resolvedData)}:r={params:g({},t.params),data:g({},t.data),resolve:g(g({},t.data),t._resolvedData??{})},i&&kp(i)&&(r.resolve[fi]=i.title),r}var ci=class{get title(){return this.data?.[fi]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},us=class extends ss{constructor(e,n){super(n),this.url=e,Yc(this,n)}toString(){return Fp(this._root)}};function Yc(t,e){e.value._routerState=t,e.children.forEach(n=>Yc(t,n))}function Fp(t){let e=t.children.length>0?` { ${t.children.map(Fp).join(", ")} } `:"";return`${t.value}${e}`}function wc(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ut(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ut(e.params,n.params)||t.paramsSubject.next(n.params),XD(e.url,n.url)||t.urlSubject.next(n.url),ut(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jc(t,e){let n=ut(t.params,e.params)&&r_(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jc(t.parent,e.parent))}function kp(t){return typeof t.title=="string"||t.title===null}var Kc=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=N,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.parentContexts=v(ds),this.location=v(Wn),this.changeDetector=v(sn),this.environmentInjector=v(je),this.inputBinder=v(Jc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Bc(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rn]});let t=e;return t})(),Bc=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nr?this.route:e===ds?this.childContexts:this.parent.get(e,n)}},Jc=new A("");function I_(t,e,n){let r=li(t,e._root,n?n._root:void 0);return new as(r,e)}function li(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=M_(t,e,n);return new Pe(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>li(t,a)),s}}let r=S_(e.value),i=e.children.map(o=>li(t,o));return new Pe(r,i)}}function M_(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return li(t,r,i);return li(t,r)})}function S_(t){return new nr(new ne(t.url),new ne(t.params),new ne(t.queryParams),new ne(t.fragment),new ne(t.data),t.outlet,t.component,t)}var Vp="ngNavigationCancelingError";function Lp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$p(!1,Ue.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function $p(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Vp]=!0,n.cancellationCode=e,n}function x_(t){return jp(t)&&tr(t.url)}function jp(t){return!!t&&t[Vp]}var T_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["ng-component"]],standalone:!0,features:[Te],decls:1,vars:0,template:function(i,o){i&1&&be(0,"router-outlet")},dependencies:[Kc],encapsulation:2});let t=e;return t})();function A_(t,e){return t.providers&&!t._injector&&(t._injector=nc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xc(t){let e=t.children&&t.children.map(Xc),n=e?R(g({},t),{children:e}):g({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==N&&(n.component=T_),n}function ct(t){return t.outlet||N}function N_(t,e){let n=t.filter(r=>ct(r)===e);return n.push(...t.filter(r=>ct(r)!==e)),n}function hi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var O_=(t,e,n,r)=>j(i=>(new Uc(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Uc=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wc(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Kn(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Kn(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kc(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pc(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(wc(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wc(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=hi(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},cs=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xn=class{constructor(e,n){this.component=e,this.route=n}};function R_(t,e,n){let r=t._root,i=e?e._root:null;return Xr(r,i,n,[r.value])}function P_(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ir(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!wf(t)?t:e.get(t):r}function Xr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kn(e);return t.children.forEach(s=>{F_(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ri(a,n.getContext(s),i)),i}function F_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=k_(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cs(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xr(t,e,a?a.children:null,r,i):Xr(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xn(a.outlet.component,s))}else s&&ri(e,a,i),i.canActivateChecks.push(new cs(r)),o.component?Xr(t,null,a?a.children:null,r,i):Xr(t,null,n,r,i);return i}function k_(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!ut(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jc(t,e)||!ut(t.queryParams,e.queryParams);case"paramsChange":default:return!jc(t,e)}}function ri(t,e,n){let r=Kn(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ri(s,e.children.getContext(o),n):ri(s,null,n):ri(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xn(e.outlet.component,i)):n.canDeactivateChecks.push(new Xn(null,i)):n.canDeactivateChecks.push(new Xn(null,i))}function pi(t){return typeof t=="function"}function V_(t){return typeof t=="boolean"}function L_(t){return t&&pi(t.canLoad)}function $_(t){return t&&pi(t.canActivate)}function j_(t){return t&&pi(t.canActivateChild)}function B_(t){return t&&pi(t.canDeactivate)}function U_(t){return t&&pi(t.canMatch)}function Bp(t){return t instanceof ht||t?.name==="EmptyError"}var Jo=Symbol("INITIAL_VALUE");function rr(){return We(t=>Zi(t.map(e=>e.pipe(pt(1),ca(Jo)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===Jo)return Jo;if(n===!1||n instanceof Nt)return n}return!0}),Ge(e=>e!==Jo),pt(1)))}function H_(t,e){return ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?S(R(g({},n),{guardsResult:!0})):z_(s,r,i,t).pipe(ue(a=>a&&V_(a)?G_(r,o,t,e):S(a)),j(a=>R(g({},n),{guardsResult:a})))})}function z_(t,e,n,r){return re(t).pipe(ue(i=>Y_(i.component,i.route,n,e,r)),tt(i=>i!==!0,!0))}function G_(t,e,n,r){return re(e).pipe(xn(i=>Sn(q_(i.route.parent,r),W_(i.route,r),Q_(t,i.path,n),Z_(t,i.route,n))),tt(i=>i!==!0,!0))}function W_(t,e){return t!==null&&e&&e(new Fc(t)),S(!0)}function q_(t,e){return t!==null&&e&&e(new Rc(t)),S(!0)}function Z_(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>Qi(()=>{let s=hi(e)??n,a=ir(o,s),u=$_(a)?a.canActivate(e,t):nn(s,()=>a(e,t));return Rt(u).pipe(tt())}));return S(i).pipe(rr())}function Q_(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>P_(s)).filter(s=>s!==null).map(s=>Qi(()=>{let a=s.guards.map(u=>{let c=hi(s.node)??n,l=ir(u,c),d=j_(l)?l.canActivateChild(r,t):nn(c,()=>l(r,t));return Rt(d).pipe(tt())});return S(a).pipe(rr())}));return S(o).pipe(rr())}function Y_(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let u=hi(e)??i,c=ir(a,u),l=B_(c)?c.canDeactivate(t,e,n,r):nn(u,()=>c(t,e,n,r));return Rt(l).pipe(tt())});return S(s).pipe(rr())}function K_(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=ir(s,t),u=L_(a)?a.canLoad(e,n):nn(t,()=>a(e,n));return Rt(u)});return S(o).pipe(rr(),Up(r))}function Up(t){return Xs(le(e=>{if(tr(e))throw Lp(t,e)}),j(e=>e===!0))}function J_(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=ir(s,t),u=U_(a)?a.canMatch(e,n):nn(t,()=>a(e,n));return Rt(u)});return S(o).pipe(rr(),Up(r))}var di=class{constructor(e){this.segmentGroup=e||null}},ls=class extends Error{constructor(e){super(),this.urlTree=e}};function Yn(t){return Mn(new di(t))}function X_(t){return Mn(new _(4e3,!1))}function e0(t){return Mn($p(!1,Ue.GuardRejected))}var Hc=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[N])return X_(e.redirectTo);i=i.children[N]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ls(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Nt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t0(t,e,n,r,i){let o=el(t,e,n);return o.matched?(r=A_(e,r),J_(r,e,n,i).pipe(j(s=>s===!0?o:g({},zc)))):S(o)}function el(t,e,n){if(e.path==="**")return n0(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?g({},zc):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JD)(n,t,e);if(!i)return g({},zc);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?g(g({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function n0(t){return{matched:!0,parameters:t.length>0?Dp(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wp(t,e,n,r){return n.length>0&&o0(t,n,r)?{segmentGroup:new q(e,i0(r,new q(n,t.children))),slicedSegments:[]}:n.length===0&&s0(t,n,r)?{segmentGroup:new q(t.segments,r0(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new q(t.segments,t.children),slicedSegments:n}}function r0(t,e,n,r){let i={};for(let o of n)if(fs(t,e,o)&&!r[ct(o)]){let s=new q([],{});i[ct(o)]=s}return g(g({},r),i)}function i0(t,e){let n={};n[N]=e;for(let r of t)if(r.path===""&&ct(r)!==N){let i=new q([],{});n[ct(r)]=i}return n}function o0(t,e,n){return n.some(r=>fs(t,e,r)&&ct(r)!==N)}function s0(t,e,n){return n.some(r=>fs(t,e,r))}function fs(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function a0(t,e,n,r){return ct(t)!==r&&(r===N||!fs(e,n,t))?!1:el(e,t,n).matched}function u0(t,e,n){return e.length===0&&!t.children[n]}var Gc=class{};function c0(t,e,n,r,i,o,s="emptyOnly"){return new Wc(t,e,n,r,i,s,o).recognize()}var l0=31,Wc=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=wp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let r=new ci([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},N,this.rootComponentType,null,{}),i=new Pe(r,n),o=new us("",i),s=v_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,N).pipe(It(r=>{if(r instanceof ls)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof di?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Qc(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(j(o=>o instanceof Pe?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return re(i).pipe(xn(o=>{let s=r.children[o],a=N_(n,o);return this.processSegmentGroup(e,a,s,o)}),ua((o,s)=>(o.push(...s),o)),Mt(null),aa(),ue(o=>{if(o===null)return Yn(r);let s=Hp(o);return d0(s),S(s)}))}processSegment(e,n,r,i,o,s){return re(n).pipe(xn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(It(u=>{if(u instanceof di)return S(null);throw u}))),tt(a=>!!a),It(a=>{if(Bp(a))return u0(r,i,o)?S(new Gc):Yn(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return a0(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Yn(i):Yn(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=el(n,i,o);if(!a)return Yn(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>l0&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(ue(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=t0(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(We(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(We(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new ci(l,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,h0(r),ct(r),r.component??r._loadedComponent??null,r,p0(r)),{segmentGroup:p,slicedSegments:m}=wp(n,l,d,u);if(m.length===0&&p.hasChildren())return this.processChildren(c,u,p).pipe(j(D=>D===null?null:new Pe(h,D)));if(u.length===0&&m.length===0)return S(new Pe(h,[]));let O=ct(r)===o;return this.processSegment(c,u,p,m,O?N:o,!0).pipe(j(D=>new Pe(h,D instanceof Pe?[D]:[])))}))):Yn(n)))}getChildConfig(e,n,r){return n.children?S({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):K_(e,n,r,this.urlSerializer).pipe(ue(i=>i?this.configLoader.loadChildren(e,n).pipe(le(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):e0(n))):S({routes:[],injector:e})}};function d0(t){t.sort((e,n)=>e.value.outlet===N?-1:n.value.outlet===N?1:e.value.outlet.localeCompare(n.value.outlet))}function f0(t){let e=t.value.routeConfig;return e&&e.path===""}function Hp(t){let e=[],n=new Set;for(let r of t){if(!f0(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Hp(r.children);e.push(new Pe(r.value,i))}return e.filter(r=>!n.has(r))}function h0(t){return t.data||{}}function p0(t){return t.resolve||{}}function g0(t,e,n,r,i,o){return ue(s=>c0(t,e,n,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:u})=>R(g({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function m0(t,e){return ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of zp(u))s.add(c);let a=0;return re(s).pipe(xn(u=>o.has(u)?v0(u,r,t,e):(u.data=Qc(u,u.parent,t).resolve,S(void 0))),le(()=>a++),Tn(1),ue(u=>a===s.size?S(n):ke))})}function zp(t){let e=t.children.map(n=>zp(n)).flat();return[t,...e]}function v0(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!kp(i)&&(o[fi]=i.title),y0(o,t,e,r).pipe(j(s=>(t._resolvedData=s,t.data=Qc(t,t.parent,n).resolve,null)))}function y0(t,e,n,r){let i=_c(t);if(i.length===0)return S({});let o={};return re(i).pipe(ue(s=>w0(t[s],e,n,r).pipe(tt(),le(a=>{o[s]=a}))),Tn(1),sa(o),It(s=>Bp(s)?ke:Mn(s)))}function w0(t,e,n,r){let i=hi(e)??r,o=ir(t,i),s=o.resolve?o.resolve(e,n):nn(i,()=>o(e,n));return Rt(s)}function Cc(t){return We(e=>{let n=t(e);return n?re(n).pipe(j(()=>e)):S(e)})}var Gp=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===N);return i}getResolvedTitleForRoute(r){return r.data[fi]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(C0),providedIn:"root"});let t=e;return t})(),C0=(()=>{let e=class e extends Gp{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(H(pp))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tl=new A("",{providedIn:"root",factory:()=>({})}),nl=new A(""),D0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(sc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rt(r.loadComponent()).pipe(j(Wp),le(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),yr(()=>{this.componentLoaders.delete(r)})),o=new In(i,()=>new Ne).pipe(En());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=_0(i,this.compiler,r,this.onLoadEndListener).pipe(yr(()=>{this.childrenLoaders.delete(i)})),a=new In(s,()=>new Ne).pipe(En());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _0(t,e,n,r){return Rt(t.loadChildren()).pipe(j(Wp),ue(i=>i instanceof Vr||Array.isArray(i)?S(i):re(e.compileModuleAsync(i))),j(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(nl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xc),injector:o}}))}function b0(t){return t&&typeof t=="object"&&"default"in t}function Wp(t){return b0(t)?t.default:t}var rl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(E0),providedIn:"root"});let t=e;return t})(),E0=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I0=new A("");var M0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=v(D0),this.environmentInjector=v(je),this.urlSerializer=v(Zc),this.rootContexts=v(ds),this.location=v(Zr),this.inputBindingEnabled=v(Jc,{optional:!0})!==null,this.titleStrategy=v(Gp),this.options=v(tl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(rl),this.createViewTransition=v(I0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Nc(o)),i=o=>this.events.next(new Oc(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(R(g(g({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ni,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ge(s=>s.id!==0),j(s=>R(g({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),We(s=>{this.currentTransition=s;let a=!1,u=!1;return S(s).pipe(le(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?R(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),We(c=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new gn(c.id,this.urlSerializer.serialize(c.rawUrl),f,Mc.IgnoredSameUrlNavigation)),c.resolve(null),ke}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return S(c).pipe(We(f=>{let h=this.transitions?.getValue();return this.events.next(new oi(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ke:Promise.resolve(f)}),g0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),le(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=R(g({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new os(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:m,extras:O}=c,D=new oi(f,this.urlSerializer.serialize(h),p,m);this.events.next(D);let F=Pp(this.rootComponentType).snapshot;return this.currentTransition=s=R(g({},c),{targetSnapshot:F,urlAfterRedirects:h,extras:R(g({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,S(s)}else{let f="";return this.events.next(new gn(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Mc.IgnoredByUrlHandlingStrategy)),c.resolve(null),ke}}),le(c=>{let l=new Sc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=s=R(g({},c),{guards:R_(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),H_(this.environmentInjector,c=>this.events.next(c)),le(c=>{if(s.guardsResult=c.guardsResult,tr(c.guardsResult))throw Lp(this.urlSerializer,c.guardsResult);let l=new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ge(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ue.GuardRejected),!1)),Cc(c=>{if(c.guards.canActivateChecks.length)return S(c).pipe(le(l=>{let d=new Tc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),We(l=>{let d=!1;return S(l).pipe(m0(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Ue.NoDataFromResolver)}}))}),le(l=>{let d=new Ac(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Cc(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(le(h=>{d.component=h}),j(()=>{})));for(let h of d.children)f.push(...l(h));return f};return Zi(l(c.targetSnapshot.root)).pipe(Mt(null),pt(1))}),Cc(()=>this.afterPreactivation()),We(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?re(d).pipe(j(()=>s)):S(s)}),j(c=>{let l=I_(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=R(g({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),le(()=>{this.events.next(new ai)}),O_(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),pt(1),le({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),la(this.transitionAbortSubject.pipe(le(c=>{throw c}))),yr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),It(c=>{if(u=!0,jp(c))this.events.next(new Ot(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),x_(c)?this.events.next(new ui(c.url)):s.resolve(!1);else{this.events.next(new si(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ke}))}))}cancelNavigationTransition(r,i,o){let s=new Ot(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function S0(t){return t!==ni}var x0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(T0),providedIn:"root"});let t=e;return t})(),qc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},T0=(()=>{let e=class e extends qc{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Hr(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(A0),providedIn:"root"});let t=e;return t})(),A0=(()=>{let e=class e extends qp{constructor(){super(...arguments),this.location=v(Zr),this.urlSerializer=v(Zc),this.options=v(tl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(rl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof oi)this.stateMemento=this.createStateMemento();else if(r instanceof gn)this.rawUrlTree=i.initialUrl;else if(r instanceof os){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ai?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ot&&(r.code===Ue.GuardRejected||r.code===Ue.NoDataFromResolver)?this.restoreHistory(i):r instanceof si?this.restoreHistory(i,!0):r instanceof pn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=g(g({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=g(g({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Hr(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ei=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ei||{});function N0(t,e){t.events.pipe(Ge(n=>n instanceof pn||n instanceof Ot||n instanceof si||n instanceof gn),j(n=>n instanceof pn||n instanceof gn?ei.COMPLETE:(n instanceof Ot?n.code===Ue.Redirect||n.code===Ue.SupersededByNewNavigation:!1)?ei.REDIRECTING:ei.FAILED),Ge(n=>n!==ei.REDIRECTING),pt(1)).subscribe(()=>{e()})}function O0(t){throw t}var R0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zp=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(zo),this.stateManager=v(qp),this.options=v(tl,{optional:!0})||{},this.pendingTasks=v(Bo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(M0),this.urlSerializer=v(Zc),this.location=v(Zr),this.urlHandlingStrategy=v(rl),this._events=new Ne,this.errorHandler=this.options.errorHandler||O0,this.navigated=!1,this.routeReuseStrategy=v(x0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(nl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Jc,{optional:!0}),this.eventsSubscription=new ae,this.isNgZoneEnabled=v(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ot&&i.code!==Ue.Redirect&&i.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof pn)this.navigated=!0;else if(i instanceof ui){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||S0(o.source)};this.scheduleNavigation(a,ni,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}k0(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ni,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=g({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Xc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=Ap(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Np(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=tr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ni,null,i)}navigate(r,i={skipLocationChange:!1}){return F0(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=g({},R0):i===!1?o=g({},P0):o=i,tr(r))return gp(this.currentUrlTree,r,o);let s=this.parseUrl(r);return gp(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{u=f,c=h});let d=this.pendingTasks.add();return N0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F0(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function k0(t){return!(t instanceof ai)&&!(t instanceof ui)}var V0=new A("");function Qp(t,...e){return To([{provide:nl,multi:!0,useValue:t},[],{provide:nr,useFactory:L0,deps:[Zp]},{provide:oc,multi:!0,useFactory:$0},e.map(n=>n.\u0275providers)])}function L0(t){return t.routerState.root}function $0(){let t=v(zn);return e=>{let n=t.get(qr);if(e!==n.components[0])return;let r=t.get(Zp),i=t.get(j0);t.get(B0)===1&&r.initialNavigation(),t.get(U0,null,k.Optional)?.setUpPreloading(),t.get(V0,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var j0=new A("",{factory:()=>new Ne}),B0=new A("",{providedIn:"root",factory:()=>1});var U0=new A("");var Yp=[];var Kp={providers:[Qp(Yp)]};var MN=new TextDecoder,Jp=new TextEncoder,H0=["#CMDOK","#CMDER","#CMDUN","#CMDSM","#CMDSY"];function Fe(t,e){return t.toString(16).toUpperCase().padStart(e,"0")}function lt(t){return t.reduce((e,n)=>e+Fe(n,2),"")}function hs(t){return Uint8Array.from(t.match(/.{2}/g).map(e=>parseInt(e,16)))}function mi(t,e){t.match(/.{2}/g).map((n,r)=>e[r]=Number.parseInt(n,16))}function Xp(t,e){if(H0.includes(t))return;let n;if(t[0]=="#")n=Jp.encode([t].concat(e).join("	")+"	");else if(t[0]=="$")n=Jp.encode([t.slice(1)]+e.join(","));else return;let r=n.reduce((i,o)=>o==33?i:i^o);return Fe(r,2)}var gi=class{constructor({encoded:e,type:n,args:r}){if(this.args=r||[],!e){if(!n)throw new Error("Missing message type");this.type=n,this.checksum_calc=Xp(n,this.args);return}if(e[0]=="#"){let i=e.replace(/[\r\n]*$/,"").split("	");this.type=i[0],i.length>1&&(this.checksum_recv=i.at(-1)),i.length>2&&(this.args=i.slice(1,-1))}else if(e[0]=="$"){this.type=e.slice(0,5);let i=e.slice(5).replace(/[\r\n]*$/,"").split("*");this.checksum_recv=i[1],this.args=i[0].split(",")}else throw new Error(`Invalid message ${e}`);this.checksum_calc=Xp(this.type,this.args)}toString(){if(!this.checksum_calc)return this.type+`\r
`;let e=this.checksum_recv||this.checksum_calc;if(this.type[0]=="#")return[this.type].concat(this.args).concat([e]).join("	")+`\r
`;if(this.type[0]=="$")return[this.type]+this.args.join(",")+`*${e}\r
`;throw new Error(`Unknown message type ${this.type}`)}validate(){return!this.checksum_calc||!this.checksum_recv||this.checksum_calc==this.checksum_recv}};var jg=em(eg());var sl=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},Xe=new Map,mn="___parser_",et={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},ps={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},gs={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},vi=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=ps[e],i=gs[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${et[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return Xe.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Xe.has(n.type)&&!(n.type in et))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!Xe.has(o)&&!(o in et))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!Xe.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in et)&&!Xe.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new sl(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${mn+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${mn+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=Xe.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(et).indexOf(this.type)>=0)e=et[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=et[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(l=0)=>{let d=0;for(let f=l;f<e.bitFields.length;f++){let h=e.bitFields[f].options.length;if(d+h>32)break;d+=h}return d},o=l=>(l<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),l=8):l<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),l=16):l<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),l=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),l=32),e.pushCode(`offset += ${l/8};`),l),s=0,a=this.endian==="be",u=0,c=0;e.bitFields.forEach((l,d)=>{let f=l.options.length;if(f>c){if(c){let m=-1>>>32-c;e.pushCode(`${l.varName} = (${r} & 0x${m.toString(16)}) << ${f-c};`),f-=c}s=0,c=u=o(i(d)-c)}let h=a?u-s-f:s,p=-1>>>32-f;e.pushCode(`${l.varName} ${f<l.options.length?"|=":"="} ${r} >> ${h} & 0x${p.toString(16)};`),l.options.length===32&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),s+=f,c-=f}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let u=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${u}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${u}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,c=typeof u=="string";if(c?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(Xe.get(i)){let l=e.generateTmpVariable();if(e.pushCode(`var ${l} = ${mn+i}(offset, {`),e.useContextVariables){let d=e.generateVariable();e.pushCode(`$parent: ${d},`),e.pushCode(`$root: ${d}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${l}.result; offset = ${l}.offset;`),i!==this.alias&&e.addReference(i)}else{let l=ps[i],d=gs[i];e.pushCode(`var ${a} = dataView.get${l}(offset, ${d});`),e.pushCode(`offset += ${et[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let l=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${l};`),e.pushCode(`${a}.$root = ${l}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(c?e.pushCode(`${s}[${a}.${u}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let l=this.options.readUntil,d=e.addImport(l);e.pushCode(`while (!${d}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(Xe.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${mn+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=ps[r],s=gs[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${et[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(Xe.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${mn+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let u=this.options.readUntil,c=e.generateTmpVariable(),l=e.generateTmpVariable();e.pushCode(`var ${c} = offset;`),e.pushCode(`var ${l} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${l} = dataView.getUint8(offset);`);let d=e.addImport(u);e.pushCode(`if (${d}.call(${e.generateVariable()}, ${l}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${c}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let u=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${u});`),e.pushCode(`offset += ${u};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(Xe.has(this.options.type)){let u=e.generateTmpVariable();e.pushCode(`var ${u} = ${mn+this.options.type}(0);`),e.pushCode(`${n} = ${u}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(Xe.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${mn+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(et).indexOf(this.options.type)>=0){let s=ps[n],a=gs[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${et[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};function tg(t){return t.reduce((e,n)=>e^n)}var dt=function(t){return t[t.UTC=1]="UTC",t[t.VALID=2]="VALID",t[t.LAT=4]="LAT",t[t.LON=8]="LON",t[t.HGT=16]="HGT",t[t.SPD=32]="SPD",t[t.TRK=64]="TRK",t[t.HDOP=1024]="HDOP",t[t.NSAT=4096]="NSAT",t}(dt||{});function z0(t){let e=0,n=new vi().endianness("little"),r=[],i=[];return t&dt.UTC&&n.int32("utc"),t&dt.VALID&&n.uint8("valid"),t&dt.LAT&&n.floatle("lat"),t&dt.LON&&n.floatle("lon"),t&dt.HGT&&n.int16("hgt"),t&dt.SPD&&n.uint16("spd"),t&dt.TRK&&n.int16("trk"),t&dt.HDOP&&n.int16("hdop"),t&dt.NSAT&&n.uint8("nsat"),n.uint8("checksum"),n}var ng=function(t){return t[t.INVALID=0]="INVALID",t[t.SPS=1]="SPS",t[t.DGPS=2]="DGPS",t[t.PPS=3]="PPS",t[t.RTK=4]="RTK",t[t.FRTK=5]="FRTK",t[t.ESTIMATED=6]="ESTIMATED",t[t.MANUAL=7]="MANUAL",t[t.SIMULATOR=8]="SIMULATOR",t}(ng||{}),yi=class extends Error{};function G0(t,e=!0){if(t.length<16)throw new Error("Insufficient data for parsing header");let r=new vi().endianness("little").uint16("sectorId").uint8("loggingType").uint8("loggingMode").uint16("logContent").uint16("unknown_06").uint16("intervalSetting").uint16("distanceSetting").uint16("speedSetting").uint8("unknown_0e").uint8("checksum").parse(t.slice(0,16));if(e&&r.checksum!==tg(t.slice(0,15)))throw new yi(`Invalid header checksum in ${lt(t)}`);return r}function W0(t,e,n=!0){if(e.slice(0,6).every(i=>i===255)||e.slice(0,6).every(i=>i===0))return;let r=t.parse(e);if(n&&r.checksum!==tg(e.slice(0,e.length-1)))throw new yi(`Checksum mismatch in waypoint data: ${lt(e)}`);return r}function q0(t,e){let n=z0(t.logContent),r=[];for(let i=0;i<e.length;i+=n.sizeOf())try{let o=W0(n,e.slice(i,i+n.sizeOf()),!0);r.push(o)}catch(o){if(o instanceof yi)break;throw o}return r}var al=class{constructor(e,n=!0){this.waypoints=[],this.header=G0(e.slice(0,18),n),this.mask=e.slice(17,60),this.unknown_3c=e.slice(60,64),this.waypoints=q0(this.header,e.slice(64))}};function Z0(t,e){if(t.push(`<trkpt lat="${e.lat}" lon="${e.lon}">`),t.push(`<ele>${e.hgt}</ele>`),t.push(`<time>${new Date(e.utc*1e3).toISOString().replace("Z","")}</time>`),e.spd||e.trk){let n={};e.spd&&(n.spd=e.spd),e.trk&&(n.trk=e.trk),t.push(`<cmt>${JSON.stringify(n)}</cmt>`)}e.valid==ng.DGPS&&t.push("<fix>dgps</fix>"),e.nsat&&t.push(`<sat>${e.nsat}</sat>`),e.hdop&&t.push(`<hdop>${e.hdop}</hdop>`),t.push("</trkpt>")}var ms=class{constructor(e,n=!0){this.sectors=[];for(let r=0;r+4096<=e.length;r+=4096){let i=e.slice(r,r+4096);this.sectors.push(new al(i,n))}}getGpx(){let e=[`<?xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1" creator="Nghx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://www.topografix.com/GPX/1/1"
 xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd">
`];e.push("<trk><trkseg>");for(let n of this.sectors)for(let r of n.waypoints)r&&Z0(e,r);return e.push("</trkseg></trk></gpx>"),e}};var Q0=new TextDecoder("utf-8"),vs=class{constructor(e){this.reader=e,this.chunk="",this.pos=0}_getNextChunk(){return T(this,null,function*(){let e=yield this.reader.read();if(e.done)throw new Error("Stream is done");this.chunk=Q0.decode(e.value),this.pos=0})}read(e){return T(this,null,function*(){for(var n="";;)if(this.pos+e-n.length<=this.chunk.length){let r=this.pos+e-n.length;return n+=this.chunk.slice(this.pos,r),this.pos=r,n}else n+=this.chunk.slice(this.pos),yield this._getNextChunk()})}readline(){return T(this,null,function*(){for(var e="";;){if(this.pos<this.chunk.length){let n=this.chunk.indexOf(`
`,this.pos);if(n!=-1)return e+=this.chunk.slice(this.pos,n+1),this.pos=n+1,e;e+=this.chunk.slice(this.pos)}yield this._getNextChunk()}})}flush(){this.chunk=""}};function rg(t,e){let n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *(N|S) *(\d+)\.(\d+) *$/):t.toUpperCase().match(/^ *(\d+) *(E|W) *(\d+)\.(\d+) *$/);if(n){let[r,i,o,s,a]=n,u=a.slice(0,4).padEnd(4,"0"),c=Number.parseInt(i,10),l=Number.parseInt(s,10)*1e4+Number.parseInt(u,10);return{deg:c,dir:o,min:l}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *° *(\d+)\.(\d+) *['‘’`]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) *° *(\d+)\.(\d+) *['‘’`]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=s.slice(0,4).padEnd(4,"0"),c=Number.parseInt(i,10),l=Number.parseInt(o,10)*1e4+Number.parseInt(u,10);return{deg:c,dir:a,min:l}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *° *(\d+) *['‘’`] *(\d+|\d+\.\d+) *["“”]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) *° *(\d+) *['‘’`] *(\d+|\d+\.\d+) *["“”]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=Number.parseInt(i,10),c=Number.parseInt(o,10)*1e4+Math.round(Number.parseFloat(s)*1e4/60);return{deg:u,dir:a,min:c}}if(n=t.match(/^ *([+-]?\d+(\.\d+)?) *$/),n){let[r,i]=n,o=Number.parseFloat(i),s;e=="lat"?s=o>0?"N":"S":s=o>0?"E":"W";let a=Math.floor(Math.abs(o)),u=Math.round((Math.abs(o)-a)*60*1e4);return{deg:a,dir:s,min:u}}}function ys(t){let e=rg(t,"lat");if(e)return{lat_deg:e.deg,lat_dir:e.dir,lat_min:e.min}}function ws(t){let e=rg(t,"lon");if(e)return{lon_deg:e.deg,lon_dir:e.dir,lon_min:e.min}}var or=class{constructor(e){this.wp=e}toString(){let e=`${this.wp.id}, ${this.wp.name}, ${this.wp.lat_deg}${this.wp.lat_dir}${this.wp.lat_min}, ${this.wp.lon_deg}${this.wp.lon_dir}${this.wp.lon_min}`;return this.wp.address?`@0x${Fe(this.wp.address,4)}: `+e:e}getLat(){let e=Math.floor(this.wp.lat_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lat_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lat_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lat_dir}`}getLon(){let e=Math.floor(this.wp.lon_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lon_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lon_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lon_dir}`}getMapLink(){let e=(this.wp.lat_dir=="N"?1:-1)*(this.wp.lat_deg+this.wp.lat_min/1e4/60),n=(this.wp.lon_dir=="E"?1:-1)*(this.wp.lon_deg+this.wp.lon_min/1e4/60);return`https://www.google.com/maps/place/${e},${n}`}fillConfig(e,n){if(!this.wp.address)throw new Error("The waypoint must have an address");let r=this.wp.address-n;if(r<0||r>e.length-32)throw new Error(`Waypoint address ${this.wp.address} (offset ${r}) is out of bounds`);let i=this.wp.name;i.length>=15&&(console.log(`Waypoint name too long ${i}, truncating`),i=i.substring(0,14));let o=e.subarray(r,r+32);this.wp.dsc_origin?o.set(this.wp.dsc_origin):o.set([255,255,255,255,240]),o[31]=this.wp.id;let s=o.subarray(16,31),{written:a}=Y0.encodeInto(i,s);s.fill(255,a,15);let u=o.subarray(5,9),c=this.wp.lat_deg.toString(10).padStart(2,"0");if(c+=this.wp.lat_min.toString(10).padStart(6,"0"),c.length!=8)throw new Error(`Encoded waypoint lat too long ${c}`);mi(c,u),o[9]=this.wp.lat_dir.charCodeAt(0);let l=o.subarray(10,15),d=this.wp.lon_deg.toString(10).padStart(4,"0");if(d+=this.wp.lon_min.toString(10).padStart(6,"0"),d.length!=10)throw new Error(`Encoded waypoint lon too long ${d}`);mi(d,l),o[15]=this.wp.lon_dir.charCodeAt(0)}},ul=new TextDecoder,Y0=new TextEncoder;function ig(t,e){let n=t[31];if(n==255)return;for(var r=30;r>=16&&[0,255,32].includes(t[r]);r-=1);let i=ul.decode(t.slice(16,r+1)),o=lt(t.slice(5,9)),s=Number(o.slice(0,2)),a=Number(o.slice(2,9)),u=ul.decode(t.slice(9,10)),c=lt(t.slice(10,15)).slice(1),l=Number(c.slice(0,3)),d=Number(c.slice(3,10)),f=ul.decode(t.slice(15,16));return new or({id:n,name:i,lat_deg:s,lat_min:a,lat_dir:u,lon_deg:l,lon_min:d,lon_dir:f,address:e,dsc_origin:t.slice(0,5)})}function Cs({name:t,lat:e,lon:n}){if(t.length==0)throw new Error("No name was provided");if(t.length>=15)throw new Error(`Waypoint name too long "${t}". Consider "${t.trim().substring(0,14).trim()}".`);if(!/^[-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]+$/.test(t)){let o=/[^-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]/g,s=t.matchAll(o),a="";for(let u of s){let c=u[0];a.includes(c)||(a=a+c)}throw new Error(`Waypoint name cannot contain ${a}`)}let r=ys(e),i=ws(n);if(!r||!i)throw new Error(`Unparseable position ${e} ${n}`);if(r.lat_deg>90||r.lat_deg<0||r.lat_min<0||r.lat_min>60*1e4)throw new Error(`Bad latitude ${e}`);if(i.lon_deg>180||i.lon_deg<0||i.lon_min<0||i.lon_min>60*1e4)throw new Error(`Bad longitude ${n}`);if(!["N","S"].includes(r.lat_dir))throw new Error(`Bad latitude direction in ${e}`);if(!["E","W"].includes(i.lon_dir))throw new Error(`Bad longitude direction in ${n}`);return{lat:r,lon:i}}var wi=32;var K0=new TextDecoder,J0=new TextEncoder,sr=class{constructor(e){this.route={name:e.name,waypointIds:e.waypointIds.slice()}}fillConfig(e,n,r,i){if(n<0||n>e.length-i)throw new Error(`Waypoint offset ${n} is out of bounds`);let o=this.route.name;o.length>=16&&(console.log(`Route name too long ${o}, truncating`),o=o.substring(0,15));let s=e.subarray(n,n+16),{written:a}=J0.encodeInto(o,s);s.fill(255,a,16);let u=this.route.waypointIds;u.length>r&&(console.log(`Too many waypoints in route (${u.length}), truncating to ${r}`),u=u.slice(0,r));let c=e.subarray(n+16,n+i);for(let[l,d]of u.entries())c[l]=d;c.fill(255,u.length,i-16)}};function og(t,e){for(var n=15;n>=0&&[0,255,32].includes(t[n]);n-=1);let r=K0.decode(t.slice(0,n+1));for(var i=e-1;i>=0&&t[16+i]==255;i-=1);if(r==""||i==-1)return;let o=t.subarray(16,16+i+1);return new sr({name:r,waypointIds:Array.from(o)})}var ar=class{constructor(e,n,r,i){this.deviceConfig=r,this.updateCallback=i,this.dirtyWaypoints=!1,this.dirtyRoutes=!1,this.waypoints=e.slice(),this.routes=Array.from({length:n.length},(o,s)=>new sr(n[s].route))}maybeUpdateCallback(){this.updateCallback&&this.updateCallback()}deleteWaypoint(e){let n=this.waypoints.findIndex(r=>r.wp.address==e.wp.address);this.waypoints.splice(n,1),this.dirtyWaypoints=!0;for(let r of this.routes){let i=r.route.waypointIds.filter(o=>o!=e.wp.id);i.length!=r.route.waypointIds.length&&(r.route.waypointIds=i,this.dirtyRoutes=!0)}this.routes=this.routes.filter(r=>r.route.waypointIds.length>0),this.maybeUpdateCallback()}editWaypoint(e,n,r,i){if(n.length>15)throw new Error(`Waypoint name too long ${n}`);let o=ys(r),s=ws(i);if(!o||!s)throw new Error(`Unparseable position ${r} ${i}`);let a=this.waypoints.findIndex(u=>u.wp.address==e.wp.address);if(a==-1)throw new Error(`Could not find waypoint at ${e.wp.address}`);this.waypoints[a]=new or(R(g(g(g({},this.waypoints[a].wp),o),s),{name:n})),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}addWaypoint(e){if(this.waypoints.length>=this.deviceConfig.waypointsNumber)throw new Error("No more room for waypoints");let{lat:n,lon:r}=Cs(e),i;for(i=1;i<255&&this.waypoints.find(o=>o.wp.id==i);i+=1);this.waypoints.push(new or(R(g(g({},n),r),{name:e.name,id:i}))),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}deleteRoute(e){this.routes.splice(e,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}addRoute(e){if(this.routes.length>=this.deviceConfig.routesNumber)throw new Error(`No room for more routes (${this.routes.length})`);return this.routes.push(new sr({name:e,waypointIds:[]})),this.dirtyRoutes=!0,this.maybeUpdateCallback(),this.routes.length-1}insertWaypointInRoute(e,n,r){let i=this.routes[e].route;if(i.waypointIds.length>=this.deviceConfig.numWaypointsPerRoute)throw new Error(`No room for more waypoints (${i.waypointIds.length})`);i.waypointIds.splice(r,0,n),this.dirtyRoutes=!0,this.maybeUpdateCallback()}deleteWaypointFromRoute(e,n){this.routes[e].route.waypointIds.splice(n,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}swapWaypointsInRoute(e,n,r){if(n==r)return;let i=this.routes[e].route,o=i.waypointIds[n],s=i.waypointIds[r];n<r?(i.waypointIds.splice(r,1,o),i.waypointIds.splice(n,1,s)):(i.waypointIds.splice(n,1,s),i.waypointIds.splice(r,1,o)),this.dirtyRoutes=!0,this.maybeUpdateCallback()}getBinaryWaypointData(e){this.waypoints.sort((i,o)=>i.wp.name.localeCompare(o.wp.name));let n=e;for(let i of this.waypoints)i.wp.address=n,n+=wi;let r=new Uint8Array(wi*this.deviceConfig.waypointsNumber);r.fill(255);for(let i of this.waypoints)i.fillConfig(r,e);return r}getBinaryRouteData(){this.routes.sort((n,r)=>n.route.name.localeCompare(r.route.name));let e=new Uint8Array(this.deviceConfig.routeBytes*this.deviceConfig.routesNumber);e.fill(255);for(let[n,r]of this.routes.entries())r.fillConfig(e,n*this.deviceConfig.routeBytes,this.deviceConfig.numWaypointsPerRoute,this.deviceConfig.routeBytes);return e}};var z=class t extends Error{constructor(e,n,r,...i){Array.isArray(n)&&(n=n.join(" ").trim()),super(n),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,t),this.code=e;for(let o of i)for(let s in o){let a=o[s];this[s]=Buffer.isBuffer(a)?a.toString(r.encoding):a==null?a:JSON.parse(JSON.stringify(a))}}};var sg=function(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)};var Ds=function(t){let e=[];for(let n=0,r=t.length;n<r;n++){let i=t[n];if(i==null||i===!1)e[n]={disabled:!0};else if(typeof i=="string")e[n]={name:i};else if(sg(i)){if(typeof i.name!="string")throw new z("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${n}`,"when column is an object literal"]);e[n]=i}else throw new z("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${n}`])}return e};var cl=class{constructor(e=100){this.size=e,this.length=0,this.buf=Buffer.allocUnsafe(e)}prepend(e){if(Buffer.isBuffer(e)){let n=this.length+e.length;if(n>=this.size&&(this.resize(),n>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=Buffer.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{let n=this.length++;n===this.size&&this.resize();let r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,n)}}append(e){let n=this.length++;n===this.size&&this.resize(),this.buf[n]=e}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=this.size*2;let n=Buffer.allocUnsafe(this.size);this.buf.copy(n,0,0,e),this.buf=n}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}},ll=cl;var X0=12,eb=13,tb=10,nb=32,rb=9,ag=function(t){return{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:t.from_line===1,escaping:!1,escapeIsQuote:Buffer.isBuffer(t.escape)&&Buffer.isBuffer(t.quote)&&Buffer.compare(t.escape,t.quote)===0,expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new ll(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(t.comment!==null?t.comment.length:0,...t.delimiter.map(e=>e.length),t.quote!==null?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new ll(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:t.record_delimiter.length===0?0:Math.max(...t.record_delimiter.map(e=>e.length)),trimChars:[Buffer.from(" ",t.encoding)[0],Buffer.from("	",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Buffer.from(Buffer.from([eb],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([tb],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([X0],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([nb],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([rb],"utf8").toString(),t.encoding)]}};var ug=function(t){return t.replace(/([A-Z])/g,function(e,n){return"_"+n.toLowerCase()})};var dl=function(t){let e={};for(let r in t)e[ug(r)]=t[r];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new z("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new z("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new z("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(r){let i=Date.parse(r);return isNaN(i)?r:new Date(i)};else if(typeof e.cast_date!="function")throw new z("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=Ds(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new z("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new z("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new z("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=Buffer.from(e.comment,e.encoding)),!Buffer.isBuffer(e.comment))throw new z("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(e.comment_no_infix===void 0||e.comment_no_infix===null||e.comment_no_infix===!1)e.comment_no_infix=!1;else if(e.comment_no_infix!==!0)throw new z("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);let n=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new z("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);if(e.delimiter=e.delimiter.map(function(r){if(r==null||r===!1)return Buffer.from(",",e.encoding);if(typeof r=="string"&&(r=Buffer.from(r,e.encoding)),!Buffer.isBuffer(r)||r.length===0)throw new z("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);return r}),e.escape===void 0||e.escape===!0?e.escape=Buffer.from('"',e.encoding):typeof e.escape=="string"?e.escape=Buffer.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new z("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new z("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new z("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=Buffer.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=Buffer.from(e.quote,e.encoding)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||Buffer.isBuffer(e.record_delimiter)){if(e.record_delimiter.length===0)throw new z("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new z("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(r,i){if(typeof r!="string"&&!Buffer.isBuffer(r))throw new z("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);if(r.length===0)throw new z("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);return typeof r=="string"&&(r=Buffer.from(r,e.encoding)),r}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&t.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&t.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);return e};var cg=function(t){return t.every(e=>e==null||e.toString&&e.toString().trim()==="")},ib=13,ob=10,ur={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])},lg=function(t={}){let e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},n=dl(t);return{info:e,original_options:t,options:n,state:ag(n),__needMoreData:function(r,i,o){if(o)return!1;let{encoding:s,escape:a,quote:u}=this.options,{quoting:c,needMoreDataSize:l,recordDelimiterMaxLength:d}=this.state,f=i-r-1,h=Math.max(l,d===0?Buffer.from(`\r
`,s).length:d,c?(a===null?0:a.length)+u.length:0,c?u.length+d:0);return f<h},parse:function(r,i,o,s){let{bom:a,comment_no_infix:u,encoding:c,from_line:l,ltrim:d,max_record_size:f,raw:h,relax_quotes:p,rtrim:m,skip_empty_lines:O,to:D,to_line:F}=this.options,{comment:P,escape:Y,quote:te,record_delimiter:Ee}=this.options,{bomSkipped:Ft,previousBuf:yn,rawBuffer:js,escapeIsQuote:Hg}=this.state,Z;if(yn===void 0)if(r===void 0){s();return}else Z=r;else yn!==void 0&&r===void 0?Z=yn:Z=Buffer.concat([yn,r]);if(Ft===!1)if(a===!1)this.state.bomSkipped=!0;else if(Z.length<3){if(i===!1){this.state.previousBuf=Z;return}}else{for(let ie in ur)if(ur[ie].compare(Z,0,ur[ie].length)===0){let bt=ur[ie].length;this.state.bufBytesStart+=bt,Z=Z.slice(bt),this.options=dl(R(g({},this.original_options),{encoding:ie})),{comment:P,escape:Y,quote:te}=this.options;break}this.state.bomSkipped=!0}let Bs=Z.length,x;for(x=0;x<Bs&&!this.__needMoreData(x,Bs,i);x++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),F!==-1&&this.info.lines>F){this.state.stop=!0,s();return}this.state.quoting===!1&&Ee.length===0&&this.__autoDiscoverRecordDelimiter(Z,x)&&(Ee=this.options.record_delimiter);let ie=Z[x];if(h===!0&&js.append(ie),(ie===ib||ie===ob)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(Y!==null&&this.state.quoting===!0&&this.__isEscape(Z,x,ie)&&x+Y.length<Bs)if(Hg){if(this.__isQuote(Z,x+Y.length)){this.state.escaping=!0,x+=Y.length-1;continue}}else{this.state.escaping=!0,x+=Y.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(Z,x))if(this.state.quoting===!0){let ve=Z[x+te.length],kt=m&&this.__isCharTrimable(Z,x+te.length),ft=P!==null&&this.__compareBytes(P,Z,x+te.length,ve),Vt=this.__isDelimiter(Z,x+te.length,ve),Ii=Ee.length===0?this.__autoDiscoverRecordDelimiter(Z,x+te.length):this.__isRecordDelimiter(ve,Z,x+te.length);if(Y!==null&&this.__isEscape(Z,x,ie)&&this.__isQuote(Z,x+Y.length))x+=Y.length-1;else if(!ve||Vt||Ii||ft||kt){this.state.quoting=!1,this.state.wasQuoting=!0,x+=te.length-1;continue}else if(p===!1){let xl=this.__error(new z("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(ve)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(xl!==void 0)return xl}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(te),x+=te.length-1}else if(this.state.field.length!==0){if(p===!1){let ve=this.__infoField(),kt=Object.keys(ur).map(Vt=>ur[Vt].equals(this.state.field.toString())?Vt:!1).filter(Boolean)[0],ft=this.__error(new z("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(ve.column)} at line ${ve.lines}, value is ${JSON.stringify(this.state.field.toString(c))}`,kt?`(${kt} bom)`:void 0],this.options,ve,{field:this.state.field}));if(ft!==void 0)return ft}}else{this.state.quoting=!0,x+=te.length-1;continue}if(this.state.quoting===!1){let ve=this.__isRecordDelimiter(ie,Z,x);if(ve!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=l){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),x+=ve-1;continue}if(O===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,x+=ve-1;continue}this.info.bytes=this.state.bufBytesStart+x;let Vt=this.__onField();if(Vt!==void 0)return Vt;this.info.bytes=this.state.bufBytesStart+x+ve;let Ii=this.__onRecord(o);if(Ii!==void 0)return Ii;if(D!==-1&&this.info.records>=D){this.state.stop=!0,s();return}}this.state.commenting=!1,x+=ve-1;continue}if(this.state.commenting)continue;if(P!==null&&(u===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(P,Z,x,ie)!==0){this.state.commenting=!0;continue}let kt=this.__isDelimiter(Z,x,ie);if(kt!==0){this.info.bytes=this.state.bufBytesStart+x;let ft=this.__onField();if(ft!==void 0)return ft;x+=kt-1;continue}}}if(this.state.commenting===!1&&f!==0&&this.state.record_length+this.state.field.length>f)return this.__error(new z("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${f}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let bt=d===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(Z,x),zg=m===!1||this.state.wasQuoting===!1;if(bt===!0&&zg===!0)this.state.field.append(ie);else{if(m===!0&&!this.__isCharTrimable(Z,x))return this.__error(new z("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));bt===!1&&(x+=this.__isCharTrimable(Z,x)-1);continue}}if(i===!0)if(this.state.quoting===!0){let ie=this.__error(new z("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(ie!==void 0)return ie}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+x;let ie=this.__onField();if(ie!==void 0)return ie;let bt=this.__onRecord(o);if(bt!==void 0)return bt}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=x,this.state.previousBuf=Z.slice(x);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(r){let{columns:i,group_columns_by_name:o,encoding:s,info:a,from:u,relax_column_count:c,relax_column_count_less:l,relax_column_count_more:d,raw:f,skip_records_with_empty_values:h}=this.options,{enabled:p,record:m}=this.state;if(p===!1)return this.__resetRecord();let O=m.length;if(i===!0){if(h===!0&&cg(m)){this.__resetRecord();return}return this.__firstLineToColumns(m)}if(i===!1&&this.info.records===0&&(this.state.expectedRecordLength=O),O!==this.state.expectedRecordLength){let D=i===!1?new z("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${O} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m}):new z("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${i.length},`,`got ${O} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m});if(c===!0||l===!0&&O<this.state.expectedRecordLength||d===!0&&O>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=D;else{let F=this.__error(D);if(F)return F}}if(h===!0&&cg(m)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,u===1||this.info.records>=u){let{objname:D}=this.options;if(i!==!1){let F={};for(let P=0,Y=m.length;P<Y;P++)i[P]===void 0||i[P].disabled||(o===!0&&F[i[P].name]!==void 0?Array.isArray(F[i[P].name])?F[i[P].name]=F[i[P].name].concat(m[P]):F[i[P].name]=[F[i[P].name],m[P]]:F[i[P].name]=m[P]);if(f===!0||a===!0){let P=Object.assign({record:F},f===!0?{raw:this.state.rawBuffer.toString(s)}:{},a===!0?{info:this.__infoRecord()}:{}),Y=this.__push(D===void 0?P:[F[D],P],r);if(Y)return Y}else{let P=this.__push(D===void 0?F:[F[D],F],r);if(P)return P}}else if(f===!0||a===!0){let F=Object.assign({record:m},f===!0?{raw:this.state.rawBuffer.toString(s)}:{},a===!0?{info:this.__infoRecord()}:{}),P=this.__push(D===void 0?F:[m[D],F],r);if(P)return P}else{let F=this.__push(D===void 0?m:[m[D],m],r);if(F)return F}}this.__resetRecord()},__firstLineToColumns:function(r){let{firstLineToHeaders:i}=this.state;try{let o=i===void 0?r:i.call(null,r);if(!Array.isArray(o))return this.__error(new z("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(o)}`],this.options,this.__infoField(),{headers:o}));let s=Ds(o);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(o){return o}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:r,encoding:i,rtrim:o,max_record_size:s}=this.options,{enabled:a,wasQuoting:u}=this.state;if(a===!1)return this.__resetField();let c=this.state.field.toString(i);if(o===!0&&u===!1&&(c=c.trimRight()),r===!0){let[l,d]=this.__cast(c);if(l!==void 0)return l;c=d}this.state.record.push(c),s!==0&&typeof c=="string"&&(this.state.record_length+=c.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(r,i){let{on_record:o}=this.options;if(o!==void 0){let s=this.__infoRecord();try{r=o.call(null,r,s)}catch(a){return a}if(r==null)return}i(r)},__cast:function(r){let{columns:i,relax_column_count:o}=this.options;if(Array.isArray(i)===!0&&o&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{let a=this.__infoField();return[void 0,this.state.castField.call(null,r,a)]}catch(a){return[a]}if(this.__isFloat(r))return[void 0,parseFloat(r)];if(this.options.cast_date!==!1){let a=this.__infoField();return[void 0,this.options.cast_date.call(null,r,a)]}return[void 0,r]},__isCharTrimable:function(r,i){return((s,a)=>{let{timchars:u}=this.state;e:for(let c=0;c<u.length;c++){let l=u[c];for(let d=0;d<l.length;d++)if(l[d]!==s[a+d])continue e;return l.length}return 0})(r,i)},__isFloat:function(r){return r-parseFloat(r)+1>=0},__compareBytes:function(r,i,o,s){if(r[0]!==s)return 0;let a=r.length;for(let u=1;u<a;u++)if(r[u]!==i[o+u])return 0;return a},__isDelimiter:function(r,i,o){let{delimiter:s,ignore_last_delimiters:a}=this.options;if(a===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(a!==!1&&typeof a=="number"&&this.state.record.length===a-1)return 0;e:for(let u=0;u<s.length;u++){let c=s[u];if(c[0]===o){for(let l=1;l<c.length;l++)if(c[l]!==r[i+l])continue e;return c.length}}return 0},__isRecordDelimiter:function(r,i,o){let{record_delimiter:s}=this.options,a=s.length;e:for(let u=0;u<a;u++){let c=s[u],l=c.length;if(c[0]===r){for(let d=1;d<l;d++)if(c[d]!==i[o+d])continue e;return c.length}}return 0},__isEscape:function(r,i,o){let{escape:s}=this.options;if(s===null)return!1;let a=s.length;if(s[0]===o){for(let u=0;u<a;u++)if(s[u]!==r[i+u])return!1;return!0}return!1},__isQuote:function(r,i){let{quote:o}=this.options;if(o===null)return!1;let s=o.length;for(let a=0;a<s;a++)if(o[a]!==r[i+a])return!1;return!0},__autoDiscoverRecordDelimiter:function(r,i){let{encoding:o}=this.options,s=[Buffer.from(`\r
`,o),Buffer.from(`
`,o),Buffer.from("\r",o)];e:for(let a=0;a<s.length;a++){let u=s[a].length;for(let c=0;c<u;c++)if(s[a][c]!==r[i+c])continue e;return this.options.record_delimiter.push(s[a]),this.state.recordDelimiterMaxLength=s[a].length,s[a].length}return 0},__error:function(r){let{encoding:i,raw:o,skip_records_with_error:s}=this.options,a=typeof r=="string"?new Error(r):r;if(s){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(a,o?this.state.rawBuffer.toString(i):void 0);return}else return a},__infoDataSet:function(){return R(g({},this.info),{columns:this.options.columns})},__infoRecord:function(){let{columns:r,raw:i,encoding:o}=this.options;return R(g({},this.__infoDataSet()),{error:this.state.error,header:r===!0,index:this.state.record.length,raw:i?this.state.rawBuffer.toString(o):void 0})},__infoField:function(){let{columns:r}=this.options,i=Array.isArray(r);return R(g({},this.__infoRecord()),{column:i===!0?r.length>this.state.record.length?r[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting})}}};var dg=function(t,e={}){typeof t=="string"&&(t=Buffer.from(t));let n=e&&e.objname?{}:[],r=lg(e),i=u=>{r.options.objname===void 0?n.push(u):n[u[0]]=u[1]},o=()=>{},s=r.parse(t,!1,i,o);if(s!==void 0)throw s;let a=r.parse(void 0,!0,i,o);if(a!==void 0)throw a;return n};function _s(t,e){if(!e.match(/^G?[0-9]{9}$/))throw new Error("MMSI number should have exactly 9 digits");if(t.length>16)throw new Error("Name must not be more than 16 characters")}var sb=new TextDecoder,ab=new TextEncoder,cr=16,Ci=class{constructor(e,n){this.name=e,this.number=n}validate(){return _s(this.name,this.number)}fillConfig(e,n,r){_s(this.name,this.number);let i=r*cr,o=e.subarray(i,i+cr);o.fill(255),ab.encodeInto(this.name,o);let s=lr(r);mi(this.number+"0",n.subarray(s)),r%3==2&&(n[s+5]=255)}};function lr(t){return t*5+(t-t%3)/3}function fg(t,e){for(var n=cr-1;n>=0&&[0,255,32].includes(t[n]);n-=1);let r=sb.decode(t.subarray(0,n+1)),i=lt(e.subarray(0,5)).slice(0,9);try{return _s(r,i),new Ci(r,i)}catch{return}}var bs=class{constructor(e,n){this.maxIndividualMmsis=e,this.maxGroupMmsis=n,this.individualMmsis=[],this.groupMmsis=[]}sort(){this.individualMmsis.sort((e,n)=>e.name.localeCompare(n.name)),this.groupMmsis.sort((e,n)=>e.name.localeCompare(n.name))}toCsv(){let e=`name,mmsi
`;this.sort();for(let n of this.individualMmsis){n.validate();let r=/,/.test(n.name)?`"${n.name.replace('"','""')}"`:n.name;e+=`${n.name},${n.number}
`}for(let n of this.groupMmsis){n.validate();let r=/,/.test(n.name)?`"${n.name.replace('"','""')}"`:n.name;e+=`${n.name},G${n.number}
`}return e}initFromCsv(e){let n=[],r=[],i=dg(e,{skip_empty_lines:!0,columns:!0});for(let o of i){let s=o.name,a=o.mmsi;if(_s(s,a),a[0]=="G"){let u=new Ci(s,a.slice(1));r.push(u)}else{let u=new Ci(s,a);n.push(u)}}if(n.length>this.maxIndividualMmsis)throw new Error("Too many MMSIs");if(r.length>this.maxGroupMmsis)throw new Error("Too many group MMSIs");this.individualMmsis=n,this.groupMmsis=r}fillConfig(e,n,r,i){if(this.sort(),this.individualMmsis.length>this.maxIndividualMmsis)throw new Error("Too many MMSIs");if(this.groupMmsis.length>this.maxGroupMmsis)throw new Error("Too many group MMSIs");for(let o of[e,n,r,i])o.fill(255);for(let[o,s]of this.individualMmsis.entries())s.fillConfig(e,n,o);for(let[o,s]of this.groupMmsis.entries())s.fillConfig(r,i,o)}initFromConfig(e,n,r,i){let o=[],s=[];for(let a=0;a<this.maxIndividualMmsis;a++){let u=fg(e.subarray(a*16,(a+1)*16),n.subarray(lr(a)));u&&o.push(u)}for(let a=0;a<this.maxGroupMmsis;a++){let u=fg(r.subarray(a*16,(a+1)*16),i.subarray(lr(a)));u&&s.push(u)}this.individualMmsis=o,this.groupMmsis=s}};var Es=64;function Is(t,e){return T(this,null,function*(){let n,r=new Promise((i,o)=>{n=setTimeout(()=>o(new Error("Timeout")),e)});return Promise.race([t,r]).then(i=>(clearTimeout(n),i))})}var Ms=class{constructor(e){this.dev=e}supportsMessaging(){return!0}sendMessage(e,n,r){return T(this,null,function*(){let i=new gi({type:e,args:n}).toString();r?yield Is(this.dev.write(i),r):yield this.dev.write(i),console.log(`Wrote command ${JSON.stringify(i)}`)})}receiveMessage(e){return T(this,null,function*(){let n;return e?n=yield Is(this.dev.readline(),e):n=yield this.dev.readline(),console.log(`Received line ${n}`),new gi({encoded:n})})}waitForReady_(){return T(this,null,function*(){let e="";for(;e!="00";){if(this.dev.flushInput(),yield this.sendMessage("#CEPSR",["00"]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge status request");let r=yield this.receiveMessage();if(r.type!="#CEPSD")throw new Error("Device did not return status");e=r.args[0],e!="00"&&console.log(`Waiting for radio, state=${e}`),this.sendMessage("#CMDOK")}})}waitForReady(){return T(this,null,function*(){yield Is(this.waitForReady_(),1e3)})}readConfigMemoryChunk(e,n){return T(this,null,function*(){if(yield this.waitForReady(),yield this.sendMessage("#CEPRD",[Fe(e,4),Fe(n,2)]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge read");let i=yield this.receiveMessage();if(i.type!="#CEPDT")throw new Error("Device did not reply with data");return this.sendMessage("#CMDOK"),hs(i.args[2])})}writeConfigMemoryChunk(e,n){return T(this,null,function*(){yield this.waitForReady();let r=lt(n);if(yield this.sendMessage("#CEPWR",[Fe(e,4),Fe(n.length,2),r]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge write")})}readConfigMemory(e,n,r){return T(this,null,function*(){let i=new Uint8Array(n);for(let o=0;o<n;o+=Es)i.set(yield this.readConfigMemoryChunk(e+o,Math.min(n-o,Es)),o),r(o);return i})}writeConfigMemory(e,n,r){return T(this,null,function*(){for(let i=0;i<e.length;i+=Es)yield this.writeConfigMemoryChunk(n+i,e.subarray(i,Math.min(i+Es,e.length))),r(i)})}waitForGps_(){return T(this,null,function*(){for(;;){this.dev.flushInput(),this.sendMessage("$PMTK",["000"]);let e=yield this.receiveMessage();if(e.type=="$PMTK"&&e.args.length==3&&e.args[0]=="001"&&e.args[1]=="0"&&e.args[2]=="3")return}})}waitForGps(){return T(this,null,function*(){yield Is(this.waitForGps_(),1e3)})}},dr=class{constructor(e){this.datImage=e}supportsMessaging(){return!1}sendMessage(e,n,r){throw new Error("sendMessage is unavailable on DatConfigProtocol.")}receiveMessage(e){throw new Error("sendMessage is unavailable on DatConfigProtocol.")}waitForReady(){return T(this,null,function*(){})}waitForGps(){return T(this,null,function*(){})}readConfigMemory(e,n,r){return T(this,null,function*(){return r(n),this.datImage.slice(e,e+n)})}writeConfigMemory(e,n,r){return T(this,null,function*(){r(e.length),this.datImage.subarray(n).set(e)})}};var Ss=class{constructor(e){this._configProtocol=e,this.config=new ne({}),this._deviceTaskState=new ne("idle"),this.deviceTaskState$=this._deviceTaskState.asObservable(),this._progress=new ne(0),this.progress$=this._progress.asObservable()}reset(e,n){this.config.next({}),this._deviceTaskState.next("idle"),this._configProtocol=n,this._deviceConfig=e}noopConfigCallback(){return()=>this.config.next(this.config.getValue())}readNavInfo(){return T(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't read waypoints from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-read"),this._progress.next(0);let e=64,n=this._deviceConfig.waypointsNumber,r=wi*n,i=this._deviceConfig.routesNumber,o=this._deviceConfig.routeBytes*i,s=this._deviceConfig.waypointsStartAddress,a=yield this._configProtocol.readConfigMemory(s,r,p=>this._progress.next(p/(r+o))),u=[];for(var c=0;c<n;c+=1){let p=c*32,m=ig(a.subarray(p,p+32),s+p);m&&u.push(m)}let l=this._deviceConfig.routesStartAddress,d=yield this._configProtocol.readConfigMemory(l,o,p=>this._progress.next((r+p)/(r+o))),f=[];for(var h=0;h<i;h++){let p=h*this._deviceConfig.routeBytes,m=og(d.subarray(p,p+this._deviceConfig.routeBytes),this._deviceConfig.numWaypointsPerRoute);m&&f.push(m)}this.config.next(R(g({},this.config.getValue()),{waypoints:u,draftWaypoints:new ar(u,f,this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("nav-edit")})}writeNavInfoDraft(){return T(this,null,function*(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't write draft from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-save"),this._progress.next(0);let e=this.config.getValue().draftWaypoints;if(!e){console.log("No draft waypoints"),this._deviceTaskState.next("idle");return}let n=e?.getBinaryWaypointData(this._deviceConfig.waypointsStartAddress);if(!n)throw new Error("Error getting draft binary data");let r=e?.getBinaryRouteData();if(!r)throw new Error("Error getting route binary data");yield this._configProtocol.writeConfigMemory(n,this._deviceConfig.waypointsStartAddress,i=>this._progress.next(i/(n.length+r.length))),yield this._configProtocol.writeConfigMemory(r,this._deviceConfig.routesStartAddress,i=>this._progress.next((n.length+i)/(n.length+r.length))),this.config.next(R(g({},this.config.getValue()),{waypoints:e.waypoints,draftWaypoints:new ar(e.waypoints,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")})}cancelNavInfoDraft(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't cancel draft from state ${this._deviceTaskState.getValue()}`);let e=this.config.getValue().waypoints;if(!e){console.log("No waypoints yet"),this._deviceTaskState.next("idle");return}this.config.next(R(g({},this.config.getValue()),{draftWaypoints:new ar(e,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")}readMmsiDirectory(){return T(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't read MMSI directory from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("mmsi-read"),this._progress.next(0);let{individualMmsiNamesSize:e,individualMmsiNumbersSize:n,groupMmsiNamesSize:r,groupMmsiNumbersSize:i,totalSize:o}=this.getMmsiMemoryLayout(),s=yield this._configProtocol.readConfigMemory(this._deviceConfig.individualMmsiNamesAddress,e,f=>this._progress.next(f/o)),a=e,u=yield this._configProtocol.readConfigMemory(this._deviceConfig.individualMmsiNumbersAddress,n,f=>this._progress.next((a+f)/o));a+=n;let c=yield this._configProtocol.readConfigMemory(this._deviceConfig.groupMmsiNamesAddress,r,f=>this._progress.next((a+f)/o));a+=r;let l=yield this._configProtocol.readConfigMemory(this._deviceConfig.groupMmsiNumbersAddress,i,f=>this._progress.next((a+f)/o)),d=new bs(this._deviceConfig.individualMmsiNum,this._deviceConfig.groupMmsiNum);d.initFromConfig(s,u,c,l),this.config.next(R(g({},this.config.getValue()),{mmsiDirectory:d})),this._deviceTaskState.next("mmsi-edit")})}getMmsiMemoryLayout(){let e=this._deviceConfig.individualMmsiNum,n=cr*e,r=lr(e),i=this._deviceConfig.groupMmsiNum,o=cr*i,s=lr(i);return{individualMmsiNamesSize:n,individualMmsiNumbersSize:r,groupMmsiNamesSize:o,groupMmsiNumbersSize:s,totalSize:n+r+o+s}}writeMmsiDirectory(){return T(this,null,function*(){if(this._deviceTaskState.getValue()!="mmsi-edit")throw new Error(`Can't read MMSI directory from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("mmsi-save"),this._progress.next(0);let{individualMmsiNamesSize:e,individualMmsiNumbersSize:n,groupMmsiNamesSize:r,groupMmsiNumbersSize:i,totalSize:o}=this.getMmsiMemoryLayout(),s=new Uint8Array(e),a=new Uint8Array(n),u=new Uint8Array(r),c=new Uint8Array(i);this.config.getValue().mmsiDirectory.fillConfig(s,a,u,c),yield this._configProtocol.writeConfigMemory(s,this._deviceConfig.individualMmsiNamesAddress,d=>this._progress.next(d/o));let l=e;yield this._configProtocol.writeConfigMemory(a,this._deviceConfig.individualMmsiNumbersAddress,d=>this._progress.next((l+d)/o)),l+=n,yield this._configProtocol.writeConfigMemory(u,this._deviceConfig.groupMmsiNamesAddress,d=>this._progress.next((l+d)/o)),l+=r,yield this._configProtocol.writeConfigMemory(c,this._deviceConfig.groupMmsiNumbersAddress,d=>this._progress.next((l+d)/o)),this._deviceTaskState.next("idle")})}cancelMmsiDirectory(){this._deviceTaskState.next("idle")}readGpsLog(){return T(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't start reading GPS from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("gpslog-read"),this._progress.next(0),yield this._configProtocol.waitForGps();let e=[];this._configProtocol.sendMessage("$PMTK",["622","1"]);let n=yield this._configProtocol.receiveMessage();if(n.type!="$PMTK"||n.args.length!=3||n.args[0]!="LOX"||n.args[1]!="0")throw new Error(`Unexpected log header ${n.toString()}`);let r=Number(n.args[2]),i=0,o=yield this._configProtocol.receiveMessage();for(;!(o.args.length==2&&o.args[1]=="2");){if(o.type!="$PMTK"||o.args.length<2||o.args[0]!="LOX"||o.args[1]!="1")throw new Error(`Unexpected log line ${o.toString()}`);if(Number(o.args[2])!=i)throw new Error(`Unexpected log line number ${Number(o.args[2])} (was expecting ${i})`);let c=o.args.slice(3).map(hs);for(let l of c)e.push(l);this._progress.next(i/r),i+=1,o=yield this._configProtocol.receiveMessage()}i!=r&&console.log(`Got ${i} lines, was expecting ${r}. Continuing anyway.`);let s=e.reduce((c,l)=>c+l.length,0),a=new Uint8Array(s),u=0;for(let c of e)a.set(c,u),u+=c.length;if(n=yield this._configProtocol.receiveMessage(),n.type!="$PMTK"||n.args.length!=3||n.args[0]!="001"||n.args[1]!="622"||n.args[2]!="3")throw new Error(`Unexpected ReadLog acknowledgement ${n.toString()}`);this.config.next(R(g({},this.config.getValue()),{gpslog:a})),this._deviceTaskState.next("idle")})}getDat(){if(this._configProtocol instanceof dr)return this._configProtocol.datImage;throw new Error("DAT is only available in this configuration.")}};var fr=function(t){return t[t.Unknown=0]="Unknown",t[t.CP=1]="CP",t[t.NMEA=2]="NMEA",t}(fr||{}),fl=[{name:"HX890",usbFilter:{usbVendorId:9898,usbProductId:30},waypointsStartAddress:55040,waypointsNumber:250,routesStartAddress:50944,routesNumber:20,numWaypointsPerRoute:31,routeBytes:64,individualMmsiNamesAddress:17664,individualMmsiNumbersAddress:16896,individualMmsiNum:100,groupMmsiNamesAddress:20736,groupMmsiNumbersAddress:20480,groupMmsiNum:20,datLength:65536,datMagic:new Uint8Array([3,122])},{name:"HX870",usbFilter:{usbVendorId:9898,usbProductId:16},waypointsStartAddress:17152,waypointsNumber:200,routesStartAddress:23552,routesNumber:20,numWaypointsPerRoute:16,routeBytes:32,individualMmsiNamesAddress:14128,individualMmsiNumbersAddress:13568,individualMmsiNum:100,groupMmsiNamesAddress:16e3,groupMmsiNumbersAddress:15872,groupMmsiNum:20,datLength:32768,datMagic:new Uint8Array([3,103])}],Pt=(()=>{let e=class e{constructor(){this._connectionState=new ne("disconnected"),this.connectionState$=this._connectionState.asObservable(),this.encoder=new TextEncoder,this.decoder=new TextDecoder("utf-8"),this.mode=fr.Unknown,this._configProtocol=new Ms(this),this.configSession=new Ss(this._configProtocol),this.serial=navigator.serial}getConnectionState(){return this._connectionState.getValue()}connectUsb(){return T(this,null,function*(){if(!this.serial)throw new Error("This browser doesn't support the Webserial API. Use Chrome, Edge, or Opera.");if(this.getConnectionState()!="disconnected")throw new Error(`Cannot connect from state: ${this.getConnectionState()}`);try{this._connectionState.next("usb-connecting"),this.port=yield this.serial.requestPort({filters:fl.map(o=>o.usbFilter)});let r=this.port.getInfo(),i=fl.find(o=>o.usbFilter.usbProductId==r.usbProductId&&o.usbFilter.usbVendorId==r.usbVendorId);if(console.log(`Found device ${i.name}`),this.port.addEventListener("disconnect",o=>this.disconnect()),yield this.port.open({baudRate:9600}),this._streamReader=this.port?.readable?.getReader(),this.reader=new vs(this._streamReader),this.writer=this.port?.writable?.getWriter(),yield this.detectDeviceMode(),this.mode!=fr.CP)throw new Error("Device must be in CP mode");this._connectionState.next("usb-connected"),this.configSession.reset(i,this._configProtocol),console.log("Connected")}catch(r){console.error(`Error while connecting: ${r}`),yield this.disconnect()}})}disconnect(){return T(this,null,function*(){if(this._connectionState.getValue()=="dat-connected"){this._connectionState.next("disconnected");return}try{yield this.writer?.close(),yield this._streamReader?.cancel(),this._streamReader?.releaseLock(),this.writer?.releaseLock(),yield this.port?.close(),yield this.port?.forget(),this.port=void 0,this._streamReader=void 0,this.reader=void 0,this.writer=void 0,this.mode=fr.Unknown,this.configSession.config.next({}),console.log("Disconnected")}catch(r){this.port=void 0,console.error(`Error while disconnecting: ${r}`)}this._connectionState.next("disconnected")})}write(r){return T(this,null,function*(){yield this.writer?.write(this.encoder.encode(r))})}read(r){return T(this,null,function*(){return yield this.reader.read(r)})}readline(){return T(this,null,function*(){return yield this.reader.readline()})}flushInput(){this.reader&&this.reader.flush()}detectDeviceMode(){return T(this,null,function*(){yield this.write("P?");let r=yield this.read(1);r[0]=="@"?this.mode=fr.CP:(r[0]=="P"||r[0]=="$")&&(this.mode=fr.NMEA),console.log(`Detected mode ${this.mode}`)})}connectDat(r){if(this.getConnectionState()!="disconnected")throw new Error(`Cannot load DAT from state: ${this.getConnectionState()}`);let i=fl.find(o=>r.length==o.datLength&&o.datMagic.every((s,a)=>r[a]==s));if(!i)throw new Error(`Unknown DAT file format (length ${r.length}, magic ${r.subarray(0,2)}`);console.log(`Detected DAT file for ${i.name}`),this.configSession.reset(i,new dr(r)),this._connectionState.next("dat-connected")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ub(t,e){if(t&1&&w(0),t&2){let n=L(2);at(" Reading GPS log (",n.progressPct,"%) ")}}function cb(t,e){if(t&1&&w(0),t&2){let n=L(2);at(" Reading waypoints (",n.progressPct,"%) ")}}function lb(t,e){if(t&1&&w(0),t&2){let n=L(2);at(" Saving waypoints (",n.progressPct,"%) ")}}function db(t,e){if(t&1&&w(0),t&2){let n=L(2);at(" Reading MMSI directory (",n.progressPct,"%) ")}}function fb(t,e){if(t&1&&w(0),t&2){let n=L(2);at(" Saving MMSI directory (",n.progressPct,"%) ")}}function hb(t,e){if(t&1&&(y(0,"div",1)(1,"div",2)(2,"div",3),fe(3,ub,1,1)(4,cb,1,1)(5,lb,1,1)(6,db,1,1)(7,fb,1,1),C(),be(8,"div",4),C()()),t&2){let n=L();J(3),ge(3,n.state=="gpslog-read"?3:n.state=="nav-read"?4:n.state=="nav-save"?5:n.state=="mmsi-read"?6:n.state=="mmsi-save"?7:-1)}}var hl=(()=>{let e=class e{constructor(r){this.state="idle",this.progressPct=0,this.configProtocol=r.configSession}ngOnInit(){this.configProtocol.deviceTaskState$.subscribe(r=>this.state=r),this.configProtocol.progress$.subscribe(r=>this.progressPct=Math.floor(r*100))}};e.\u0275fac=function(i){return new(i||e)(B(Pt))},e.\u0275cmp=Se({type:e,selectors:[["busy-state-modal"]],standalone:!0,features:[Te],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"message"],[1,"spinner"]],template:function(i,o){i&1&&fe(0,hb,9,1,"div",0),i&2&&ge(0,o.state=="gpslog-read"||o.state=="nav-read"||o.state=="nav-save"||o.state=="mmsi-read"||o.state=="mmsi-save"?0:-1)},styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border-radius:5px;min-width:200px;display:flex;flex-direction:column;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{width:64px;height:64px;position:relative;border-radius:50%;border:2px solid transparent;border-top-color:#aaa;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}"]});let t=e;return t})();var Cg=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Gn),B(st))},e.\u0275dir=Oe({type:e});let t=e;return t})(),pb=(()=>{let e=class e extends Cg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Hr(e)))(o||e)}})(),e.\u0275dir=Oe({type:e,features:[Dt]});let t=e;return t})(),gl=new A("");var gb={provide:gl,useExisting:tn(()=>gr),multi:!0};function mb(){let t=_t()?_t().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vb=new A(""),gr=(()=>{let e=class e extends Cg{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mb())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Gn),B(st),B(vb,8))},e.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&K("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Wr([gb]),Dt]});let t=e;return t})();var ml=new A(""),vl=new A("");function Dg(t){return t!=null}function _g(t){return ln(t)?re(t):t}function bg(t){let e={};return t.forEach(n=>{e=n!=null?g(g({},e),n):e}),Object.keys(e).length===0?null:e}function Eg(t,e){return e.map(n=>n(t))}function yb(t){return!t.validate}function Ig(t){return t.map(e=>yb(e)?e:n=>e.validate(n))}function wb(t){if(!t)return null;let e=t.filter(Dg);return e.length==0?null:function(n){return bg(Eg(n,e))}}function yl(t){return t!=null?wb(Ig(t)):null}function Cb(t){if(!t)return null;let e=t.filter(Dg);return e.length==0?null:function(n){let r=Eg(n,e).map(_g);return oa(r).pipe(j(bg))}}function wl(t){return t!=null?Cb(Ig(t)):null}function hg(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mg(t){return t._rawValidators}function Sg(t){return t._rawAsyncValidators}function pl(t){return t?Array.isArray(t)?t:[t]:[]}function As(t,e){return Array.isArray(t)?t.includes(e):t===e}function pg(t,e){let n=pl(e);return pl(t).forEach(i=>{As(n,i)||n.push(i)}),n}function gg(t,e){return pl(e).filter(n=>!As(t,n))}var Ns=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},pr=class extends Ns{get formDirective(){return null}get path(){return null}},vn=class extends Ns{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Os=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Db={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qO=R(g({},Db),{"[class.ng-submitted]":"isSubmitted"}),ks=(()=>{let e=class e extends Os{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(vn,2))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Uo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dt]});let t=e;return t})(),xg=(()=>{let e=class e extends Os{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(pr,10))},e.\u0275dir=Oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Uo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dt]});let t=e;return t})();var Di="VALID",Ts="INVALID",hr="PENDING",_i="DISABLED";function Tg(t){return(Vs(t)?t.validators:t)||null}function _b(t){return Array.isArray(t)?yl(t):t||null}function Ag(t,e){return(Vs(e)?e.asyncValidators:t)||null}function bb(t){return Array.isArray(t)?wl(t):t||null}function Vs(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Eb(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function Ib(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var Rs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Di}get invalid(){return this.status===Ts}get pending(){return this.status==hr}get disabled(){return this.status===_i}get enabled(){return this.status!==_i}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gg(e,this._rawAsyncValidators))}hasValidator(e){return As(this._rawValidators,e)}hasAsyncValidator(e){return As(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_i,this.errors=null,this._forEachChild(r=>{r.disable(R(g({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Di,this._forEachChild(r=>{r.enable(R(g({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Di||this.status===hr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_i:Di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hr,this._hasOwnPendingAsyncValidator=!0;let n=_g(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?_i:this.errors?Ts:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hr)?hr:this._anyControlsHaveStatus(Ts)?Ts:Di}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vs(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=_b(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bb(this._rawAsyncValidators)}},Ps=class extends Rs{constructor(e,n,r){super(Tg(n),Ag(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ib(this,!0,e),Object.keys(e).forEach(r=>{Eb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ei=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Ls}),Ls="always";function Mb(t,e){return[...e.path,t]}function Cl(t,e,n=Ls){Ng(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Tb(t,e),Nb(t,e),Ab(t,e),Sb(t,e)}function mg(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xb(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Fs(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Sb(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ng(t,e){let n=Mg(t);e.validator!==null?t.setValidators(hg(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Sg(t);e.asyncValidator!==null?t.setAsyncValidators(hg(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Fs(e._rawValidators,i),Fs(e._rawAsyncValidators,i)}function xb(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Mg(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Sg(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Fs(e._rawValidators,r),Fs(e._rawAsyncValidators,r),n}function Tb(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Og(t,e)})}function Ab(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Og(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Og(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Nb(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ob(t,e){t==null,Ng(t,e)}function Rg(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Rb(t){return Object.getPrototypeOf(t.constructor)===pb}function Pb(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Pg(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===gr?n=o:Rb(o)?r=o:i=o}),i||r||n||null}var Fb={provide:pr,useExisting:tn(()=>Dl)},bi=Promise.resolve(),Dl=(()=>{let e=class e extends pr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new de,this.form=new Ps({},yl(r),wl(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){bi.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Cl(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){bi.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){bi.then(()=>{let i=this._findContainer(r.path),o=new Ps({});Ob(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){bi.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){bi.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Pb(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(ml,10),B(vl,10),B(Ei,8))},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&K("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Ce.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wr([Fb]),Dt]});let t=e;return t})();function vg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yg(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _l=class extends Rs{constructor(e=null,n,r){super(Tg(n),Ag(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vs(n)&&(n.nonNullable||n.initialValueIsDefault)&&(yg(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yg(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var kb={provide:vn,useExisting:tn(()=>bl)},wg=Promise.resolve(),bl=(()=>{let e=class e extends vn{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new _l,this._registered=!1,this.name="",this.update=new de,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Pg(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Rg(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){wg.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Go(i);wg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Mb(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(pr,9),B(ml,10),B(vl,10),B(gl,10),B(sn,8),B(Ei,8))},e.\u0275dir=Oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ce.None,"disabled","isDisabled"],model:[Ce.None,"ngModel","model"],options:[Ce.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wr([kb]),Dt,rn]});let t=e;return t})(),Fg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var kg=new A(""),Vb={provide:vn,useExisting:tn(()=>El)},El=(()=>{let e=class e extends vn{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new de,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Pg(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&mg(i,this,!1),Cl(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Rg(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(B(ml,10),B(vl,10),B(gl,10),B(kg,8),B(Ei,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControl",""]],inputs:{form:[Ce.None,"formControl","form"],isDisabled:[Ce.None,"disabled","isDisabled"],model:[Ce.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Wr([Vb]),Dt,rn]});let t=e;return t})();var Vg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({});let t=e;return t})();var $s=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ei,useValue:r.callSetDisabledState??Ls}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({imports:[Vg]});let t=e;return t})(),Lg=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kg,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ei,useValue:r.callSetDisabledState??Ls}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({imports:[Vg]});let t=e;return t})();function Lb(t,e){t&1&&w(0," Edit waypoint ")}function $b(t,e){t&1&&w(0," Add waypoint ")}function jb(t,e){if(t&1&&(y(0,"div",13),w(1),C()),t&2){let n=L(2);J(),Qn(n.errorMsg)}}function Bb(t,e){if(t&1){let n=xe();y(0,"div",1)(1,"h2"),fe(2,Lb,1,0)(3,$b,1,0),C(),fe(4,jb,2,1,"div",2),y(5,"form",3,4),K("ngSubmit",function(){X(n);let i=ic(6),o=L();return ee(o.onSubmit(i))}),y(7,"div",5),w(8," Name: "),y(9,"input",6),Gr("ngModelChange",function(i){X(n);let o=L();return Ho(o.wpFormData.name,i)||(o.wpFormData.name=i),ee(i)}),C()(),y(10,"div",5),w(11," Latitude: "),y(12,"input",7),Gr("ngModelChange",function(i){X(n);let o=L();return Ho(o.wpFormData.lat,i)||(o.wpFormData.lat=i),ee(i)}),C()(),y(13,"div",5),w(14," Longitude: "),y(15,"input",8),Gr("ngModelChange",function(i){X(n);let o=L();return Ho(o.wpFormData.lon,i)||(o.wpFormData.lon=i),ee(i)}),C()(),y(16,"div",9),w(17," Supported formats for latitude / longitude: "),y(18,"li"),w(19,"Degrees and decimal minutes (DMM), e.g. 12 N 34.5678, 12\xB0 34.5678' N"),C(),y(20,"li"),w(21,`Degrees, minutes, seconds (DMS), e.g. 12\xB0 34' 34.1" N`),C(),y(22,"li"),w(23,"Decimal degrees (DD), e.g. 12.57613 (number sign indicates direction)"),C()(),y(24,"div",10)(25,"button",11),K("click",function(){X(n);let i=ic(6),o=L();return ee(o.onCancel(i))}),w(26,"Cancel"),C(),y(27,"button",12),w(28,"Done"),C()()()()}if(t&2){let n=L();J(2),ge(2,n.editing?2:3),J(2),ge(4,n.errorMsg?4:-1),J(5),zr("ngModel",n.wpFormData.name),J(3),zr("ngModel",n.wpFormData.lat),J(3),zr("ngModel",n.wpFormData.lon)}}var Il=(()=>{let e=class e{constructor(){this.editing=!1,this.shown=!0}ngOnInit(){}onSubmit(r){if(!this.wpFormData){this.shown=!1;return}var i=this.wpFormData;try{let o=Cs(i)}catch(o){this.errorMsg=o.toString();return}this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,console.log(`Submitted form ${r}`),this.callbackFn&&this.callbackFn(i)}onCancel(r){return console.log(`Canceled form ${r}`),this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,!1}editWaypoint(r,i){this.shown=!0,this.editing=!0,this.wpFormData={name:r.wp.name,lat:r.getLat(),lon:r.getLon()},this.callbackFn=i}createWaypoint(r){this.editing=!1,this.wpFormData={name:"",lat:"",lon:""},this.shown=!0,this.callbackFn=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["waypoint-editor"]],standalone:!0,features:[Te],decls:1,vars:1,consts:[["class","dialog"],[1,"dialog"],["class","error"],[3,"ngSubmit"],["f","ngForm"],[1,"input"],["type","text","name","wpName","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLat","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLon","autocomplete","off",3,"ngModel","ngModelChange"],[1,"desc"],[1,"buttons"],["type","button",3,"click"],["type","submit"],[1,"error"]],template:function(i,o){i&1&&fe(0,Bb,29,5,"div",0),i&2&&ge(0,o.shown&&o.wpFormData?0:-1)},dependencies:[$s,Fg,gr,ks,xg,bl,Dl],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:1em;box-shadow:#0000004d 1px 1px 10px;border-radius:5px}h2[_ngcontent-%COMP%]{margin-top:10px}.input[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;flex-direction:row;justify-content:space-between}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:1rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.error[_ngcontent-%COMP%]{background-color:#ffd5d5;font-size:80%;padding:.4rem;color:#8b0000}.desc[_ngcontent-%COMP%]{font-size:80%}"]});let t=e;return t})();function Ub(t,e){t&1&&w(0," No waypoints! ")}function Hb(t,e){if(t&1){let n=xe();y(0,"tr")(1,"td")(2,"a",9),w(3),C()(),y(4,"td"),w(5),C(),y(6,"td"),w(7),C(),y(8,"td",10),K("click",function(){let o=X(n).$implicit,s=L(3);return ee(s.draftEditWaypoint(o))}),w(9,"\u270E"),C(),y(10,"td",10),K("click",function(){let o=X(n).$implicit,s=L(3);return ee(s.draftDeleteWaypoint(o))}),w(11,"\u2716"),C()()}if(t&2){let n=e.$implicit;J(2),rc("href",n.getMapLink(),Yf),J(),at("",n.wp.name," \u2197"),J(2),Qn(n.getLat()),J(2),Qn(n.getLon())}}function zb(t,e){if(t&1&&(y(0,"table")(1,"tr")(2,"th"),w(3,"Name"),C(),y(4,"th"),w(5,"Latitude"),C(),y(6,"th"),w(7,"Longitude"),C()(),jh(8,Hb,12,4,"tr",null,$h),C()),t&2){let n=L(2);J(8),Bh(n.getDraftWaypoints().waypoints)}}function Gb(t,e){if(t&1){let n=xe();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),fe(5,Ub,1,0)(6,zb,10,0),y(7,"button",6),K("click",function(){X(n);let i=L();return ee(i.draftAddWaypoint())}),w(8,"Add waypoint"),C()()(),be(9,"waypoint-editor"),C(),y(10,"div",7)(11,"button",6),K("click",function(){X(n);let i=L();return ee(i.draftCancel())}),w(12,"Cancel"),C(),y(13,"button",8),K("click",function(){X(n);let i=L();return ee(i.saveDraft())}),w(14," Save "),C()()()()}if(t&2){let n=L(),r;J(5),ge(5,!((r=n.getDraftWaypoints())==null||r.waypoints==null)&&r.waypoints.length?6:5),J(8),an("disabled",!n.isPendingDraft())}}var Ml=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.shown=!1,this.hex=Fe}ngOnInit(){this.deviceMgr.configSession.deviceTaskState$.subscribe(r=>{r=="nav-edit"||r=="nav-save"?this.shown=!0:this.shown=!1}),this.configSubscription=this.deviceMgr.configSession.config.asObservable().subscribe()}getDraftWaypoints(){return this.deviceMgr.configSession.config.getValue().draftWaypoints}draftEditWaypoint(r){let i=this.getDraftWaypoints();i&&this.waypointEditor.editWaypoint(r,o=>i?.editWaypoint(r,o.name,o.lat,o.lon))}draftDeleteWaypoint(r){let i=this.getDraftWaypoints();i&&i.deleteWaypoint(r)}draftAddWaypoint(){let r=this.getDraftWaypoints();this.waypointEditor.createWaypoint(i=>r?.addWaypoint(i))}draftCancel(){this.deviceMgr.configSession.cancelNavInfoDraft()}saveDraft(){this.deviceMgr.configSession.writeNavInfoDraft()}isPendingDraft(){return this.getDraftWaypoints()?.dirtyWaypoints}};e.\u0275fac=function(i){return new(i||e)(B(Pt))},e.\u0275cmp=Se({type:e,selectors:[["waypoint-sheet"]],viewQuery:function(i,o){if(i&1&&Zn(Il,5),i&2){let s;un(s=cn())&&(o.waypointEditor=s.first)}},standalone:!0,features:[Te],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"contents"],[1,"waypoints"],[1,"list"],[3,"click"],[1,"controls"],[3,"disabled","click"],["target","_blank",3,"href"],[1,"action",3,"click"]],template:function(i,o){i&1&&fe(0,Gb,15,2,"div",0),i&2&&ge(0,o.shown?0:-1)},dependencies:[Il],styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000040}.modal[_ngcontent-%COMP%]{position:fixed;top:30%;left:0%;width:100%;height:70%;background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center}.contents[_ngcontent-%COMP%]{max-width:600px;overflow:auto;flex:1}.waypoints[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{align-self:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:1.5rem}"]});let t=e;return t})();function Wb(t,e){if(t&1){let n=xe();y(0,"div",1)(1,"div",2)(2,"h2"),w(3,"Edit MMSI Directory"),C(),y(4,"div",3),w(5,' Input the MMSI directory as CSV with two columns ("name" and "mmsi"). Prefix group MMSIs with an uppercase "G". Warning: this feature is extra experimental. If there are errors in the CSV (name longer than 16 characters, MMSI not numeric, missing columns) the save will fail silently. '),C(),y(6,"div",4),be(7,"textarea",5),C(),y(8,"div",6)(9,"button",7),K("click",function(){X(n);let i=L();return ee(i.cancel())}),w(10,"Cancel"),C(),y(11,"button",7),K("click",function(){X(n);let i=L();return ee(i.save())}),w(12,"Save"),C()()()()}if(t&2){let n=L();J(7),an("formControl",n.csvControl)}}var Sl=(()=>{let e=class e{constructor(r){this.shown=!1,this.csvControl=new _l("Uninitialized"),this.configProtocol=r.configSession}ngOnInit(){this.configProtocol.deviceTaskState$.subscribe(r=>{r=="mmsi-edit"?(this.shown=!0,this.csvControl.setValue(this.configProtocol.config.getValue().mmsiDirectory.toCsv())):this.shown=!1})}save(){this.csvControl.value&&this.configProtocol.config.getValue().mmsiDirectory.initFromCsv(this.csvControl.value),this.configProtocol.writeMmsiDirectory()}cancel(){this.configProtocol.cancelMmsiDirectory()}};e.\u0275fac=function(i){return new(i||e)(B(Pt))},e.\u0275cmp=Se({type:e,selectors:[["mmsi-sheet"]],standalone:!0,features:[Te],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"info"],[1,"contents"],[3,"formControl"],[1,"controls"],[3,"click"]],template:function(i,o){i&1&&fe(0,Wb,13,1,"div",0),i&2&&ge(0,o.shown?0:-1)},dependencies:[$s,gr,ks,Lg,El],styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000040}.modal[_ngcontent-%COMP%]{position:fixed;top:30%;left:0%;width:100%;height:70%;background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{margin-top:10px}.contents[_ngcontent-%COMP%]{width:600px;flex:1}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:1.5rem}.info[_ngcontent-%COMP%]{max-width:600px;font-size:12px;padding:0 2em .5em;box-sizing:border-box}"]});let t=e;return t})();function qb(t,e){if(t&1){let n=xe();y(0,"div",3),w(1,' Connect your HX870 or HX890 radio to this computer with a USB cable, and place it in "CP Mode": '),y(2,"ol")(3,"li"),w(4,"Power the device off"),C(),y(5,"li"),w(6,"Press and hold the Menu key"),C(),y(7,"li"),w(8,"While holding the Menu key, press the power button"),C(),y(9,"li"),w(10,"Release both keys when the screen lights up"),C(),y(11,"li"),w(12,"Click Connect"),C()(),w(13," Alternatively, "),y(14,"a",4),K("click",function(){X(n);let i=L();return ee(i.showDatPicker())}),w(15,"load a DAT file"),C(),w(16," for your device to edit it. "),C(),y(17,"button",5),K("click",function(){X(n);let i=L();return ee(i.connectUsb())}),w(18," Connect "),C()}if(t&2){let n=L();J(17),an("disabled",n.connectionState==="usb-connecting")}}function Zb(t,e){if(t&1){let n=xe();y(0,"button",6),K("click",function(){X(n);let i=L(2);return ee(i.readGpslog())}),w(1,"Download GPS log"),C()}}function Qb(t,e){if(t&1){let n=xe();y(0,"button",6),K("click",function(){X(n);let i=L(2);return ee(i.saveDat())}),w(1,"Save DAT"),C()}}function Yb(t,e){if(t&1){let n=xe();y(0,"button",6),K("click",function(){X(n);let i=L(2);return ee(i.deviceMgr.disconnect())}),w(1,"Disconnect"),C()}}function Kb(t,e){if(t&1){let n=xe();y(0,"button",6),K("click",function(){X(n);let i=L(2);return ee(i.deviceMgr.disconnect())}),w(1,"Close"),C()}}function Jb(t,e){if(t&1){let n=xe();y(0,"button",6),K("click",function(){X(n);let i=L();return ee(i.readWaypoints())}),w(1,"Waypoints"),C(),y(2,"button",6),K("click",function(){X(n);let i=L();return ee(i.readMmsi())}),w(3,"MMSI Directory"),C(),fe(4,Zb,2,0,"button")(5,Qb,2,0,"button")(6,Yb,2,0,"button")(7,Kb,2,0)}if(t&2){let n=L();J(4),ge(4,n.connectionState=="usb-connected"?4:-1),J(),ge(5,n.connectionState=="dat-connected"?5:-1),J(),ge(6,n.connectionState=="usb-connected"?6:n.connectionState=="dat-connected"?7:-1)}}var Bg=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.hex=Fe,this.connectionState=r.getConnectionState(),this.config=this.deviceMgr.configSession.config,this.deviceTaskState="idle"}ngOnInit(){this.connectionStateSubscription=this.deviceMgr.connectionState$.subscribe(r=>this.connectionState=r),this.configSubscription=this.deviceMgr.configSession.config.asObservable().subscribe(),this.deviceMgr.configSession.deviceTaskState$.subscribe(r=>this.deviceTaskState=r)}readWaypoints(){return T(this,null,function*(){yield this.deviceMgr.configSession.readNavInfo()})}readMmsi(){return T(this,null,function*(){yield this.deviceMgr.configSession.readMmsiDirectory()})}readGpslog(){return T(this,null,function*(){yield this.deviceMgr.configSession.readGpsLog();let r=new ms(this.deviceMgr.configSession.config.getValue().gpslog).getGpx(),i=new Blob(r,{type:"application/xml"});(0,jg.saveAs)(i,"gpslog.gpx")})}connectUsb(){return T(this,null,function*(){if(!this.deviceMgr.serial){window.alert("This functionality requires Chrome, Edge, or Opera.");return}yield this.deviceMgr.connectUsb()})}showDatPicker(){return T(this,null,function*(){if(!window.showOpenFilePicker){window.alert("This functionality requires Chrome, Edge, or Opera.");return}let[r]=yield window.showOpenFilePicker({multiple:!1,types:[{description:"DAT files",accept:{"application/octet-stream":[".dat",".bin",".DAT",".bin"]}}]}),o=yield(yield r.getFile()).arrayBuffer();try{this.deviceMgr.connectDat(new Uint8Array(o))}catch(s){window.alert(s)}})}saveDat(){return T(this,null,function*(){let i=yield(yield window.showSaveFilePicker({types:[{description:"DAT files",accept:{"application/octet-stream":[".dat",".bin",".DAT",".bin"]}}]})).createWritable();yield i.write(this.deviceMgr.configSession.getDat()),yield i.close()})}};e.\u0275fac=function(i){return new(i||e)(B(Pt))},e.\u0275cmp=Se({type:e,selectors:[["app-device"]],viewQuery:function(i,o){if(i&1&&(Zn(Ml,5),Zn(Sl,5),Zn(hl,5)),i&2){let s;un(s=cn())&&(o.waypointSheet=s.first),un(s=cn())&&(o.mmsiSheet=s.first),un(s=cn())&&(o.busyStateModal=s.first)}},standalone:!0,features:[Te],decls:8,vars:1,consts:[[1,"device-panel"],["src","assets/radio.jpeg",1,"device-picture"],[1,"controls"],[1,"desc"],["href","#",3,"click"],[3,"disabled","click"],[3,"click"]],template:function(i,o){i&1&&(y(0,"div",0),be(1,"img",1),y(2,"div",2),fe(3,qb,19,1)(4,Jb,8,3),C()(),be(5,"waypoint-sheet")(6,"mmsi-sheet")(7,"busy-state-modal")),i&2&&(J(3),ge(3,o.connectionState!="usb-connected"&&o.connectionState!="dat-connected"?3:4))},dependencies:[hl,Ml,Sl],styles:[".device-panel[_ngcontent-%COMP%]{display:flex}.device-picture[_ngcontent-%COMP%]{width:150px;height:150px}.status-lights[_ngcontent-%COMP%]{width:100px;height:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.status-lights[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:14px;border:solid 1px #444;margin:5px;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_on-light{0%{background-color:#1c881c}50%{background-color:#36ae36}to{background-color:#1c881c}}.status-lights[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{background-color:#1c881c;color:#fff;animation-name:_ngcontent-%COMP%_on-light;animation-duration:1s;animation-iteration-count:infinite}.controls[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;align-items:center;justify-content:center}"]});let t=e;return t})();var Ug=(()=>{let e=class e{constructor(){this.title="hxsync"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-root"]],standalone:!0,features:[Te],decls:10,vars:0,consts:[[1,"main"],[1,"content"],[1,"desc"]],template:function(i,o){i&1&&(y(0,"main",0)(1,"div",1)(2,"h1"),w(3,"HxSync"),C(),y(4,"div",2),w(5," With this utility, you'll be able to edit waypoints on your HX870 or HX890, and download its GPS log in GPX format. "),C(),y(6,"div",2),w(7," This experimental utility is not provided by Standard Horizon. Use at your own risk! "),C(),be(8,"app-device"),C()(),be(9,"router-outlet"))},dependencies:[Kc,Bg],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem;margin-bottom:1rem}.content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']});let t=e;return t})();hp(Ug,Kp).catch(t=>console.error(t));
