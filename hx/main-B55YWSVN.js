var Hg=Object.create;var $s=Object.defineProperty,zg=Object.defineProperties,Gg=Object.getOwnPropertyDescriptor,Wg=Object.getOwnPropertyDescriptors,qg=Object.getOwnPropertyNames,Mc=Object.getOwnPropertySymbols,Zg=Object.getPrototypeOf,xc=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable;var Sc=(t,e,n)=>e in t?$s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||={})xc.call(e,n)&&Sc(t,n,e[n]);if(Mc)for(var n of Mc(e))Qg.call(e,n)&&Sc(t,n,e[n]);return t},O=(t,e)=>zg(t,Wg(e));var Yg=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Kg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qg(e))!xc.call(t,i)&&i!==n&&$s(t,i,{get:()=>e[i],enumerable:!(r=Gg(e,i))||r.enumerable});return t};var Jg=(t,e,n)=>(n=t!=null?Hg(Zg(t)):{},Kg(e||!t||!t.__esModule?$s(n,"default",{value:t,enumerable:!0}):n,t));var z=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Kp=Yg((nc,rc)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof nc<"u"?e():(e(),t.FileSaver={})})(nc,function(){"use strict";function t(a,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,u,l){var c=new XMLHttpRequest;c.open("GET",a),c.responseType="blob",c.onload=function(){s(c.response,u,l)},c.onerror=function(){console.error("could not download file")},c.send()}function n(a){var u=new XMLHttpRequest;u.open("HEAD",a,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(u)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,u,l){var c=i.URL||i.webkitURL,d=document.createElement("a");u=u||a.name||"download",d.download=u,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):n(d.href)?e(a,u,l):r(d,d.target="_blank")):(d.href=c.createObjectURL(a),setTimeout(function(){c.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,u,l){if(u=u||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,l),u);else if(n(a))e(a,u,l);else{var c=document.createElement("a");c.href=a,c.target="_blank",setTimeout(function(){r(c)})}}:function(a,u,l,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof a=="string")return e(a,u,l);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&f||o)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var w=p.result;w=h?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=w:location=w,c=null},p.readAsDataURL(a)}else{var m=i.URL||i.webkitURL,N=m.createObjectURL(a);c?c.location=N:location.href=N,c=null,setTimeout(function(){m.revokeObjectURL(N)},4e4)}});i.saveAs=s.saveAs=s,typeof rc<"u"&&(rc.exports=s)})});var Tc=null;var js=1,Bs=Symbol("SIGNAL");function fe(t){let e=Tc;return Tc=t,e}var Ac={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xg(t){if(!(zs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===js)){if(!t.producerMustRecompute(t)&&!Us(t)){t.dirty=!1,t.lastCleanEpoch=js;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=js}}function Nc(t){return t&&(t.nextProducerIndex=0),fe(t)}function Oc(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Us(t){Ei(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Xg(n),r!==n.version))return!0}return!1}function Rc(t){if(Ei(t),zs(t))for(let e=0;e<t.producerNode.length;e++)Hs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Hs(t,e){if(em(t),Ei(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Hs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ei(i),i.producerIndexOfThis[r]=e}}function zs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ei(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function em(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tm(){throw new Error}var nm=tm;function Pc(t){nm=t}function I(t){return typeof t=="function"}function wn(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ii=wn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(I(r))try{r()}catch(o){e=o instanceof Ii?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Fc(o)}catch(s){e=e??[],s instanceof Ii?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ii(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Fc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gr(n,e)}remove(e){let{_finalizers:n}=this;n&&gr(n,e),e instanceof t&&e._removeParent(this)}};ae.EMPTY=(()=>{let t=new ae;return t.closed=!0,t})();var Gs=ae.EMPTY;function Mi(t){return t instanceof ae||t&&"closed"in t&&I(t.remove)&&I(t.add)&&I(t.unsubscribe)}function Fc(t){I(t)?t():t.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cn={setTimeout(t,e,...n){let{delegate:r}=Cn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Si(t){Cn.setTimeout(()=>{let{onUnhandledError:e}=He;if(e)e(t);else throw t})}function mr(){}var kc=Ws("C",void 0,void 0);function Vc(t){return Ws("E",void 0,t)}function Lc(t){return Ws("N",t,void 0)}function Ws(t,e,n){return{kind:t,value:e,error:n}}var Lt=null;function Dn(t){if(He.useDeprecatedSynchronousErrorHandling){let e=!Lt;if(e&&(Lt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Lt;if(Lt=null,n)throw r}}else t()}function $c(t){He.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=t)}var $t=class extends ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mi(e)&&e.add(this)):this.destination=om}static create(e,n,r){return new _n(e,n,r)}next(e){this.isStopped?Zs(Lc(e),this):this._next(e)}error(e){this.isStopped?Zs(Vc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zs(kc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rm=Function.prototype.bind;function qs(t,e){return rm.call(t,e)}var Qs=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xi(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xi(r)}else xi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xi(n)}}},_n=class extends $t{constructor(e,n,r){super();let i;if(I(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&He.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qs(e.next,o),error:e.error&&qs(e.error,o),complete:e.complete&&qs(e.complete,o)}):i=e}this.destination=new Qs(i)}};function xi(t){He.useDeprecatedSynchronousErrorHandling?$c(t):Si(t)}function im(t){throw t}function Zs(t,e){let{onStoppedNotification:n}=He;n&&Cn.setTimeout(()=>n(t,e))}var om={closed:!0,next:mr,error:im,complete:mr};var bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Te(t){return t}function Ys(...t){return Ks(t)}function Ks(t){return t.length===0?Te:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=am(n)?n:new _n(n,r,i);return Dn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jc(r),new r((i,o)=>{let s=new _n({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bn](){return this}pipe(...n){return Ks(n)(this)}toPromise(n){return n=jc(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function jc(t){var e;return(e=t??He.Promise)!==null&&e!==void 0?e:Promise}function sm(t){return t&&I(t.next)&&I(t.error)&&I(t.complete)}function am(t){return t&&t instanceof $t||sm(t)&&Mi(t)}function Js(t){return I(t?.lift)}function j(t){return e=>{if(Js(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(t,e,n,r,i){return new Xs(t,e,n,r,i)}var Xs=class extends $t{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function En(){return j((t,e)=>{let n=null;t._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var In=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Js(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ae;let n=this.getSubject();e.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ae.EMPTY)}return e}refCount(){return En()(this)}};var Bc=wn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ti(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bc}next(n){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gs:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,gr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ti(e,n),t})(),Ti=class extends Ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Gs}};var J=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fe=new G(t=>t.complete());function Uc(t){return t&&I(t.schedule)}function Hc(t){return t[t.length-1]}function Ai(t){return I(Hc(t))?t.pop():void 0}function Et(t){return Uc(Hc(t))?t.pop():void 0}function Gc(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function zc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function Wc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{u(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){f.value instanceof jt?Promise.resolve(f.value.v).then(l,c):d(o[0][2],f)}function l(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function qc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zc=="function"?zc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ni=t=>t&&typeof t.length=="number"&&typeof t!="function";function Oi(t){return I(t?.then)}function Ri(t){return I(t[bn])}function Pi(t){return Symbol.asyncIterator&&I(t?.[Symbol.asyncIterator])}function Fi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function um(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ki=um();function Vi(t){return I(t?.[ki])}function Li(t){return Wc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jt(n.read());if(i)return yield jt(void 0);yield yield jt(r)}}finally{n.releaseLock()}})}function $i(t){return I(t?.getReader)}function oe(t){if(t instanceof G)return t;if(t!=null){if(Ri(t))return lm(t);if(Ni(t))return cm(t);if(Oi(t))return dm(t);if(Pi(t))return Zc(t);if(Vi(t))return fm(t);if($i(t))return hm(t)}throw Fi(t)}function lm(t){return new G(e=>{let n=t[bn]();if(I(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cm(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dm(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Si)})}function fm(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Zc(t){return new G(e=>{pm(t,e).catch(n=>e.error(n))})}function hm(t){return Zc(Li(t))}function pm(t,e){var n,r,i,o;return Gc(this,void 0,void 0,function*(){try{for(n=qc(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ee(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ji(t,e=0){return j((n,r)=>{n.subscribe(V(r,i=>Ee(r,t,()=>r.next(i),e),()=>Ee(r,t,()=>r.complete(),e),i=>Ee(r,t,()=>r.error(i),e)))})}function Bi(t,e=0){return j((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Qc(t,e){return oe(t).pipe(Bi(e),ji(e))}function Yc(t,e){return oe(t).pipe(Bi(e),ji(e))}function Kc(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jc(t,e){return new G(n=>{let r;return Ee(n,e,()=>{r=t[ki](),Ee(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}function Ui(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Ee(n,e,()=>{let r=t[Symbol.asyncIterator]();Ee(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xc(t,e){return Ui(Li(t),e)}function ed(t,e){if(t!=null){if(Ri(t))return Qc(t,e);if(Ni(t))return Kc(t,e);if(Oi(t))return Yc(t,e);if(Pi(t))return Ui(t,e);if(Vi(t))return Jc(t,e);if($i(t))return Xc(t,e)}throw Fi(t)}function te(t,e){return e?ed(t,e):oe(t)}function S(...t){let e=Et(t);return te(t,e)}function Mn(t,e){let n=I(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function ea(t){return!!t&&(t instanceof G||I(t.lift)&&I(t.subscribe))}var ht=wn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function L(t,e){return j((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:gm}=Array;function mm(t,e){return gm(e)?t(...e):t(e)}function Hi(t){return L(e=>mm(t,e))}var{isArray:vm}=Array,{getPrototypeOf:ym,prototype:wm,keys:Cm}=Object;function zi(t){if(t.length===1){let e=t[0];if(vm(e))return{args:e,keys:null};if(Dm(e)){let n=Cm(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Dm(t){return t&&typeof t=="object"&&ym(t)===wm}function Gi(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wi(...t){let e=Et(t),n=Ai(t),{args:r,keys:i}=zi(t);if(r.length===0)return te([],e);let o=new G(_m(r,e,i?s=>Gi(i,s):Te));return n?o.pipe(Hi(n)):o}function _m(t,e,n=Te){return r=>{td(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)td(e,()=>{let l=te(t[u],e),c=!1;l.subscribe(V(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function td(t,e,n){t?Ee(n,t,e):e()}function nd(t,e,n,r,i,o,s,a){let u=[],l=0,c=0,d=!1,f=()=>{d&&!u.length&&!l&&e.complete()},h=m=>l<r?p(m):u.push(m),p=m=>{o&&e.next(m),l++;let N=!1;oe(n(m,c++)).subscribe(V(e,w=>{i?.(w),o?h(w):e.next(w)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let w=u.shift();s?Ee(e,s,()=>p(w)):p(w)}f()}catch(w){e.error(w)}}))};return t.subscribe(V(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ue(t,e,n=1/0){return I(e)?ue((r,i)=>L((o,s)=>e(r,o,i,s))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),j((r,i)=>nd(r,i,t,n)))}function ta(t=1/0){return ue(Te,t)}function rd(){return ta(1)}function Sn(...t){return rd()(te(t,Et(t)))}function qi(t){return new G(e=>{oe(t()).subscribe(e)})}function na(...t){let e=Ai(t),{args:n,keys:r}=zi(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let c=0;c<s;c++){let d=!1;oe(n[c]).subscribe(V(o,f=>{d||(d=!0,l--),a[c]=f},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?Gi(r,a):a),o.complete())}))}});return e?i.pipe(Hi(e)):i}function ze(t,e){return j((n,r)=>{let i=0;n.subscribe(V(r,o=>t.call(e,o,i++)&&r.next(o)))})}function It(t){return j((e,n)=>{let r=null,i=!1,o;r=e.subscribe(V(n,void 0,void 0,s=>{o=oe(t(s,It(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function id(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(V(s,c=>{let d=l++;u=a?t(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function xn(t,e){return I(e)?ue(t,e,1):ue(t,1)}function Mt(t){return j((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pt(t){return t<=0?()=>Fe:j((e,n)=>{let r=0;e.subscribe(V(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ra(t){return L(()=>t)}function Zi(t=bm){return j((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bm(){return new ht}function vr(t){return j((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function et(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ze((i,o)=>t(i,o,r)):Te,pt(1),n?Mt(e):Zi(()=>new ht))}function Tn(t){return t<=0?()=>Fe:j((e,n)=>{let r=[];e.subscribe(V(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ia(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ze((i,o)=>t(i,o,r)):Te,Tn(1),n?Mt(e):Zi(()=>new ht))}function oa(t,e){return j(id(t,e,arguments.length>=2,!0))}function sa(...t){let e=Et(t);return j((n,r)=>{(e?Sn(t,n,e):Sn(t,n)).subscribe(r)})}function Ge(t,e){return j((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(V(r,u=>{i?.unsubscribe();let l=0,c=o++;oe(t(u,c)).subscribe(i=V(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function aa(t){return j((e,n)=>{oe(t).subscribe(V(n,()=>n.complete(),mr)),!n.closed&&e.subscribe(n)})}function ce(t,e,n){let r=I(t)||e||n?{next:t,error:e,complete:n}:t;return r?j((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(V(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Te}var jd="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(vu(e,n)),this.code=e}};function vu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Ia=class extends Ae{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=ua(o),i&&(i=ua(i)),s&&(s=ua(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ae&&e.add(a),a}};function ua(t){return e=>{setTimeout(t,void 0,e)}}var de=Ia;var F=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(F||{});function Ie(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function od(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Bd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bd||{}),rt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rt||{});function _o(t){return{toString:t}.toString()}var yr=globalThis;var Pn={},Ve=[];function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}function Em(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Im=Q({\u0275cmp:Q}),Mm=Q({\u0275dir:Q}),Sm=Q({\u0275pipe:Q}),xm=Q({\u0275mod:Q}),ro=Q({\u0275fac:Q}),wr=Q({__NG_ELEMENT_ID__:Q}),sd=Q({__NG_ENV_ID__:Q}),we=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(we||{});function Ud(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ma(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Am(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Tm(t){return t===3||t===4||t===6}function Am(t){return t.charCodeAt(0)===64}function _r(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ad(t,n,i,null,e[++r]):ad(t,n,i,null,null))}}return t}function ad(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Hd="ng-template";function Nm(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&Ud(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function zd(t){return t.type===4&&t.value!==Hd}function Om(t,e,n){let r=t.type===4&&!n?Hd:t.value;return e===r}function Rm(t,e,n){let r=4,i=t.attrs||[],o=km(i),s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!We(r)&&!We(u))return!1;if(s&&We(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Om(t,u,n)||u===""&&e.length===1){if(We(r))return!1;s=!0}}else{let l=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!Nm(t.attrs,l,n)){if(We(r))return!1;s=!0}continue}let c=r&8?"class":u,d=Pm(c,i,zd(t),n);if(d===-1){if(We(r))return!1;s=!0;continue}if(l!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&Ud(h,l,0)!==-1||r&2&&l!==f){if(We(r))return!1;s=!0}}}}return We(r)||s}function We(t){return(t&1)===0}function Pm(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Vm(e,t)}function Fm(t,e,n=!1){for(let r=0;r<e.length;r++)if(Rm(t,e[r],n))return!0;return!1}function km(t){for(let e=0;e<t.length;e++){let n=t[e];if(Tm(n))return e}return t.length}function Vm(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ud(t,e){return t?":not("+e.trim()+")":e}function Lm(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!We(s)&&(e+=ud(o,i),i=""),r=s,o=o||!We(r);n++}return i!==""&&(e+=ud(o,i)),e}function $m(t){return t.map(Lm).join(",")}function jm(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!We(i))break;i=o}r++}return{attrs:e,classes:n}}function Me(t){return _o(()=>{let e=Qd(t),n=O(g({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rt.Emulated,styles:t.styles||Ve,_:null,schemas:t.schemas||null,tView:null,id:""});Yd(n);let r=t.dependencies;return n.directiveDefs=cd(r,!1),n.pipeDefs=cd(r,!0),n.id=Hm(n),n})}function Bm(t){return Ht(t)||Gd(t)}function Um(t){return t!==null}function Jt(t){return _o(()=>({type:t.type,bootstrap:t.bootstrap||Ve,declarations:t.declarations||Ve,imports:t.imports||Ve,exports:t.exports||Ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ld(t,e){if(t==null)return Pn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=we.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==we.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ne(t){return _o(()=>{let e=Qd(t);return Yd(e),e})}function Ht(t){return t[Im]||null}function Gd(t){return t[Mm]||null}function Wd(t){return t[Sm]||null}function qd(t){let e=Ht(t)||Gd(t)||Wd(t);return e!==null?e.standalone:!1}function Zd(t,e){let n=t[xm]||null;if(!n&&e===!0)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return n}function Qd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ld(t.inputs,e),outputs:ld(t.outputs),debugInfo:null}}function Yd(t){t.features?.forEach(e=>e(t))}function cd(t,e){if(!t)return null;let n=e?Wd:Bm;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Um)}function Hm(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var wt=0,M=1,b=2,he=3,qe=4,Qe=5,br=6,Er=7,ve=8,Fn=9,gt=10,le=11,Ir=12,dd=13,Bn=14,Ze=15,Lr=16,An=17,mt=18,bo=19,Kd=20,Cr=21,la=22,zt=23,Le=25,Jd=1;var Gt=7,io=8,kn=9,ye=10,yu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yu||{});function Bt(t){return Array.isArray(t)&&typeof t[Jd]=="object"}function Ct(t){return Array.isArray(t)&&t[Jd]===!0}function Xd(t){return(t.flags&4)!==0}function Eo(t){return t.componentOffset>-1}function wu(t){return(t.flags&1)===1}function xt(t){return!!t.template}function zm(t){return(t[b]&512)!==0}var Gm="svg",Wm="math",qm=!1;function Zm(){return qm}function it(t){for(;Array.isArray(t);)t=t[wt];return t}function ef(t,e){return it(e[t])}function Ye(t,e){return it(e[t.index])}function Cu(t,e){return t.data[e]}function Qm(t,e){return t[e]}function At(t,e){let n=e[t];return Bt(n)?n:n[wt]}function Ym(t){return(t[b]&4)===4}function Du(t){return(t[b]&128)===128}function Km(t){return Ct(t[he])}function oo(t,e){return e==null?null:t[e]}function tf(t){t[An]=0}function Jm(t){t[b]&1024||(t[b]|=1024,Du(t)&&Mr(t))}function Xm(t,e){for(;t>0;)e=e[Bn],t--;return e}function _u(t){return!!(t[b]&9216||t[zt]?.dirty)}function Sa(t){_u(t)?Mr(t):t[b]&64&&(Zm()?(t[b]|=1024,Mr(t)):t[gt].changeDetectionScheduler?.notify())}function Mr(t){t[gt].changeDetectionScheduler?.notify();let e=Sr(t);for(;e!==null&&!(e[b]&8192||(e[b]|=8192,!Du(e)));)e=Sr(e)}function ev(t,e){if((t[b]&256)===256)throw new _(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(e)}function Sr(t){let e=t[he];return Ct(e)?e[he]:e}var k={lFrame:lf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tv(){return k.lFrame.elementDepthCount}function nv(){k.lFrame.elementDepthCount++}function rv(){k.lFrame.elementDepthCount--}function nf(){return k.bindingsEnabled}function iv(){return k.skipHydrationRootTNode!==null}function ov(t){return k.skipHydrationRootTNode===t}function sv(){k.skipHydrationRootTNode=null}function W(){return k.lFrame.lView}function De(){return k.lFrame.tView}function ne(t){return k.lFrame.contextLView=t,t[ve]}function re(t){return k.lFrame.contextLView=null,t}function Oe(){let t=rf();for(;t!==null&&t.type===64;)t=t.parent;return t}function rf(){return k.lFrame.currentTNode}function av(){let t=k.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $r(t,e){let n=k.lFrame;n.currentTNode=t,n.isParent=e}function of(){return k.lFrame.isParent}function uv(){k.lFrame.isParent=!1}function lv(){return k.lFrame.contextLView}function cv(t){return k.lFrame.bindingIndex=t}function jr(){return k.lFrame.bindingIndex++}function dv(t){let e=k.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fv(){return k.lFrame.inI18n}function hv(t,e){let n=k.lFrame;n.bindingIndex=n.bindingRootIndex=t,xa(e)}function pv(){return k.lFrame.currentDirectiveIndex}function xa(t){k.lFrame.currentDirectiveIndex=t}function gv(t){let e=k.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sf(){return k.lFrame.currentQueryIndex}function bu(t){k.lFrame.currentQueryIndex=t}function mv(t){let e=t[M];return e.type===2?e.declTNode:e.type===1?t[Qe]:null}function af(t,e,n){if(n&F.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&F.Host);)if(i=mv(o),i===null||(o=o[Bn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=k.lFrame=uf();return r.currentTNode=e,r.lView=t,!0}function Eu(t){let e=uf(),n=t[M];k.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uf(){let t=k.lFrame,e=t===null?null:t.child;return e===null?lf(t):e}function lf(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cf(){let t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var df=cf;function Iu(){let t=cf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vv(t){return(k.lFrame.contextLView=Xm(t,k.lFrame.contextLView))[ve]}function Xt(){return k.lFrame.selectedIndex}function Wt(t){k.lFrame.selectedIndex=t}function Mu(){let t=k.lFrame;return Cu(t.tView,t.selectedIndex)}function yv(){return k.lFrame.currentNamespace}var ff=!0;function Su(){return ff}function xu(t){ff=t}function wv(){return Un(Oe(),W())}function Un(t,e){return new ot(Ye(t,e))}var ot=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=wv;let t=e;return t})();function Cv(t){return t instanceof ot?t.nativeElement:t}function Dv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function _v(t){return t.flat(Number.POSITIVE_INFINITY)}function Tu(t,e){t.forEach(n=>Array.isArray(n)?Tu(n,e):e(n))}function hf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function so(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bv(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ev(t,e,n){let r=Br(t,e);return r>=0?t[r|1]=n:(r=~r,bv(t,r,e,n)),r}function ca(t,e){let n=Br(t,e);if(n>=0)return t[n|1]}function Br(t,e){return Iv(t,e,1)}function Iv(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function Mv(){return this._results[Symbol.iterator]()}var Ta=class t{get changes(){return this._changes??=new de}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Mv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=_v(e);(this._changesDetected=!Dv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pf(t){return(t.flags&128)===128}var Aa;function gf(t){Aa=t}function Sv(){if(Aa!==void 0)return Aa;if(typeof document<"u")return document;throw new _(210,!1)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function Io(t){return fd(t,vf)||fd(t,yf)}function mf(t){return Io(t)!==null}function fd(t,e){return t.hasOwnProperty(e)?t[e]:null}function xv(t){let e=t&&(t[vf]||t[yf]);return e||null}function hd(t){return t&&(t.hasOwnProperty(pd)||t.hasOwnProperty(Tv))?t[pd]:null}var vf=Q({\u0275prov:Q}),pd=Q({\u0275inj:Q}),yf=Q({ngInjectableDef:Q}),Tv=Q({ngInjectorDef:Q}),T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Au=new T("",{providedIn:"root",factory:()=>Av}),Av="ng",Nu=new T(""),Hn=new T("",{providedIn:"platform",factory:()=>"unknown"});var Ou=new T("",{providedIn:"root",factory:()=>Sv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nv=Q({__forward_ref__:Q});function tn(t){return t.__forward_ref__=tn,t.toString=function(){return Ie(this())},t}function Ce(t){return wf(t)?t():t}function wf(t){return typeof t=="function"&&t.hasOwnProperty(Nv)&&t.__forward_ref__===tn}function Cf(t){return t&&!!t.\u0275providers}function Ru(t){return typeof t=="string"?t:t==null?"":String(t)}function Ov(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ru(t)}function Rv(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function Pu(t,e){throw new _(-201,!1)}var Na;function Pv(){return Na}function ke(t){let e=Na;return Na=t,e}function Df(t,e,n){let r=Io(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&F.Optional)return null;if(e!==void 0)return e;Pu(t,"Injector")}var Fv={},xr=Fv,kv="__NG_DI_FLAG__",ao="ngTempTokenPath",Vv="ngTokenPath",Lv=/\n/gm,$v="\u0275",gd="__source",Dr;function St(t){let e=Dr;return Dr=t,e}function jv(t,e=F.Default){if(Dr===void 0)throw new _(-203,!1);return Dr===null?Df(t,void 0,e):Dr.get(t,e&F.Optional?null:void 0,e)}function B(t,e=F.Default){return(Pv()||jv)(Ce(t),e)}function v(t,e=F.Default){return B(t,Mo(e))}function Mo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oa(t){let e=[];for(let n=0;n<t.length;n++){let r=Ce(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,o=F.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Bv(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function Bv(t){return t[kv]}function Uv(t,e,n,r){let i=t[ao];throw e[gd]&&i.unshift(e[gd]),t.message=Hv(`
`+t.message,i,n,r),t[Vv]=i,t[ao]=null,t}function Hv(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$v?t.slice(2):t;let i=Ie(e);if(Array.isArray(e))i=e.map(Ie).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ie(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Lv,`
  `)}`}var zv="h",Gv="b";var Wv=()=>null;function Fu(t,e,n=!1){return Wv(t,e,n)}function Vn(t,e){let n=t.hasOwnProperty(ro);return n?t[ro]:null}var Ln=new T(""),_f=new T("",-1),bf=new T(""),uo=class{get(e,n=xr){if(n===xr){let r=new Error(`NullInjectorError: No provider for ${Ie(e)}!`);throw r.name="NullInjectorError",r}return n}};function So(t){return{\u0275providers:t}}function qv(...t){return{\u0275providers:Ef(!0,t),\u0275fromNgModule:!0}}function Ef(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Tu(e,s=>{let a=s;Ra(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&If(i,o),n}function If(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ku(i,o=>{e(o,r)})}}function Ra(t,e,n,r){if(t=Ce(t),!t)return!1;let i=null,o=hd(t),s=!o&&Ht(t);if(!o&&!s){let u=t.ngModule;if(o=hd(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ra(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Tu(o.imports,c=>{Ra(c,e,n,r)&&(l||=[],l.push(c))})}finally{}l!==void 0&&If(l,e)}if(!a){let l=Vn(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ve},i),e({provide:bf,useValue:i,multi:!0},i),e({provide:Ln,useValue:()=>B(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ku(u,c=>{e(c,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ku(t,e){for(let n of t)Cf(n)&&(n=n.\u0275providers),Array.isArray(n)?ku(n,e):e(n)}var Zv=Q({provide:String,useValue:Q});function Mf(t){return t!==null&&typeof t=="object"&&Zv in t}function Qv(t){return!!(t&&t.useExisting)}function Yv(t){return!!(t&&t.useFactory)}function $n(t){return typeof t=="function"}function Kv(t){return!!t.useClass}var xo=new T(""),Ki={},Jv={},da;function Vu(){return da===void 0&&(da=new uo),da}var $e=class{},Tr=class extends $e{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fa(e,s=>this.processProvider(s)),this.records.set(_f,Nn(void 0,this)),i.has("environment")&&this.records.set($e,Nn(void 0,this));let o=this.records.get(xo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bf,Ve,F.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=St(this),r=ke(void 0),i;try{return e()}finally{St(n),ke(r)}}get(e,n=xr,r=F.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sd))return e[sd](this);r=Mo(r);let i,o=St(this),s=ke(void 0);try{if(!(r&F.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ry(e)&&Io(e);l&&this.injectableDefInScope(l)?u=Nn(Pa(e),Ki):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&F.Self?Vu():this.parent;return n=r&F.Optional&&n===xr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ao]=a[ao]||[]).unshift(Ie(e)),o)throw a;return Uv(a,e,"R3InjectorError",this.source)}else throw a}finally{ke(s),St(o)}}resolveInjectorInitializers(){let e=St(this),n=ke(void 0),r;try{let i=this.get(Ln,Ve,F.Self);for(let o of i)o()}finally{St(e),ke(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ie(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ce(e);let n=$n(e)?e:Ce(e&&e.provide),r=ey(e);if(!$n(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Nn(void 0,Ki,!0),i.factory=()=>Oa(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ki&&(n.value=Jv,n.value=n.factory()),typeof n.value=="object"&&n.value&&ny(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ce(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pa(t){let e=Io(t),n=e!==null?e.factory:Vn(t);if(n!==null)return n;if(t instanceof T)throw new _(204,!1);if(t instanceof Function)return Xv(t);throw new _(204,!1)}function Xv(t){if(t.length>0)throw new _(204,!1);let n=xv(t);return n!==null?()=>n.factory(t):()=>new t}function ey(t){if(Mf(t))return Nn(void 0,t.useValue);{let e=Sf(t);return Nn(e,Ki)}}function Sf(t,e,n){let r;if($n(t)){let i=Ce(t);return Vn(i)||Pa(i)}else if(Mf(t))r=()=>Ce(t.useValue);else if(Yv(t))r=()=>t.useFactory(...Oa(t.deps||[]));else if(Qv(t))r=()=>B(Ce(t.useExisting));else{let i=Ce(t&&(t.useClass||t.provide));if(ty(t))r=()=>new i(...Oa(t.deps));else return Vn(i)||Pa(i)}return r}function Nn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ty(t){return!!t.deps}function ny(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ry(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function Fa(t,e){for(let n of t)Array.isArray(n)?Fa(n,e):n&&Cf(n)?Fa(n.\u0275providers,e):e(n)}function nn(t,e){t instanceof Tr&&t.assertNotDestroyed();let n,r=St(t),i=ke(void 0);try{return e()}finally{St(r),ke(i)}}function iy(t){return typeof t=="function"}var ka=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xf(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rn(){return Tf}function Tf(t){return t.type.prototype.ngOnChanges&&(t.setInput=sy),oy}rn.ngInherit=!0;function oy(){let t=Nf(this),e=t?.current;if(e){let n=t.previous;if(n===Pn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sy(t,e,n,r,i){let o=this.declaredInputs[r],s=Nf(t)||ay(t,{previous:Pn,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ka(l&&l.currentValue,n,u===Pn),xf(t,e,i,n)}var Af="__ngSimpleChanges__";function Nf(t){return t[Af]||null}function ay(t,e){return t[Af]=e}var md=null;var tt=function(t,e,n){md?.(t,e,n)};function uy(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Tf(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Lu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function Ji(t,e,n){Of(t,e,3,n)}function Xi(t,e,n,r){(t[b]&3)===n&&Of(t,e,n,r)}function fa(t,e){let n=t[b];(n&3)===e&&(n&=16383,n+=1,t[b]=n)}function Of(t,e,n,r){let i=r!==void 0?t[An]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[An]+=65536),(a<o||o==-1)&&(ly(t,n,e,u),t[An]=(t[An]&4294901760)+u+2),u++}function vd(t,e){tt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),tt(5,t,e)}}function ly(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[b]>>14<t[An]>>16&&(t[b]&3)===e&&(t[b]+=16384,vd(a,o)):vd(a,o)}var Rn=-1,qt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function cy(t){return t instanceof qt}function dy(t){return(t.flags&8)!==0}function fy(t){return(t.flags&16)!==0}function Rf(t){return t!==Rn}function lo(t){return t&32767}function hy(t){return t>>16}function co(t,e){let n=hy(t),r=e;for(;n>0;)r=r[Bn],n--;return r}var Va=!0;function yd(t){let e=Va;return Va=t,e}var py=256,Pf=py-1,Ff=5,gy=0,nt={};function my(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(wr)&&(r=n[wr]),r==null&&(r=n[wr]=gy++);let i=r&Pf,o=1<<i;e.data[t+(i>>Ff)]|=o}function fo(t,e){let n=kf(t,e);if(n!==-1)return n;let r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,ha(r.data,t),ha(e,null),ha(r.blueprint,null));let i=$u(t,e),o=t.injectorIndex;if(Rf(i)){let s=lo(i),a=co(i,e),u=a[M].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ha(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $u(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Bf(i),r===null)return Rn;if(n++,i=i[Bn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Rn}function La(t,e,n){my(t,e,n)}function Vf(t,e,n){if(n&F.Optional||t!==void 0)return t;Pu(e,"NodeInjector")}function Lf(t,e,n,r){if(n&F.Optional&&r===void 0&&(r=null),!(n&(F.Self|F.Host))){let i=t[Fn],o=ke(void 0);try{return i?i.get(e,r,n&F.Optional):Df(e,r,n&F.Optional)}finally{ke(o)}}return Vf(r,e,n)}function $f(t,e,n,r=F.Default,i){if(t!==null){if(e[b]&2048&&!(r&F.Self)){let s=Cy(t,e,n,r,nt);if(s!==nt)return s}let o=jf(t,e,n,r,nt);if(o!==nt)return o}return Lf(e,n,r,i)}function jf(t,e,n,r,i){let o=yy(n);if(typeof o=="function"){if(!af(e,t,r))return r&F.Host?Vf(i,n,r):Lf(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&F.Optional))Pu(n);else return s}finally{df()}}else if(typeof o=="number"){let s=null,a=kf(t,e),u=Rn,l=r&F.Host?e[Ze][Qe]:null;for((a===-1||r&F.SkipSelf)&&(u=a===-1?$u(t,e):e[a+8],u===Rn||!Cd(r,!1)?a=-1:(s=e[M],a=lo(u),e=co(u,e)));a!==-1;){let c=e[M];if(wd(o,a,c.data)){let d=vy(a,e,n,s,r,l);if(d!==nt)return d}u=e[a+8],u!==Rn&&Cd(r,e[M].data[a+8]===l)&&wd(o,a,e)?(s=c,a=lo(u),e=co(u,e)):a=-1}}return i}function vy(t,e,n,r,i,o){let s=e[M],a=s.data[t+8],u=r==null?Eo(a)&&Va:r!=s&&(a.type&3)!==0,l=i&F.Host&&o===a,c=eo(a,s,n,u,l);return c!==null?Zt(e,s,c,a):nt}function eo(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,c=o>>20,d=r?a:a+c,f=i?a+c:l;for(let h=d;h<f;h++){let p=s[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){let h=s[u];if(h&&xt(h)&&h.type===n)return u}return null}function Zt(t,e,n,r){let i=t[n],o=e.data;if(cy(i)){let s=i;s.resolving&&Rv(Ov(o[n]));let a=yd(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?ke(s.injectImpl):null,c=af(t,r,F.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&uy(n,o[n],e)}finally{l!==null&&ke(l),yd(a),s.resolving=!1,df()}}return i}function yy(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(wr)?t[wr]:void 0;return typeof e=="number"?e>=0?e&Pf:wy:e}function wd(t,e,n){let r=1<<t;return!!(n[e+(t>>Ff)]&r)}function Cd(t,e){return!(t&F.Self)&&!(t&F.Host&&e)}var Ut=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $f(this._tNode,this._lView,e,Mo(r),n)}};function wy(){return new Ut(Oe(),W())}function Ur(t){return _o(()=>{let e=t.prototype.constructor,n=e[ro]||$a(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ro]||$a(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $a(t){return wf(t)?()=>{let e=$a(Ce(t));return e&&e()}:Vn(t)}function Cy(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[b]&2048&&!(s[b]&512);){let a=jf(o,s,n,r|F.Self,nt);if(a!==nt)return a;let u=o.parent;if(!u){let l=s[Kd];if(l){let c=l.get(n,nt,r);if(c!==nt)return c}u=Bf(s),s=s[Bn]}o=u}return i}function Bf(t){let e=t[M],n=e.type;return n===2?e.declTNode:n===1?t[Qe]:null}function Dd(t,e=null,n=null,r){let i=Uf(t,e,n,r);return i.resolveInjectorInitializers(),i}function Uf(t,e=null,n=null,r,i=new Set){let o=[n||Ve,qv(t)];return r=r||(typeof t=="object"?void 0:Ie(t)),new Tr(o,e||Vu(),r||null,i)}var zn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Dd({name:""},i,r,"");{let o=r.name??"";return Dd({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=xr,e.NULL=new uo,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>B(_f)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),Dy="ngOriginalError";function pa(t){return t[Dy]}var vt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pa(e);for(;n&&pa(n);)n=pa(n);return n||null}},Hf=new T("",{providedIn:"root",factory:()=>v(vt).handleError.bind(void 0)});var zf=!1,_y=new T("",{providedIn:"root",factory:()=>zf});var ho=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jd})`}};function To(t){return t instanceof ho?t.changingThisBreaksApplicationSecurity:t}function Gf(t,e){let n=by(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jd})`)}return n===e}function by(t){return t instanceof ho&&t.getTypeName()||null}var Ey=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wf(t){return t=String(t),t.match(Ey)?t:"unsafe:"+t}var ju=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ju||{});function qf(t){let e=Iy();return e?e.sanitize(ju.URL,t)||"":Gf(t,"URL")?To(t):Wf(Ru(t))}function Iy(){let t=W();return t&&t[gt].sanitizer}var Zf=new Map,My=0;function Sy(){return My++}function xy(t){Zf.set(t[bo],t)}function Ty(t){Zf.delete(t[bo])}var _d="__ngContext__";function Qt(t,e){Bt(e)?(t[_d]=e[bo],xy(e)):t[_d]=e}function Qf(t){return t instanceof Function?t():t}var yt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yt||{}),Ay;function Bu(t,e){return Ay(t,e)}function On(t,e,n,r,i){if(r!=null){let o,s=!1;Ct(r)?o=r:Bt(r)&&(s=!0,r=r[wt]);let a=it(r);t===0&&n!==null?i==null?Xf(e,n,a):po(e,n,a,i||null,!0):t===1&&n!==null?po(e,n,a,i||null,!0):t===2?qy(e,a,s):t===3&&e.destroyNode(a),o!=null&&Qy(e,t,o,n,i)}}function Ny(t,e){return t.createText(e)}function Oy(t,e,n){t.setValue(e,n)}function Yf(t,e,n){return t.createElement(e,n)}function Ry(t,e){Kf(t,e),e[wt]=null,e[Qe]=null}function Py(t,e,n,r,i,o){r[wt]=i,r[Qe]=e,No(t,r,n,1,i,o)}function Kf(t,e){No(t,e,e[le],2,null,null)}function Fy(t){let e=t[Ir];if(!e)return ga(t[M],t);for(;e;){let n=null;if(Bt(e))n=e[Ir];else{let r=e[ye];r&&(n=r)}if(!n){for(;e&&!e[qe]&&e!==t;)Bt(e)&&ga(e[M],e),e=e[he];e===null&&(e=t),Bt(e)&&ga(e[M],e),n=e&&e[qe]}e=n}}function ky(t,e,n,r){let i=ye+r,o=n.length;r>0&&(n[i-1][qe]=e),r<o-ye?(e[qe]=n[i],hf(n,ye+r,e)):(n.push(e),e[qe]=null),e[he]=n;let s=e[Lr];s!==null&&n!==s&&Vy(s,e);let a=e[mt];a!==null&&a.insertView(t),Sa(e),e[b]|=128}function Vy(t,e){let n=t[kn],i=e[he][he][Ze];e[Ze]!==i&&(t[b]|=yu.HasTransplantedViews),n===null?t[kn]=[e]:n.push(e)}function Jf(t,e){let n=t[kn],r=n.indexOf(e);n.splice(r,1)}function Ar(t,e){if(t.length<=ye)return;let n=ye+e,r=t[n];if(r){let i=r[Lr];i!==null&&i!==t&&Jf(i,r),e>0&&(t[n-1][qe]=r[qe]);let o=so(t,ye+e);Ry(r[M],r);let s=o[mt];s!==null&&s.detachView(o[M]),r[he]=null,r[qe]=null,r[b]&=-129}return r}function Ao(t,e){if(!(e[b]&256)){let n=e[le];n.destroyNode&&No(t,e,n,3,null,null),Fy(e)}}function ga(t,e){if(!(e[b]&256)){e[b]&=-129,e[b]|=256,e[zt]&&Rc(e[zt]),$y(t,e),Ly(t,e),e[M].type===1&&e[le].destroy();let n=e[Lr];if(n!==null&&Ct(e[he])){n!==e[he]&&Jf(n,e);let r=e[mt];r!==null&&r.detachView(t)}Ty(e)}}function Ly(t,e){let n=t.cleanup,r=e[Er];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Er]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $y(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];tt(4,a,u);try{u.call(a)}finally{tt(5,a,u)}}else{tt(4,i,o);try{o.call(i)}finally{tt(5,i,o)}}}}}function jy(t,e,n){return By(t,e.parent,n)}function By(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===rt.None||o===rt.Emulated)return null}return Ye(r,n)}}function po(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Xf(t,e,n){t.appendChild(e,n)}function bd(t,e,n,r,i){r!==null?po(t,e,n,r,i):Xf(t,e,n)}function Uy(t,e,n,r){t.removeChild(e,n,r)}function Uu(t,e){return t.parentNode(e)}function Hy(t,e){return t.nextSibling(e)}function zy(t,e,n){return Wy(t,e,n)}function Gy(t,e,n){return t.type&40?Ye(t,n):null}var Wy=Gy,Ed;function Hu(t,e,n,r){let i=jy(t,r,e),o=e[le],s=r.parent||e[Qe],a=zy(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bd(o,i,n[u],a,!1);else bd(o,i,n,a,!1);Ed!==void 0&&Ed(o,r,e,n,i)}function to(t,e){if(e!==null){let n=e.type;if(n&3)return Ye(e,t);if(n&4)return ja(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return to(t,r);{let i=t[e.index];return Ct(i)?ja(-1,i):it(i)}}else{if(n&32)return Bu(e,t)()||it(t[e.index]);{let r=eh(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Sr(t[Ze]);return to(i,r)}else return to(t,e.next)}}}return null}function eh(t,e){if(e!==null){let r=t[Ze][Qe],i=e.projection;return r.projection[i]}return null}function ja(t,e){let n=ye+t+1;if(n<e.length){let r=e[n],i=r[M].firstChild;if(i!==null)return to(r,i)}return e[Gt]}function qy(t,e,n){let r=Uu(t,e);r&&Uy(t,r,e,n)}function zu(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Qt(it(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)zu(t,e,n.child,r,i,o,!1),On(e,t,i,a,o);else if(u&32){let l=Bu(n,r),c;for(;c=l();)On(e,t,i,c,o);On(e,t,i,a,o)}else u&16?Zy(t,e,r,n,i,o):On(e,t,i,a,o);n=s?n.projectionNext:n.next}}function No(t,e,n,r,i,o){zu(n,r,t.firstChild,e,i,o,!1)}function Zy(t,e,n,r,i,o){let s=n[Ze],u=s[Qe].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let c=u[l];On(e,t,i,c,o)}else{let l=u,c=s[he];pf(r)&&(l.flags|=128),zu(t,e,l,c,i,o,!0)}}function Qy(t,e,n,r,i){let o=n[Gt],s=it(n);o!==s&&On(e,t,r,o,i);for(let a=ye;a<n.length;a++){let u=n[a];No(u[M],u,t,e,r,o)}}function Yy(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:yt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yt.Important),t.setStyle(n,r,i,o))}}function Ky(t,e,n){t.setAttribute(e,"style",n)}function th(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nh(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ma(t,e,r),i!==null&&th(t,e,i),o!==null&&Ky(t,e,o)}var on={};function ee(t=1){rh(De(),W(),Xt()+t,!1)}function rh(t,e,n,r){if(!r)if((e[b]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ji(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Xi(e,o,0,n)}Wt(n)}function $(t,e=F.Default){let n=W();if(n===null)return B(t,e);let r=Oe();return $f(r,n,Ce(t),e)}function ih(t,e,n,r,i,o){let s=fe(null);try{let a=null;i&we.SignalBased&&(a=e[r][Bs]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&we.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):xf(e,a,r,o)}finally{fe(s)}}function Jy(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wt(~i);else{let o=i,s=n[++r],a=n[++r];hv(s,o);let u=e[o];a(2,u)}}}finally{Wt(-1)}}function Oo(t,e,n,r,i,o,s,a,u,l,c){let d=e.blueprint.slice();return d[wt]=i,d[b]=r|4|128|8|64,(l!==null||t&&t[b]&2048)&&(d[b]|=2048),tf(d),d[he]=d[Bn]=t,d[ve]=n,d[gt]=s||t&&t[gt],d[le]=a||t&&t[le],d[Fn]=u||t&&t[Fn]||null,d[Qe]=o,d[bo]=Sy(),d[br]=c,d[Kd]=l,d[Ze]=e.type==2?t[Ze]:d,d}function Ro(t,e,n,r,i){let o=t.data[e];if(o===null)o=Xy(t,e,n,r,i),fv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=av();o.injectorIndex=s===null?-1:s.injectorIndex}return $r(o,!0),o}function Xy(t,e,n,r,i){let o=rf(),s=of(),a=s?o:o&&o.parent,u=t.data[e]=ow(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function oh(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sh(t,e,n,r,i){let o=Xt(),s=r&2;try{Wt(-1),s&&e.length>Le&&rh(t,e,Le,!1),tt(s?2:0,i),n(r,i)}finally{Wt(o),tt(s?3:1,i)}}function ah(t,e,n){if(Xd(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}function uh(t,e,n){nf()&&(dw(t,e,n,Ye(n,e)),(n.flags&64)===64&&hh(t,e,n))}function lh(t,e,n=Ye){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ch(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gu(t,e,n,r,i,o,s,a,u,l,c){let d=Le+r,f=d+i,h=ew(d,f),p=typeof l=="function"?l():l;return h[M]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}function ew(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:on);return n}function tw(t,e,n,r){let o=r.get(_y,zf)||n===rt.ShadowDom,s=t.selectRootElement(e,o);return nw(s),s}function nw(t){rw(t)}var rw=()=>null;function iw(t,e,n,r){let i=mh(e);i.push(n),t.firstCreatePass&&vh(t).push(r,i.length-1)}function ow(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return iv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Id(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=we.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Md(r,n,l,a,u):Md(r,n,l,a)}return r}function Md(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function sw(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let c=r;c<i;c++){let d=o[c],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;u=Id(0,d.inputs,c,u,h),l=Id(1,d.outputs,c,l,p);let m=u!==null&&s!==null&&!zd(e)?Cw(u,c,s):null;a.push(m)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function aw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wu(t,e,n,r,i,o,s,a){let u=Ye(e,n),l=e.inputs,c;!a&&l!=null&&(c=l[r])?(qu(t,n,c,r,i),Eo(e)&&uw(n,e.index)):e.type&3?(r=aw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function uw(t,e){let n=At(e,t);n[b]&16||(n[b]|=64)}function dh(t,e,n,r){if(nf()){let i=r===null?null:{"":-1},o=hw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&fh(t,e,n,s,i,a),i&&pw(n,r,i)}n.mergedAttrs=_r(n.mergedAttrs,n.attrs)}function fh(t,e,n,r,i,o){for(let l=0;l<r.length;l++)La(fo(n,e),t,r[l].type);mw(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=oh(t,e,r.length,null);for(let l=0;l<r.length;l++){let c=r[l];n.mergedAttrs=_r(n.mergedAttrs,c.hostAttrs),vw(t,n,e,u,c),gw(u,c,i),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}sw(t,n,o)}function lw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;cw(s)!=a&&s.push(a),s.push(n,r,o)}}function cw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dw(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Eo(n)&&yw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fo(n,e),Qt(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Zt(e,t,a,n);if(Qt(l,e),s!==null&&ww(e,a-i,l,u,n,s),xt(u)){let c=At(n.index,e);c[ve]=Zt(e,t,a,n)}}}function hh(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=pv();try{Wt(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];xa(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&fw(u,l)}}finally{Wt(-1),xa(s)}}function fw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Fm(e,s.selectors,!1))if(r||(r=[]),xt(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Ba(t,e,u)}else r.unshift(s),Ba(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ba(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new _(-301,!1);r.push(e[i],o)}}}function gw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function mw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Vn(i.type,!0)),s=new qt(o,xt(i),$);t.blueprint[r]=s,n[r]=s,lw(t,e,r,oh(t,n,i.hostVars,on),i)}function yw(t,e,n){let r=Ye(e,t),i=ch(n),o=t[gt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Po(t,Oo(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function ww(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],c=s[a++],d=s[a++];ih(r,n,u,l,c,d)}}function Cw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function ph(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gh(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];bu(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Po(t,e){return t[Ir]?t[dd][qe]=e:t[Ir]=e,t[dd]=e,e}function Ua(t,e,n){bu(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function mh(t){return t[Er]||(t[Er]=[])}function vh(t){return t.cleanup||(t.cleanup=[])}function yh(t,e){let n=t[Fn],r=n?n.get(vt,null):null;r&&r.handleError(e)}function qu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],c=t.data[s];ih(c,l,r,a,u,i)}}function Dw(t,e,n){let r=ef(e,t);Oy(t[le],r,n)}function _w(t,e){let n=At(e,t),r=n[M];bw(r,n);let i=n[wt];i!==null&&n[br]===null&&(n[br]=Fu(i,n[Fn])),Zu(r,n,n[ve])}function bw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zu(t,e,n){Eu(e);try{let r=t.viewQuery;r!==null&&Ua(1,r,n);let i=t.template;i!==null&&sh(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[mt]?.finishViewCreation(t),t.staticContentQueries&&gh(t,e),t.staticViewQueries&&Ua(2,t.viewQuery,n);let o=t.components;o!==null&&Ew(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[b]&=-5,Iu()}}function Ew(t,e){for(let n=0;n<e.length;n++)_w(t,e[n])}function Fo(t,e,n,r){let i=e.tView,s=t[b]&4096?4096:16,a=Oo(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[Lr]=u;let l=t[mt];return l!==null&&(a[mt]=l.createEmbeddedView(i)),Zu(i,a,n),a}function wh(t,e){let n=ye+e;if(n<t.length)return t[n]}function Nr(t,e){return!e||e.firstChild===null||pf(t)}function ko(t,e,n,r=!0){let i=e[M];if(ky(i,e,t,n),r){let s=ja(n,t),a=e[le],u=Uu(a,t[Gt]);u!==null&&Py(i,t[Qe],a,e,u,s)}let o=e[br];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ch(t,e){let n=Ar(t,e);return n!==void 0&&Ao(n[M],n),n}function go(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(it(o)),Ct(o)&&Iw(o,r);let s=n.type;if(s&8)go(t,e,n.child,r);else if(s&32){let a=Bu(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=eh(e,n);if(Array.isArray(a))r.push(...a);else{let u=Sr(e[Ze]);go(u[M],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Iw(t,e){for(let n=ye;n<t.length;n++){let r=t[n],i=r[M].firstChild;i!==null&&go(r[M],r,i,e)}t[Gt]!==t[wt]&&e.push(t[Gt])}var Dh=[];function Mw(t){return t[zt]??Sw(t)}function Sw(t){let e=Dh.pop()??Object.create(Tw);return e.lView=t,e}function xw(t){t.lView[zt]!==t&&(t.lView=null,Dh.push(t))}var Tw=O(g({},Ac),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mr(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function _h(t){return Eh(t[Ir])}function bh(t){return Eh(t[qe])}function Eh(t){for(;t!==null&&!Ct(t);)t=t[qe];return t}var Ih=100;function Mh(t,e=!0,n=0){let r=t[gt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Aw(t,n)}catch(s){throw e&&yh(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Aw(t,e){Ha(t,e);let n=0;for(;_u(t);){if(n===Ih)throw new _(103,!1);n++,Ha(t,1)}}function Nw(t,e,n,r){let i=e[b];if((i&256)===256)return;let o=!1;!o&&e[gt].inlineEffectRunner?.flush(),Eu(e);let s=null,a=null;!o&&Ow(t)&&(a=Mw(e),s=Nc(a));try{tf(e),cv(t.bindingStartIndex),n!==null&&sh(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&Ji(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xi(e,d,0,null),fa(e,0)}if(Rw(e),Sh(e,0),t.contentQueries!==null&&gh(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&Ji(e,d)}else{let d=t.contentHooks;d!==null&&Xi(e,d,1),fa(e,1)}Jy(t,e);let l=t.components;l!==null&&Th(e,l,0);let c=t.viewQuery;if(c!==null&&Ua(2,c,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&Ji(e,d)}else{let d=t.viewHooks;d!==null&&Xi(e,d,2),fa(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[la]){for(let d of e[la])d();e[la]=null}o||(e[b]&=-73)}catch(u){throw Mr(e),u}finally{a!==null&&(Oc(a,s),xw(a)),Iu()}}function Ow(t){return t.type!==2}function Sh(t,e){for(let n=_h(t);n!==null;n=bh(n))for(let r=ye;r<n.length;r++){let i=n[r];xh(i,e)}}function Rw(t){for(let e=_h(t);e!==null;e=bh(e)){if(!(e[b]&yu.HasTransplantedViews))continue;let n=e[kn];for(let r=0;r<n.length;r++){let i=n[r],o=i[he];Jm(i)}}}function Pw(t,e,n){let r=At(e,t);xh(r,n)}function xh(t,e){Du(t)&&Ha(t,e)}function Ha(t,e){let r=t[M],i=t[b],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Us(o)),o&&(o.dirty=!1),t[b]&=-9217,s)Nw(r,t,r.template,t[ve]);else if(i&8192){Sh(t,1);let a=r.components;a!==null&&Th(t,a,1)}}function Th(t,e,n){for(let r=0;r<e.length;r++)Pw(t,e[r],n)}function Qu(t){for(t[gt].changeDetectionScheduler?.notify();t;){t[b]|=64;let e=Sr(t);if(zm(t)&&!e)return t;t=e}return null}var Yt=class{get rootNodes(){let e=this._lView,n=e[M];return go(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ve]}set context(e){this._lView[ve]=e}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[he];if(Ct(e)){let n=e[io],r=n?n.indexOf(this):-1;r>-1&&(Ar(e,r),so(n,r))}this._attachedToViewContainer=!1}Ao(this._lView[M],this._lView)}onDestroy(e){ev(this._lView,e)}markForCheck(){Qu(this._cdRefInjectingView||this._lView)}detach(){this._lView[b]&=-129}reattach(){Sa(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,Mh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Kf(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e,Sa(this._lView)}},Or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vw;let t=e;return t})(),Fw=Or,kw=class extends Fw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Fo(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Yt(i)}};function Vw(){return Yu(Oe(),W())}function Yu(t,e){return t.type&4?new kw(e,t,Un(t,e)):null}var UT=new RegExp(`^(\\d+)*(${Gv}|${zv})*(.*)`);var Lw=()=>null;function Rr(t,e){return Lw(t,e)}var za=class{},Ga=class{},mo=class{};function $w(t){let e=Error(`No component factory found for ${Ie(t)}.`);return e[jw]=t,e}var jw="ngComponent";var Wa=class{resolveComponentFactory(e){throw $w(e)}},Vo=(()=>{let e=class e{};e.NULL=new Wa;let t=e;return t})(),Pr=class{},Gn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bw();let t=e;return t})();function Bw(){let t=W(),e=Oe(),n=At(e.index,t);return(Bt(n)?n:t)[le]}var Uw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ma={};function Hw(t){return typeof t=="function"&&t[Bs]!==void 0}var Sd=new Set;function Lo(t){Sd.has(t)||(Sd.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ah(t){return Hw(t)&&typeof t.set=="function"}var sn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zw;let t=e;return t})();function zw(t){return Gw(Oe(),W(),(t&16)===16)}function Gw(t,e,n){if(Eo(t)&&!n){let r=At(t.index,e);return new Yt(r,r)}else if(t.type&47){let r=e[Ze];return new Yt(r,e)}return null}function xd(...t){}function Ww(){let t=typeof yr.requestAnimationFrame=="function",e=yr[t?"requestAnimationFrame":"setTimeout"],n=yr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Ww().nativeRequestAnimationFrame,Qw(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qw,xd,xd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qw={};function Ku(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zw(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qa(t),t.isCheckStableRunning=!0,Ku(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qa(t))}function Qw(t){let e=()=>{Zw(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Yw(a))return n.invokeTask(i,o,s,a);try{return Td(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ad(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Td(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ad(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,qa(t),Ku(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function qa(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Td(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ad(t){t._nesting--,Ku(t)}function Yw(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Nh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Za(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=od(i,a);else if(o==2){let u=a,l=e[++s];r=od(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vo=class extends Vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ht(e);return new Fr(n,this.ngModule)}};function Nd(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Kw(t){let e=t.toLowerCase();return e==="svg"?Gm:e==="math"?Wm:null}var Qa=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Mo(r);let i=this.injector.get(e,ma,r);return i!==ma||n===ma?i:this.parentInjector.get(e,n,r)}},Fr=class extends mo{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Nd(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Nd(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=$m(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof $e?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Qa(e,o):e,a=s.get(Pr,null);if(a===null)throw new _(407,!1);let u=s.get(Uw,null),l=s.get(Nh,null),c=s.get(za,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:c},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?tw(f,r,this.componentDef.encapsulation,s):Yf(f,h,Kw(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let N=null;p!==null&&(N=Fu(p,s,!0));let w=Gu(0,null,null,1,0,null,null,null,null,null,null),P=Oo(null,w,null,m,null,null,d,f,s,null,N);Eu(P);let R,Y;try{let K=this.componentDef,be,Ft=null;K.findHostDirectiveDefs?(be=[],Ft=new Map,K.findHostDirectiveDefs(K,be,Ft),be.push(K)):be=[K];let yn=Jw(P,p),Vs=Xw(yn,p,K,be,P,d,f);Y=Cu(w,Le),p&&nC(f,K,p,r),n!==void 0&&rC(Y,this.ngContentSelectors,n),R=tC(Vs,K,be,Ft,P,[iC]),Zu(w,P,null)}finally{Iu()}return new Ya(this.componentType,R,Un(Y,P),P,Y)}},Ya=class extends Ga{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yt(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;qu(o[M],o,i,e,n),this.previousInputValues.set(e,n);let s=At(this._tNode.index,o);Qu(s)}}get injector(){return new Ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Jw(t,e){let n=t[M],r=Le;return t[r]=e,Ro(n,r,2,"#host",null)}function Xw(t,e,n,r,i,o,s){let a=i[M];eC(r,t,e,s);let u=null;e!==null&&(u=Fu(e,i[Fn]));let l=o.rendererFactory.createRenderer(e,n),c=16;n.signals?c=4096:n.onPush&&(c=64);let d=Oo(i,ch(n),null,c,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Ba(a,t,r.length-1),Po(i,d),i[t.index]=d}function eC(t,e,n,r){for(let i of t)e.mergedAttrs=_r(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Za(e,e.mergedAttrs,!0),n!==null&&nh(r,n,e))}function tC(t,e,n,r,i,o){let s=Oe(),a=i[M],u=Ye(s,i);fh(a,i,s,n,null,r);for(let c=0;c<n.length;c++){let d=s.directiveStart+c,f=Zt(i,a,d,s);Qt(f,i)}hh(a,i,s),u&&Qt(u,i);let l=Zt(i,a,s.directiveStart+s.componentOffset,s);if(t[ve]=i[ve]=l,o!==null)for(let c of o)c(l,e);return ah(a,s,i),l}function nC(t,e,n,r){if(r)Ma(t,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:o}=jm(e.selectors[0]);i&&Ma(t,n,i),o&&o.length>0&&th(t,n,o.join(" "))}}function rC(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function iC(){let t=Oe();Lu(W()[M],t)}var Wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oC;let t=e;return t})();function oC(){let t=Oe();return Rh(t,W())}var sC=Wn,Oh=class extends sC{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Un(this._hostTNode,this._hostLView)}get injector(){return new Ut(this._hostTNode,this._hostLView)}get parentInjector(){let e=$u(this._hostTNode,this._hostLView);if(Rf(e)){let n=co(e,this._hostLView),r=lo(e),i=n[M].data[r+8];return new Ut(i,n)}else return new Ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Od(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ye}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Rr(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Nr(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!iy(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let u=s?e:new Fr(Ht(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(s?l:this.parentInjector).get($e,null);m&&(o=m)}let c=Ht(u.componentType??{}),d=Rr(this._lContainer,c?.id??null),f=d?.firstChild??null,h=u.create(l,i,f,o);return this.insertImpl(h.hostView,a,Nr(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Km(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[he],l=new Oh(u,u[Qe],u[he]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ko(s,i,o,r),e.attachToViewContainerRef(),hf(va(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Od(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ar(this._lContainer,n);r&&(so(va(this._lContainer),n),Ao(r[M],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ar(this._lContainer,n);return r&&so(va(this._lContainer),n)!=null?new Yt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Od(t){return t[io]}function va(t){return t[io]||(t[io]=[])}function Rh(t,e){let n,r=e[t.index];return Ct(r)?n=r:(n=ph(r,e,null,t),e[t.index]=n,Po(e,n)),uC(n,e,t,r),new Oh(n,t,e)}function aC(t,e){let n=t[le],r=n.createComment(""),i=Ye(e,t),o=Uu(n,i);return po(n,o,r,Hy(n,i),!1),r}var uC=dC,lC=()=>!1;function cC(t,e,n){return lC(t,e,n)}function dC(t,e,n,r){if(t[Gt])return;let i;n.type&8?i=it(r):i=aC(e,n),t[Gt]=i}var Ka=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ja=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ju(e,n).matches!==null&&this.queries[n].setDirty()}},Xa=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=wC(e):this.predicate=e}},eu=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tu=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,fC(n,o)),this.matchTNodeWithReadOption(e,n,eo(n,e,o,!1,!1))}else r===Or?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,eo(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ot||i===Wn||i===Or&&n.type&4)this.addMatch(n.index,-2);else{let o=eo(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function fC(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function hC(t,e){return t.type&11?Un(t,e):t.type&4?Yu(t,e):null}function pC(t,e,n,r){return n===-1?hC(e,t):n===-2?gC(t,e,r):Zt(t,t[M],n,e)}function gC(t,e,n){if(n===ot)return Un(e,t);if(n===Or)return Yu(e,t);if(n===Wn)return Rh(e,t)}function Ph(t,e,n,r){let i=e[mt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let c=o[l];a.push(pC(e,c,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function nu(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Ph(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],c=e[-u];for(let d=ye;d<c.length;d++){let f=c[d];f[Lr]===f[he]&&nu(f[M],f,l,r)}if(c[kn]!==null){let d=c[kn];for(let f=0;f<d.length;f++){let h=d[f];nu(h[M],h,l,r)}}}}}return r}function mC(t,e){return t[mt].queries[e].queryList}function vC(t,e,n){let r=new Ta((n&4)===4);return iw(t,e,r,r.destroy),(e[mt]??=new Ja).queries.push(new Ka(r))-1}function yC(t,e,n){let r=De();return r.firstCreatePass&&(CC(r,new Xa(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vC(r,W(),e)}function wC(t){return t.split(",").map(e=>e.trim())}function CC(t,e,n){t.queries===null&&(t.queries=new eu),t.queries.track(new tu(e,n))}function Ju(t,e){return t.queries.getByIndex(e)}function DC(t,e){let n=t[M],r=Ju(n,e);return r.crossesNgTemplate?nu(n,t,e,[]):Ph(n,t,r,e)}function _C(t){return Object.getPrototypeOf(t.prototype).constructor}function Dt(t){let e=_C(t.type),n=!0,r=[t];for(;e;){let i;if(xt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Qi(t.inputs),s.inputTransforms=Qi(t.inputTransforms),s.declaredInputs=Qi(t.declaredInputs),s.outputs=Qi(t.outputs);let a=i.hostBindings;a&&SC(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&IC(t,u),l&&MC(t,l),bC(t,i),Em(t.outputs,i.outputs),xt(i)&&i.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Dt&&(n=!1)}}e=Object.getPrototypeOf(e)}EC(r)}function bC(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function EC(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_r(i.hostAttrs,n=_r(n,i.hostAttrs))}}function Qi(t){return t===Pn?{}:t===Ve?[]:t}function IC(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function MC(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function SC(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Tt=class{},kr=class{};var ru=class extends Tt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vo(this);let i=Zd(e);this._bootstrapComponents=Qf(i.bootstrap),this._r3Injector=Uf(e,n,[{provide:Tt,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],Ie(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},iu=class extends kr{constructor(e){super(),this.moduleType=e}create(e){return new ru(this.moduleType,e,[])}};var yo=class extends Tt{constructor(e){super(),this.componentFactoryResolver=new vo(this),this.instance=null;let n=new Tr([...e.providers,{provide:Tt,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],e.parent||Vu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xu(t,e,n=null){return new yo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $o=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xC(t,e,n,r,i,o,s,a,u){let l=e.consts,c=Ro(e,t,4,s||null,oo(l,a));dh(e,n,c,oo(l,u)),Lu(e,c);let d=c.tView=Gu(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function pe(t,e,n,r,i,o,s,a){let u=W(),l=De(),c=t+Le,d=l.firstCreatePass?xC(c,l,u,e,n,r,i,o,s):l.data[c];$r(d,!1);let f=TC(l,u,d,t);Su()&&Hu(l,u,f,d),Qt(f,u);let h=ph(f,u,f,d);return u[c]=h,Po(u,h),cC(h,d,u),wu(d)&&uh(l,u,d),s!=null&&lh(u,d,a),pe}var TC=AC;function AC(t,e,n,r){return xu(!0),e[le].createComment("")}function Fh(t,e,n,r){return qn(t,jr(),n)?e+Ru(n)+r:on}function Yi(t,e){return t<<17|e<<2}function Kt(t){return t>>17&32767}function NC(t){return(t&2)==2}function OC(t,e){return t&131071|e<<17}function ou(t){return t|2}function jn(t){return(t&131068)>>2}function ya(t,e){return t&-131069|e<<2}function RC(t){return(t&1)===1}function su(t){return t|1}function PC(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Kt(s),u=jn(s);t[r]=n;let l=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||Br(d,c)>0)&&(l=!0)}else c=n;if(i)if(u!==0){let f=Kt(t[a+1]);t[r+1]=Yi(f,a),f!==0&&(t[f+1]=ya(t[f+1],r)),t[a+1]=OC(t[a+1],r)}else t[r+1]=Yi(a,0),a!==0&&(t[a+1]=ya(t[a+1],r)),a=r;else t[r+1]=Yi(u,0),a===0?a=r:t[u+1]=ya(t[u+1],r),u=r;l&&(t[r+1]=ou(t[r+1])),Rd(t,c,r,!0),Rd(t,c,r,!1),FC(e,c,t,r,o),s=Yi(a,u),o?e.classBindings=s:e.styleBindings=s}function FC(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Br(o,e)>=0&&(n[r+1]=su(n[r+1]))}function Rd(t,e,n,r){let i=t[n+1],o=e===null,s=r?Kt(i):jn(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];kC(u,e)&&(a=!0,t[s+1]=r?su(l):ou(l)),s=r?Kt(l):jn(l)}a&&(t[n+1]=r?ou(i):su(i))}function kC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Br(t,e)>=0:!1}function an(t,e,n){let r=W(),i=jr();if(qn(r,i,e)){let o=De(),s=Mu();Wu(o,s,r,t,e,r[le],n,!1)}return an}function Pd(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";qu(t,n,o[s],s,r)}function jo(t,e){return VC(t,e,null,!0),jo}function VC(t,e,n,r){let i=W(),o=De(),s=dv(2);if(o.firstUpdatePass&&$C(o,t,s,r),e!==on&&qn(i,s,e)){let a=o.data[Xt()];zC(o,a,i,i[le],t,i[s+1]=GC(e,n),r,s)}}function LC(t,e){return e>=t.expandoStartIndex}function $C(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Xt()],s=LC(t,n);WC(o,r)&&e===null&&!s&&(e=!1),e=jC(i,o,e,r),PC(i,o,e,n,s,r)}}function jC(t,e,n,r){let i=gv(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wa(null,t,e,n,r),n=Vr(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=wa(i,t,e,n,r),o===null){let u=BC(t,e,r);u!==void 0&&Array.isArray(u)&&(u=wa(null,t,e,u[1],r),u=Vr(u,e.attrs,r),UC(t,e,r,u))}else o=HC(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function BC(t,e,n){let r=n?e.classBindings:e.styleBindings;if(jn(r)!==0)return t[Kt(r)]}function UC(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Kt(i)]=r}function HC(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Vr(r,s,n)}return Vr(r,e.attrs,n)}function wa(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Vr(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Vr(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ev(t,s,n?!0:e[++o]))}return t===void 0?null:t}function zC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],c=RC(l)?Fd(u,e,n,i,jn(l),s):void 0;if(!wo(c)){wo(o)||NC(l)&&(o=Fd(u,null,n,i,a,s));let d=ef(Xt(),n);Yy(r,s,d,i,o)}}function Fd(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=c===null,f=n[i+1];f===on&&(f=d?Ve:void 0);let h=d?ca(f,r):c===r?f:void 0;if(l&&!wo(h)&&(h=ca(u,r)),wo(h)&&(a=h,s))return a;let p=t[i+1];i=s?Kt(p):jn(p)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ca(u,r))}return a}function wo(t){return t!==void 0}function GC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ie(To(t)))),t}function WC(t,e){return(t.flags&(e?8:16))!==0}var au=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Ca(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function qC(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let u=t.at(o),l=e[o],c=Ca(o,u,o,l,n);if(c!==0){c<0&&t.updateValue(o,l),o++;continue}let d=t.at(s),f=e[a],h=Ca(s,d,a,f,n);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let p=n(o,u),m=n(s,d),N=n(o,l);if(Object.is(N,m)){let w=n(a,f);Object.is(w,p)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(r??=new Co,i??=Vd(t,o,s,n),uu(t,r,o,N))t.updateValue(o,l),o++,s++;else if(i.has(N))r.set(p,t.detach(o)),s--;else{let w=t.create(o,e[o]);t.attach(o,w),o++,s++}}for(;o<=a;)kd(t,r,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&o<=s;){let l=t.at(o),c=u.value,d=Ca(o,l,o,c,n);if(d!==0)d<0&&t.updateValue(o,c),o++,u=a.next();else{r??=new Co,i??=Vd(t,o,s,n);let f=n(o,c);if(uu(t,r,o,f))t.updateValue(o,c),o++,s++,u=a.next();else if(!i.has(f))t.attach(o,t.create(o,c)),o++,s++,u=a.next();else{let h=n(o,l);r.set(h,t.detach(o)),s--}}}for(;!u.done;)kd(t,r,n,t.length,u.value),u=a.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function uu(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function kd(t,e,n,r,i){if(uu(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Vd(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Co=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Se(t,e,n){Lo("NgControlFlow");let r=W(),i=jr(),o=fu(r,Le+t),s=0;if(qn(r,i,e)){let a=fe(null);try{if(Ch(o,s),e!==-1){let u=hu(r[M],Le+e),l=Rr(o,u.tView.ssrId),c=Fo(r,u,n,{dehydratedView:l});ko(o,c,s,Nr(u,l))}}finally{fe(a)}}else{let a=wh(o,s);a!==void 0&&(a[ve]=n)}}var lu=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ye}};function kh(t,e){return e}var cu=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Vh(t,e,n,r,i,o,s,a,u,l,c,d,f){Lo("NgControlFlow");let h=u!==void 0,p=W(),m=a?s.bind(p[Ze][ve]):s,N=new cu(h,m);p[Le+t]=N,pe(t+1,e,n,r,i,o),h&&pe(t+2,u,l,c,d,f)}var du=class extends au{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ye}at(e){return this.getLView(e)[ve].$implicit}attach(e,n){let r=n[br];this.needsIndexUpdate||=e!==this.length,ko(this.lContainer,n,e,Nr(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ZC(this.lContainer,e)}create(e,n){let r=Rr(this.lContainer,this.templateTNode.tView.ssrId);return Fo(this.hostLView,this.templateTNode,new lu(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Ao(e[M],e)}updateValue(e,n){this.getLView(e)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ve].$index=e}getLView(e){return QC(this.lContainer,e)}};function Lh(t){let e=fe(null),n=Xt();try{let r=W(),i=r[M],o=r[n];if(o.liveCollection===void 0){let a=n+1,u=fu(r,a),l=hu(i,a);o.liveCollection=new du(u,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(qC(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=jr(),u=s.length===0;if(qn(r,a,u)){let l=n+2,c=fu(r,l);if(u){let d=hu(i,l),f=Rr(c,d.tView.ssrId),h=Fo(r,d,void 0,{dehydratedView:f});ko(c,h,0,Nr(d,f))}else Ch(c,0)}}}finally{fe(e)}}function fu(t,e){return t[e]}function ZC(t,e){return Ar(t,e)}function QC(t,e){return wh(t,e)}function hu(t,e){return Cu(t,e)}function YC(t,e,n,r,i,o){let s=e.consts,a=oo(s,i),u=Ro(e,t,2,r,a);return dh(e,n,u,oo(s,o)),u.attrs!==null&&Za(u,u.attrs,!1),u.mergedAttrs!==null&&Za(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function y(t,e,n,r){let i=W(),o=De(),s=Le+t,a=i[le],u=o.firstCreatePass?YC(s,o,i,e,n,r):o.data[s],l=KC(o,i,u,a,e,t);i[s]=l;let c=wu(u);return $r(u,!0),nh(a,l,u),(u.flags&32)!==32&&Su()&&Hu(o,i,l,u),tv()===0&&Qt(l,i),nv(),c&&(uh(o,i,u),ah(o,u,i)),r!==null&&lh(i,u),y}function C(){let t=Oe();of()?uv():(t=t.parent,$r(t,!1));let e=t;ov(e)&&sv(),rv();let n=De();return n.firstCreatePass&&(Lu(n,t),Xd(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dy(e)&&Pd(n,e,W(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fy(e)&&Pd(n,e,W(),e.stylesWithoutHost,!1),C}function _e(t,e,n,r){return y(t,e,n,r),C(),_e}var KC=(t,e,n,r,i,o)=>(xu(!0),Yf(r,i,yv()));function st(){return W()}var Do="en-US";var JC=Do;function XC(t){typeof t=="string"&&(JC=t.toLowerCase().replace(/_/g,"-"))}function X(t,e,n,r){let i=W(),o=De(),s=Oe();return $h(o,i,i[le],s,t,e,r),X}function eD(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Er],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function $h(t,e,n,r,i,o,s){let a=wu(r),l=t.firstCreatePass&&vh(t),c=e[ve],d=mh(e),f=!0;if(r.type&3||s){let m=Ye(r,e),N=s?s(m):m,w=d.length,P=s?Y=>s(it(Y[r.index])):r.index,R=null;if(!s&&a&&(R=eD(t,e,i,r.index)),R!==null){let Y=R.__ngLastListenerFn__||R;Y.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,f=!1}else{o=$d(r,e,c,o,!1);let Y=n.listen(N,i,o);d.push(o,Y),l&&l.push(i,P,w,w+1)}}else o=$d(r,e,c,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let N=0;N<m;N+=2){let w=p[N],P=p[N+1],K=e[w][P].subscribe(o),be=d.length;if(d.push(o,K),l){let Ft=typeof K=="function"?be+1:-(be+1);l.push(i,r.index,be,Ft)}}}}function Ld(t,e,n,r){try{return tt(6,e,n),n(r)!==!1}catch(i){return yh(t,i),!1}finally{tt(7,e,n)}}function $d(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?At(t.index,e):e;Qu(a);let u=Ld(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Ld(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function U(t=1){return vv(t)}function el(t,e,n){return jh(t,"",e,"",n),el}function jh(t,e,n,r,i){let o=W(),s=Fh(o,e,n,r);if(s!==on){let a=De(),u=Mu();Wu(a,u,o,t,s,o[le],i,!1)}return jh}function Zn(t,e,n){yC(t,e,n)}function un(t){let e=W(),n=De(),r=sf();bu(r+1);let i=Ju(n,r);if(t.dirty&&Ym(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=DC(e,r);t.reset(o,Cv),t.notifyOnChanges()}return!0}return!1}function ln(){return mC(W(),sf())}function tl(t){let e=lv();return Qm(e,Le+t)}function D(t,e=""){let n=W(),r=De(),i=t+Le,o=r.firstCreatePass?Ro(r,i,1,e,null):r.data[i],s=tD(r,n,o,e,t);n[i]=s,Su()&&Hu(r,n,s,o),$r(o,!1)}var tD=(t,e,n,r,i)=>(xu(!0),Ny(e[le],r));function Qn(t){return at("",t,""),Qn}function at(t,e,n){let r=W(),i=Fh(r,t,e,n);return i!==on&&Dw(r,Xt(),i),at}function Hr(t,e,n){Ah(e)&&(e=e());let r=W(),i=jr();if(qn(r,i,e)){let o=De(),s=Mu();Wu(o,s,r,t,e,r[le],n,!1)}return Hr}function Bo(t,e){let n=Ah(t);return n&&t.set(e),n}function zr(t,e){let n=W(),r=De(),i=Oe();return $h(r,n,n[le],i,t,e),zr}function nD(t,e,n){let r=De();if(r.firstCreatePass){let i=xt(t);pu(n,r.data,r.blueprint,i,!0),pu(e,r.data,r.blueprint,i,!1)}}function pu(t,e,n,r,i){if(t=Ce(t),Array.isArray(t))for(let o=0;o<t.length;o++)pu(t[o],e,n,r,i);else{let o=De(),s=W(),a=Oe(),u=$n(t)?t:Ce(t.provide),l=Sf(t),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if($n(t)||!t.multi){let h=new qt(l,i,$),p=_a(u,e,i?c:c+f,d);p===-1?(La(fo(a,s),o,u),Da(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=_a(u,e,c+f,d),p=_a(u,e,c,c+f),m=h>=0&&n[h],N=p>=0&&n[p];if(i&&!N||!i&&!m){La(fo(a,s),o,u);let w=oD(i?iD:rD,n.length,i,r,l);!i&&N&&(n[p].providerFactory=w),Da(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=Bh(n[i?p:h],l,!i&&r);Da(o,t,h>-1?h:p,w)}!i&&r&&N&&n[p].componentProviders++}}}function Da(t,e,n,r){let i=$n(e),o=Kv(e);if(i||o){let u=(o?Ce(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let c=l.indexOf(n);c===-1?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function Bh(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _a(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function rD(t,e,n,r){return gu(this.multi,[])}function iD(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zt(n,n[M],this.providerFactory.index,r);o=a.slice(0,s),gu(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],gu(i,o);return o}function gu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function oD(t,e,n,r,i){let o=new qt(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,Bh(o,i,r&&!n),o}function Gr(t,e=[]){return n=>{n.providersResolver=(r,i)=>nD(r,i?i(t):t,e)}}var sD=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Ef(!1,r.type),o=i.length>0?Xu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(B($e))});let t=e;return t})();function xe(t){Lo("NgStandalone"),t.getStandaloneInjector=e=>e.get(sD).getOrCreateStandaloneInjector(t)}var Uo=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Uh=new T("");function cn(t){return!!t&&typeof t.then=="function"}function Hh(t){return!!t&&typeof t.subscribe=="function"}var zh=new T(""),Gh=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(zh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(cn(s))r.push(s);else if(Hh(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nl=new T("");function aD(){Pc(()=>{throw new _(600,!1)})}function uD(t){return t.isBoundToModule}function lD(t,e,n){try{let r=n();return cn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Wr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Hf),this.afterRenderEffectManager=v(Nh),this.componentTypes=[],this.components=[],this.isStable=v($o).hasPendingTasks.pipe(L(r=>!r)),this._injector=v($e)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof mo;if(!this._injector.get(Gh).done){let h=!o&&qd(r),p=!1;throw new _(405,p)}let a;o?a=r:a=this._injector.get(Vo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=uD(a)?void 0:this._injector.get(Tt),l=i||a.selector,c=a.create(zn.NULL,[],l,u),d=c.location.nativeElement,f=c.injector.get(Uh,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),ba(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new _(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===Ih)throw new _(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Ea(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Ea(s))&&(i.execute(),!this._views.some(({_lView:s})=>Ea(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[b]|=1024):r[b]&64?s=0:s=1,Mh(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ba(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(nl,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ba(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ba(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ea(t){return _u(t)}var mu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},rl=(()=>{let e=class e{compileModuleSync(r){return new iu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Zd(r),s=Qf(o.declarations).reduce((a,u)=>{let l=Ht(u);return l&&a.push(new Fr(l)),a},[]);return new mu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cD=(()=>{let e=class e{constructor(){this.zone=v(se),this.applicationRef=v(Wr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dD(t){return[{provide:se,useFactory:t},{provide:Ln,multi:!0,useFactory:()=>{let e=v(cD,{optional:!0});return()=>e.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{let e=v(gD);return()=>{e.initialize()}}},{provide:Hf,useFactory:fD}]}function fD(){let t=v(se),e=v(vt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function hD(t){let e=dD(()=>new se(pD(t)));return So([[],e])}function pD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gD=(()=>{let e=class e{constructor(){this.subscription=new ae,this.initialized=!1,this.zone=v(se),this.pendingTasks=v($o)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mD(){return typeof $localize<"u"&&$localize.locale||Do}var il=new T("",{providedIn:"root",factory:()=>v(il,F.Optional|F.SkipSelf)||mD()});var Wh=new T("");var no=null;function vD(t=[],e){return zn.create({name:e,providers:[{provide:xo,useValue:"platform"},{provide:Wh,useValue:new Set([()=>no=null])},...t]})}function yD(t=[]){if(no)return no;let e=vD(t);return no=e,aD(),wD(e),e}function wD(t){t.get(Nu,null)?.forEach(n=>n())}function qh(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=yD(r),o=[hD(),...n||[]],a=new yo({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(se);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(vt,null),c;u.runOutsideAngular(()=>{c=u.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Wh);return f.add(d),a.onDestroy(()=>{c.unsubscribe(),f.delete(d)}),lD(l,u,()=>{let h=a.get(Gh);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(il,Do);XC(p||Do);let m=a.get(Wr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function Ho(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Yh=null;function _t(){return Yh}function Kh(t){Yh??=t}var zo=class{};var je=new T(""),Jh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(_D),providedIn:"platform"});let t=e;return t})();var _D=(()=>{let e=class e extends Jh{constructor(){super(),this._doc=v(je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _t().getBaseHref(this._doc)}onPopState(r){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Xh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Zh(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dn(t){return t&&t[0]!=="?"?"?"+t:t}var Wo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(ep),providedIn:"root"});let t=e;return t})(),bD=new T(""),ep=(()=>{let e=class e extends Wo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Xh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(Jh),B(bD,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qr=(()=>{let e=class e{constructor(r){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=MD(Zh(Qh(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dn(i))}normalize(r){return e.stripTrailingSlash(ID(this._basePath,Qh(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=dn,e.joinWithSlash=Xh,e.stripTrailingSlash=Zh,e.\u0275fac=function(i){return new(i||e)(B(Wo))},e.\u0275prov=E({token:e,factory:()=>ED(),providedIn:"root"});let t=e;return t})();function ED(){return new qr(B(Wo))}function ID(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Qh(t){return t.replace(/\/index.html$/,"")}function MD(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function tp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var np="browser",SD="server";function sl(t){return t===SD}var Go=class{};var ll=class extends zo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cl=class t extends ll{static makeCurrent(){Kh(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TD();return n==null?null:AD(n)}resetBaseElement(){Zr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tp(document.cookie,e)}},Zr=null;function TD(){return Zr=Zr||document.querySelector("base"),Zr?Zr.getAttribute("href"):null}function AD(t){return new URL(t,document.baseURI).pathname}var ND=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),dl=new T(""),sp=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(dl),B(se))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),qo=class{constructor(e){this._doc=e}},al="ng-app-id",ap=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${al}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(al),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(al,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(je),B(Au),B(Ou,8),B(Hn))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ul={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hl=/%COMP%/g,up="%COMP%",OD=`_nghost-${up}`,RD=`_ngcontent-${up}`,PD=!0,FD=new T("",{providedIn:"root",factory:()=>PD});function kD(t){return RD.replace(hl,t)}function VD(t){return OD.replace(hl,t)}function lp(t,e){return e.map(n=>n.replace(hl,t))}var rp=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,c=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=sl(u),this.defaultRenderer=new Qr(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rt.ShadowDom&&(i=O(g({},i),{encapsulation:rt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Zo?o.applyToHost(r):o instanceof Yr&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case rt.Emulated:s=new Zo(l,c,i,this.appId,d,a,u,f);break;case rt.ShadowDom:return new fl(l,c,r,i,a,u,this.nonce,f);default:s=new Yr(l,c,i,d,a,u,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(sp),B(ap),B(Au),B(FD),B(je),B(Hn),B(se),B(Ou))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Qr=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ul[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ip(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ip(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ul[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ul[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yt.DashCase|yt.Important)?e.style.setProperty(n,r,i&yt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=_t().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ip(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fl=class extends Qr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=lp(i.id,i.styles);for(let c of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yr=class extends Qr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?lp(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zo=class extends Yr{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=kD(l),this.hostAttr=VD(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},LD=(()=>{let e=class e extends qo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(B(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),op=["alt","control","meta","shift"],$D={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},BD=(()=>{let e=class e extends qo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_t().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),op.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=$D[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),op.forEach(a=>{if(a!==o){let u=jD[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function cp(t,e){return qh(g({rootComponent:t},UD(e)))}function UD(t){return{appProviders:[...qD,...t?.providers??[]],platformProviders:WD}}function HD(){cl.makeCurrent()}function zD(){return new vt}function GD(){return gf(document),document}var WD=[{provide:Hn,useValue:np},{provide:Nu,useValue:HD,multi:!0},{provide:je,useFactory:GD,deps:[]}];var qD=[{provide:xo,useValue:"root"},{provide:vt,useFactory:zD,deps:[]},{provide:dl,useClass:LD,multi:!0,deps:[je,se,Hn]},{provide:dl,useClass:BD,multi:!0,deps:[je]},rp,ap,sp,{provide:Pr,useExisting:rp},{provide:Go,useClass:ND,deps:[]},[]];var dp=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A="primary",di=Symbol("RouteTitle"),yl=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function er(t){return new yl(t)}function YD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function KD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ut(t[n],e[n]))return!1;return!0}function ut(t,e){let n=t?wl(t):void 0,r=e?wl(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!vp(t[i],e[i]))return!1;return!0}function wl(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function yp(t){return t.length>0?t[t.length-1]:null}function Rt(t){return ea(t)?t:cn(t)?te(Promise.resolve(t)):S(t)}var JD={exact:Cp,subset:Dp},wp={exact:XD,subset:e_,ignored:()=>!0};function fp(t,e,n){return JD[n.paths](t.root,e.root,n.matrixParams)&&wp[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function XD(t,e){return ut(t,e)}function Cp(t,e,n){if(!hn(t.segments,e.segments)||!Ko(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Cp(t.children[r],e.children[r],n))return!1;return!0}function e_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vp(t[n],e[n]))}function Dp(t,e,n){return _p(t,e,e.segments,n)}function _p(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hn(i,n)||e.hasChildren()||!Ko(i,n,r))}else if(t.segments.length===n.length){if(!hn(t.segments,n)||!Ko(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Dp(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hn(t.segments,i)||!Ko(t.segments,i,r)||!t.children[A]?!1:_p(t.children[A],e,o,r)}}function Ko(t,e,n){return e.every((r,i)=>wp[n](t[i].parameters,r.parameters))}var Nt=class{constructor(e=new q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){return r_.serialize(this)}},q=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jo(this)}},fn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=er(this.parameters),this._parameterMap}toString(){return Ep(this)}};function t_(t,e){return hn(t,e)&&t.every((n,r)=>ut(n.parameters,e[r].parameters))}function hn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function n_(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===A&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==A&&(n=n.concat(e(i,r)))}),n}var Gl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new es,providedIn:"root"});let t=e;return t})(),es=class{parse(e){let n=new Dl(e);return new Nt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Kr(e.root,!0)}`,r=s_(e.queryParams),i=typeof e.fragment=="string"?`#${i_(e.fragment)}`:"";return`${n}${r}${i}`}},r_=new es;function Jo(t){return t.segments.map(e=>Ep(e)).join("/")}function Kr(t,e){if(!t.hasChildren())return Jo(t);if(e){let n=t.children[A]?Kr(t.children[A],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==A&&r.push(`${i}:${Kr(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=n_(t,(r,i)=>i===A?[Kr(t.children[A],!1)]:[`${i}:${Kr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[A]!=null?`${Jo(t)}/${n[0]}`:`${Jo(t)}/(${n.join("//")})`}}function bp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qo(t){return bp(t).replace(/%3B/gi,";")}function i_(t){return encodeURI(t)}function Cl(t){return bp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xo(t){return decodeURIComponent(t)}function hp(t){return Xo(t.replace(/\+/g,"%20"))}function Ep(t){return`${Cl(t.path)}${o_(t.parameters)}`}function o_(t){return Object.entries(t).map(([e,n])=>`;${Cl(e)}=${Cl(n)}`).join("")}function s_(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qo(n)}=${Qo(i)}`).join("&"):`${Qo(n)}=${Qo(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var a_=/^[^\/()?;#]+/;function pl(t){let e=t.match(a_);return e?e[0]:""}var u_=/^[^\/()?;=#]+/;function l_(t){let e=t.match(u_);return e?e[0]:""}var c_=/^[^=?&#]+/;function d_(t){let e=t.match(c_);return e?e[0]:""}var f_=/^[^&#]+/;function h_(t){let e=t.match(f_);return e?e[0]:""}var Dl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[A]=new q(e,n)),r}parseSegment(){let e=pl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new fn(Xo(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=l_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pl(this.remaining);i&&(r=i,this.capture(r))}e[Xo(n)]=Xo(r)}parseQueryParam(e){let n=d_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=h_(this.remaining);s&&(r=s,this.capture(r))}let i=hp(n),o=hp(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pl(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=A);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[A]:new q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function Ip(t){return t.segments.length>0?new q([],{[A]:t}):t}function Mp(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Mp(i);if(r===A&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new q(t.segments,e);return p_(n)}function p_(t){if(t.numberOfChildren===1&&t.children[A]){let e=t.children[A];return new q(t.segments.concat(e.segments),e.children)}return t}function tr(t){return t instanceof Nt}function g_(t,e,n=null,r=null){let i=Sp(t);return xp(i,e,n,r)}function Sp(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new q(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Ip(r);return e??i}function xp(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gl(i,i,i,n,r);let o=m_(e);if(o.toRoot())return gl(i,i,new q([],{}),n,r);let s=v_(o,i,t),a=s.processChildren?ei(s.segmentGroup,s.index,o.commands):Ap(s.segmentGroup,s.index,o.commands);return gl(i,s.segmentGroup,a,n,r)}function ts(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ri(t){return typeof t=="object"&&t!=null&&t.outlets}function gl(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`});let s;t===e?s=n:s=Tp(t,e,n);let a=Ip(Mp(s));return new Nt(a,o,i)}function Tp(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Tp(o,e,n)}),new q(t.segments,r)}var ns=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ts(r[0]))throw new _(4003,!1);let i=r.find(ri);if(i&&i!==yp(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function m_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ns(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ns(n,e,r)}var Jn=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function v_(t,e,n){if(t.isAbsolute)return new Jn(e,!0,0);if(!n)return new Jn(e,!1,NaN);if(n.parent===null)return new Jn(n,!0,0);let r=ts(t.commands[0])?0:1,i=n.segments.length-1+r;return y_(n,i,t.numberOfDoubleDots)}function y_(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Jn(r,!1,i-o)}function w_(t){return ri(t[0])?t[0].outlets:{[A]:t}}function Ap(t,e,n){if(t??=new q([],{}),t.segments.length===0&&t.hasChildren())return ei(t,e,n);let r=C_(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new q(t.segments.slice(0,r.pathIndex),{});return o.children[A]=new q(t.segments.slice(r.pathIndex),t.children),ei(o,0,i)}else return r.match&&i.length===0?new q(t.segments,{}):r.match&&!t.hasChildren()?_l(t,e,n):r.match?ei(t,0,i):_l(t,e,n)}function ei(t,e,n){if(n.length===0)return new q(t.segments,{});{let r=w_(n),i={};if(Object.keys(r).some(o=>o!==A)&&t.children[A]&&t.numberOfChildren===1&&t.children[A].segments.length===0){let o=ei(t.children[A],e,n);return new q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ap(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new q(t.segments,i)}}function C_(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ri(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gp(u,l,s))return o;r+=2}else{if(!gp(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _l(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ri(o)){let u=D_(o.outlets);return new q(r,u)}if(i===0&&ts(n[0])){let u=t.segments[e];r.push(new fn(u.path,pp(n[0]))),i++;continue}let s=ri(o)?o.outlets[A]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ts(a)?(r.push(new fn(s,pp(a))),i+=2):(r.push(new fn(s,{})),i++)}return new q(r,{})}function D_(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=_l(new q([],{}),0,r))}),e}function pp(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gp(t,e,n){return t==n.path&&ut(e,n.parameters)}var ti="imperative",ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{}),Ue=class{constructor(e,n){this.id=e,this.url=n}},ii=class extends Ue{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends Ue{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Be||{}),bl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bl||{}),Ot=class extends Ue{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends Ue{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ge.NavigationSkipped}},oi=class extends Ue{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rs=class extends Ue{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},El=class extends Ue{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class extends Ue{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ml=class extends Ue{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends Ue{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class{constructor(e){this.route=e,this.type=ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tl=class{constructor(e){this.route=e,this.type=ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Al=class{constructor(e){this.snapshot=e,this.type=ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nl=class{constructor(e){this.snapshot=e,this.type=ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{constructor(e){this.snapshot=e,this.type=ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{constructor(e){this.snapshot=e,this.type=ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var si=class{},ai=class{constructor(e){this.url=e}};var Pl=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ls,this.attachRef=null}},ls=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pl,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),is=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fl(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Fl(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kl(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kl(e,this._root).map(n=>n.value)}};function Fl(t,e){if(t===e.value)return e;for(let n of e.children){let r=Fl(t,n);if(r)return r}return null}function kl(t,e){if(t===e.value)return[e];for(let n of e.children){let r=kl(t,n);if(r.length)return r.unshift(e),r}return[]}var Re=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Kn(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var os=class extends is{constructor(e,n){super(e),this.snapshot=n,ql(this,e)}toString(){return this.snapshot.toString()}};function Np(t){let e=__(t),n=new J([new fn("",{})]),r=new J({}),i=new J({}),o=new J({}),s=new J(""),a=new nr(n,r,o,s,i,A,t,e.root);return a.snapshot=e.root,new os(new Re(a,[]),e)}function __(t){let e={},n={},r={},i="",o=new ui([],e,r,i,n,A,t,null,{});return new ss("",new Re(o,[]))}var nr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(L(l=>l[di]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>er(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>er(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),t.params),data:g(g({},e.data),t.data),resolve:g(g(g(g({},t.data),e.data),i?.data),t._resolvedData)}:r={params:g({},t.params),data:g({},t.data),resolve:g(g({},t.data),t._resolvedData??{})},i&&Rp(i)&&(r.resolve[di]=i.title),r}var ui=class{get title(){return this.data?.[di]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ss=class extends is{constructor(e,n){super(n),this.url=e,ql(this,n)}toString(){return Op(this._root)}};function ql(t,e){e.value._routerState=t,e.children.forEach(n=>ql(t,n))}function Op(t){let e=t.children.length>0?` { ${t.children.map(Op).join(", ")} } `:"";return`${t.value}${e}`}function ml(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ut(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ut(e.params,n.params)||t.paramsSubject.next(n.params),KD(e.url,n.url)||t.urlSubject.next(n.url),ut(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vl(t,e){let n=ut(t.params,e.params)&&t_(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vl(t.parent,e.parent))}function Rp(t){return typeof t.title=="string"||t.title===null}var Zl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=A,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.parentContexts=v(ls),this.location=v(Wn),this.changeDetector=v(sn),this.environmentInjector=v($e),this.inputBinder=v(Ql,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Ll(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ne({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rn]});let t=e;return t})(),Ll=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nr?this.route:e===ls?this.childContexts:this.parent.get(e,n)}},Ql=new T("");function b_(t,e,n){let r=li(t,e._root,n?n._root:void 0);return new os(r,e)}function li(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=E_(t,e,n);return new Re(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>li(t,a)),s}}let r=I_(e.value),i=e.children.map(o=>li(t,o));return new Re(r,i)}}function E_(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return li(t,r,i);return li(t,r)})}function I_(t){return new nr(new J(t.url),new J(t.params),new J(t.queryParams),new J(t.fragment),new J(t.data),t.outlet,t.component,t)}var Pp="ngNavigationCancelingError";function Fp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kp(!1,Be.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kp(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Pp]=!0,n.cancellationCode=e,n}function M_(t){return Vp(t)&&tr(t.url)}function Vp(t){return!!t&&t[Pp]}var S_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Me({type:e,selectors:[["ng-component"]],standalone:!0,features:[xe],decls:1,vars:0,template:function(i,o){i&1&&_e(0,"router-outlet")},dependencies:[Zl],encapsulation:2});let t=e;return t})();function x_(t,e){return t.providers&&!t._injector&&(t._injector=Xu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yl(t){let e=t.children&&t.children.map(Yl),n=e?O(g({},t),{children:e}):g({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=S_),n}function lt(t){return t.outlet||A}function T_(t,e){let n=t.filter(r=>lt(r)===e);return n.push(...t.filter(r=>lt(r)!==e)),n}function fi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var A_=(t,e,n,r)=>L(i=>(new $l(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$l=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ml(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Kn(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kn(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Kn(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Nl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ml(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ml(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=fi(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},as=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xn=class{constructor(e,n){this.component=e,this.route=n}};function N_(t,e,n){let r=t._root,i=e?e._root:null;return Jr(r,i,n,[r.value])}function O_(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ir(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mf(t)?t:e.get(t):r}function Jr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kn(e);return t.children.forEach(s=>{R_(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ni(a,n.getContext(s),i)),i}function R_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=P_(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new as(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jr(t,e,a?a.children:null,r,i):Jr(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xn(a.outlet.component,s))}else s&&ni(e,a,i),i.canActivateChecks.push(new as(r)),o.component?Jr(t,null,a?a.children:null,r,i):Jr(t,null,n,r,i);return i}function P_(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hn(t.url,e.url)||!ut(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vl(t,e)||!ut(t.queryParams,e.queryParams);case"paramsChange":default:return!Vl(t,e)}}function ni(t,e,n){let r=Kn(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ni(s,e.children.getContext(o),n):ni(s,null,n):ni(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xn(e.outlet.component,i)):n.canDeactivateChecks.push(new Xn(null,i)):n.canDeactivateChecks.push(new Xn(null,i))}function hi(t){return typeof t=="function"}function F_(t){return typeof t=="boolean"}function k_(t){return t&&hi(t.canLoad)}function V_(t){return t&&hi(t.canActivate)}function L_(t){return t&&hi(t.canActivateChild)}function $_(t){return t&&hi(t.canDeactivate)}function j_(t){return t&&hi(t.canMatch)}function Lp(t){return t instanceof ht||t?.name==="EmptyError"}var Yo=Symbol("INITIAL_VALUE");function rr(){return Ge(t=>Wi(t.map(e=>e.pipe(pt(1),sa(Yo)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===Yo)return Yo;if(n===!1||n instanceof Nt)return n}return!0}),ze(e=>e!==Yo),pt(1)))}function B_(t,e){return ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?S(O(g({},n),{guardsResult:!0})):U_(s,r,i,t).pipe(ue(a=>a&&F_(a)?H_(r,o,t,e):S(a)),L(a=>O(g({},n),{guardsResult:a})))})}function U_(t,e,n,r){return te(t).pipe(ue(i=>Z_(i.component,i.route,n,e,r)),et(i=>i!==!0,!0))}function H_(t,e,n,r){return te(e).pipe(xn(i=>Sn(G_(i.route.parent,r),z_(i.route,r),q_(t,i.path,n),W_(t,i.route,n))),et(i=>i!==!0,!0))}function z_(t,e){return t!==null&&e&&e(new Ol(t)),S(!0)}function G_(t,e){return t!==null&&e&&e(new Al(t)),S(!0)}function W_(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>qi(()=>{let s=fi(e)??n,a=ir(o,s),u=V_(a)?a.canActivate(e,t):nn(s,()=>a(e,t));return Rt(u).pipe(et())}));return S(i).pipe(rr())}function q_(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>O_(s)).filter(s=>s!==null).map(s=>qi(()=>{let a=s.guards.map(u=>{let l=fi(s.node)??n,c=ir(u,l),d=L_(c)?c.canActivateChild(r,t):nn(l,()=>c(r,t));return Rt(d).pipe(et())});return S(a).pipe(rr())}));return S(o).pipe(rr())}function Z_(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let u=fi(e)??i,l=ir(a,u),c=$_(l)?l.canDeactivate(t,e,n,r):nn(u,()=>l(t,e,n,r));return Rt(c).pipe(et())});return S(s).pipe(rr())}function Q_(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let a=ir(s,t),u=k_(a)?a.canLoad(e,n):nn(t,()=>a(e,n));return Rt(u)});return S(o).pipe(rr(),$p(r))}function $p(t){return Ys(ce(e=>{if(tr(e))throw Fp(t,e)}),L(e=>e===!0))}function Y_(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let a=ir(s,t),u=j_(a)?a.canMatch(e,n):nn(t,()=>a(e,n));return Rt(u)});return S(o).pipe(rr(),$p(r))}var ci=class{constructor(e){this.segmentGroup=e||null}},us=class extends Error{constructor(e){super(),this.urlTree=e}};function Yn(t){return Mn(new ci(t))}function K_(t){return Mn(new _(4e3,!1))}function J_(t){return Mn(kp(!1,Be.GuardRejected))}var jl=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return S(r);if(i.numberOfChildren>1||!i.children[A])return K_(e.redirectTo);i=i.children[A]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new us(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Nt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X_(t,e,n,r,i){let o=Kl(t,e,n);return o.matched?(r=x_(e,r),Y_(r,e,n,i).pipe(L(s=>s===!0?o:g({},Bl)))):S(o)}function Kl(t,e,n){if(e.path==="**")return e0(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?g({},Bl):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||YD)(n,t,e);if(!i)return g({},Bl);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?g(g({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function e0(t){return{matched:!0,parameters:t.length>0?yp(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function mp(t,e,n,r){return n.length>0&&r0(t,n,r)?{segmentGroup:new q(e,n0(r,new q(n,t.children))),slicedSegments:[]}:n.length===0&&i0(t,n,r)?{segmentGroup:new q(t.segments,t0(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new q(t.segments,t.children),slicedSegments:n}}function t0(t,e,n,r){let i={};for(let o of n)if(cs(t,e,o)&&!r[lt(o)]){let s=new q([],{});i[lt(o)]=s}return g(g({},r),i)}function n0(t,e){let n={};n[A]=e;for(let r of t)if(r.path===""&&lt(r)!==A){let i=new q([],{});n[lt(r)]=i}return n}function r0(t,e,n){return n.some(r=>cs(t,e,r)&&lt(r)!==A)}function i0(t,e,n){return n.some(r=>cs(t,e,r))}function cs(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function o0(t,e,n,r){return lt(t)!==r&&(r===A||!cs(e,n,t))?!1:Kl(e,t,n).matched}function s0(t,e,n){return e.length===0&&!t.children[n]}var Ul=class{};function a0(t,e,n,r,i,o,s="emptyOnly"){return new Hl(t,e,n,r,i,s,o).recognize()}var u0=31,Hl=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=mp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(n=>{let r=new ui([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},A,this.rootComponentType,null,{}),i=new Re(r,n),o=new ss("",i),s=g_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,A).pipe(It(r=>{if(r instanceof us)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ci?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Wl(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(L(o=>o instanceof Re?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return te(i).pipe(xn(o=>{let s=r.children[o],a=T_(n,o);return this.processSegmentGroup(e,a,s,o)}),oa((o,s)=>(o.push(...s),o)),Mt(null),ia(),ue(o=>{if(o===null)return Yn(r);let s=jp(o);return l0(s),S(s)}))}processSegment(e,n,r,i,o,s){return te(n).pipe(xn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(It(u=>{if(u instanceof ci)return S(null);throw u}))),et(a=>!!a),It(a=>{if(Lp(a))return s0(r,i,o)?S(new Ul):Yn(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return o0(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Yn(i):Yn(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:c}=Kl(n,i,o);if(!a)return Yn(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>u0&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ue(f=>this.processSegment(e,r,n,f.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=X_(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ge(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ge(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:c,remainingSegments:d,parameters:f}=a,h=new ui(c,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,d0(r),lt(r),r.component??r._loadedComponent??null,r,f0(r)),{segmentGroup:p,slicedSegments:m}=mp(n,c,d,u);if(m.length===0&&p.hasChildren())return this.processChildren(l,u,p).pipe(L(w=>w===null?null:new Re(h,w)));if(u.length===0&&m.length===0)return S(new Re(h,[]));let N=lt(r)===o;return this.processSegment(l,u,p,m,N?A:o,!0).pipe(L(w=>new Re(h,w instanceof Re?[w]:[])))}))):Yn(n)))}getChildConfig(e,n,r){return n.children?S({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?S({routes:n._loadedRoutes,injector:n._loadedInjector}):Q_(e,n,r,this.urlSerializer).pipe(ue(i=>i?this.configLoader.loadChildren(e,n).pipe(ce(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):J_(n))):S({routes:[],injector:e})}};function l0(t){t.sort((e,n)=>e.value.outlet===A?-1:n.value.outlet===A?1:e.value.outlet.localeCompare(n.value.outlet))}function c0(t){let e=t.value.routeConfig;return e&&e.path===""}function jp(t){let e=[],n=new Set;for(let r of t){if(!c0(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jp(r.children);e.push(new Re(r.value,i))}return e.filter(r=>!n.has(r))}function d0(t){return t.data||{}}function f0(t){return t.resolve||{}}function h0(t,e,n,r,i,o){return ue(s=>a0(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:u})=>O(g({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function p0(t,e){return ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Bp(u))s.add(l);let a=0;return te(s).pipe(xn(u=>o.has(u)?g0(u,r,t,e):(u.data=Wl(u,u.parent,t).resolve,S(void 0))),ce(()=>a++),Tn(1),ue(u=>a===s.size?S(n):Fe))})}function Bp(t){let e=t.children.map(n=>Bp(n)).flat();return[t,...e]}function g0(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Rp(i)&&(o[di]=i.title),m0(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=Wl(t,t.parent,n).resolve,null)))}function m0(t,e,n,r){let i=wl(t);if(i.length===0)return S({});let o={};return te(i).pipe(ue(s=>v0(t[s],e,n,r).pipe(et(),ce(a=>{o[s]=a}))),Tn(1),ra(o),It(s=>Lp(s)?Fe:Mn(s)))}function v0(t,e,n,r){let i=fi(e)??r,o=ir(t,i),s=o.resolve?o.resolve(e,n):nn(i,()=>o(e,n));return Rt(s)}function vl(t){return Ge(e=>{let n=t(e);return n?te(n).pipe(L(()=>e)):S(e)})}var Up=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===A);return i}getResolvedTitleForRoute(r){return r.data[di]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(y0),providedIn:"root"});let t=e;return t})(),y0=(()=>{let e=class e extends Up{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(dp))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jl=new T("",{providedIn:"root",factory:()=>({})}),Xl=new T(""),w0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(rl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rt(r.loadComponent()).pipe(L(Hp),ce(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vr(()=>{this.componentLoaders.delete(r)})),o=new In(i,()=>new Ae).pipe(En());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=C0(i,this.compiler,r,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(i)})),a=new In(s,()=>new Ae).pipe(En());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C0(t,e,n,r){return Rt(t.loadChildren()).pipe(L(Hp),ue(i=>i instanceof kr||Array.isArray(i)?S(i):te(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Xl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yl),injector:o}}))}function D0(t){return t&&typeof t=="object"&&"default"in t}function Hp(t){return D0(t)?t.default:t}var ec=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(_0),providedIn:"root"});let t=e;return t})(),_0=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b0=new T("");var E0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=v(w0),this.environmentInjector=v($e),this.urlSerializer=v(Gl),this.rootContexts=v(ls),this.location=v(qr),this.inputBindingEnabled=v(Ql,{optional:!0})!==null,this.titleStrategy=v(Up),this.options=v(Jl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(ec),this.createViewTransition=v(b0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let r=o=>this.events.next(new xl(o)),i=o=>this.events.next(new Tl(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(O(g(g({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new J({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ti,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ze(s=>s.id!==0),L(s=>O(g({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ge(s=>{this.currentTransition=s;let a=!1,u=!1;return S(s).pipe(ce(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?O(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ge(l=>{let c=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!c&&d!=="reload"){let f="";return this.events.next(new gn(l.id,this.urlSerializer.serialize(l.rawUrl),f,bl.IgnoredSameUrlNavigation)),l.resolve(null),Fe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return S(l).pipe(Ge(f=>{let h=this.transitions?.getValue();return this.events.next(new ii(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Fe:Promise.resolve(f)}),h0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ce(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=O(g({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new rs(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:m,extras:N}=l,w=new ii(f,this.urlSerializer.serialize(h),p,m);this.events.next(w);let P=Np(this.rootComponentType).snapshot;return this.currentTransition=s=O(g({},l),{targetSnapshot:P,urlAfterRedirects:h,extras:O(g({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,S(s)}else{let f="";return this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,bl.IgnoredByUrlHandlingStrategy)),l.resolve(null),Fe}}),ce(l=>{let c=new El(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),L(l=>(this.currentTransition=s=O(g({},l),{guards:N_(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),B_(this.environmentInjector,l=>this.events.next(l)),ce(l=>{if(s.guardsResult=l.guardsResult,tr(l.guardsResult))throw Fp(this.urlSerializer,l.guardsResult);let c=new Il(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ze(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Be.GuardRejected),!1)),vl(l=>{if(l.guards.canActivateChecks.length)return S(l).pipe(ce(c=>{let d=new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ge(c=>{let d=!1;return S(c).pipe(p0(this.paramsInheritanceStrategy,this.environmentInjector),ce({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Be.NoDataFromResolver)}}))}),ce(c=>{let d=new Sl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),vl(l=>{let c=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ce(h=>{d.component=h}),L(()=>{})));for(let h of d.children)f.push(...c(h));return f};return Wi(c(l.targetSnapshot.root)).pipe(Mt(null),pt(1))}),vl(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?te(d).pipe(L(()=>s)):S(s)}),L(l=>{let c=b_(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=O(g({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),ce(()=>{this.events.next(new si)}),A_(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),pt(1),ce({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),aa(this.transitionAbortSubject.pipe(ce(l=>{throw l}))),vr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Be.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),It(l=>{if(u=!0,Vp(l))this.events.next(new Ot(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),M_(l)?this.events.next(new ai(l.url)):s.resolve(!1);else{this.events.next(new oi(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Fe}))}))}cancelNavigationTransition(r,i,o){let s=new Ot(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I0(t){return t!==ti}var M0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(S0),providedIn:"root"});let t=e;return t})(),zl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},S0=(()=>{let e=class e extends zl{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ur(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(x0),providedIn:"root"});let t=e;return t})(),x0=(()=>{let e=class e extends zp{constructor(){super(...arguments),this.location=v(qr),this.urlSerializer=v(Gl),this.options=v(Jl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(ec),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Np(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ii)this.stateMemento=this.createStateMemento();else if(r instanceof gn)this.rawUrlTree=i.initialUrl;else if(r instanceof rs){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof si?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ot&&(r.code===Be.GuardRejected||r.code===Be.NoDataFromResolver)?this.restoreHistory(i):r instanceof oi?this.restoreHistory(i,!0):r instanceof pn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=g(g({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=g(g({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ur(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xr||{});function T0(t,e){t.events.pipe(ze(n=>n instanceof pn||n instanceof Ot||n instanceof oi||n instanceof gn),L(n=>n instanceof pn||n instanceof gn?Xr.COMPLETE:(n instanceof Ot?n.code===Be.Redirect||n.code===Be.SupersededByNewNavigation:!1)?Xr.REDIRECTING:Xr.FAILED),ze(n=>n!==Xr.REDIRECTING),pt(1)).subscribe(()=>{e()})}function A0(t){throw t}var N0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gp=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Uo),this.stateManager=v(zp),this.options=v(Jl,{optional:!0})||{},this.pendingTasks=v($o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(E0),this.urlSerializer=v(Gl),this.location=v(qr),this.urlHandlingStrategy=v(ec),this._events=new Ae,this.errorHandler=this.options.errorHandler||A0,this.navigated=!1,this.routeReuseStrategy=v(M0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Xl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Ql,{optional:!0}),this.eventsSubscription=new ae,this.isNgZoneEnabled=v(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ot&&i.code!==Be.Redirect&&i.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof pn)this.navigated=!0;else if(i instanceof ai){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||I0(o.source)};this.scheduleNavigation(a,ti,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}P0(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ti,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=g({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=Sp(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return xp(f,r,d,c??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=tr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ti,null,i)}navigate(r,i={skipLocationChange:!1}){return R0(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=g({},N0):i===!1?o=g({},O0):o=i,tr(r))return fp(this.currentUrlTree,r,o);let s=this.parseUrl(r);return fp(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,c;a?(u=a.resolve,l=a.reject,c=a.promise):c=new Promise((f,h)=>{u=f,l=h});let d=this.pendingTasks.add();return T0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R0(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function P0(t){return!(t instanceof si)&&!(t instanceof ai)}var F0=new T("");function Wp(t,...e){return So([{provide:Xl,multi:!0,useValue:t},[],{provide:nr,useFactory:k0,deps:[Gp]},{provide:nl,multi:!0,useFactory:V0},e.map(n=>n.\u0275providers)])}function k0(t){return t.routerState.root}function V0(){let t=v(zn);return e=>{let n=t.get(Wr);if(e!==n.components[0])return;let r=t.get(Gp),i=t.get(L0);t.get($0)===1&&r.initialNavigation(),t.get(j0,null,F.Optional)?.setUpPreloading(),t.get(F0,null,F.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var L0=new T("",{factory:()=>new Ae}),$0=new T("",{providedIn:"root",factory:()=>1});var j0=new T("");var qp=[];var Zp={providers:[Wp(qp)]};var CN=new TextDecoder,Qp=new TextEncoder,B0=["#CMDOK","#CMDER","#CMDUN","#CMDSM","#CMDSY"];function Pe(t,e){return t.toString(16).toUpperCase().padStart(e,"0")}function ct(t){return t.reduce((e,n)=>e+Pe(n,2),"")}function tc(t){return Uint8Array.from(t.match(/.{2}/g).map(e=>parseInt(e,16)))}function gi(t,e){t.match(/.{2}/g).map((n,r)=>e[r]=Number.parseInt(n,16))}function Yp(t,e){if(B0.includes(t))return;let n;if(t[0]=="#")n=Qp.encode([t].concat(e).join("	")+"	");else if(t[0]=="$")n=Qp.encode([t.slice(1)]+e.join(","));else return;let r=n.reduce((i,o)=>o==33?i:i^o);return Pe(r,2)}var pi=class{constructor({encoded:e,type:n,args:r}){if(this.args=r||[],!e){if(!n)throw new Error("Missing message type");this.type=n,this.checksum_calc=Yp(n,this.args);return}if(e[0]=="#"){let i=e.replace(/[\r\n]*$/,"").split("	");this.type=i[0],i.length>1&&(this.checksum_recv=i.at(-1)),i.length>2&&(this.args=i.slice(1,-1))}else if(e[0]=="$"){this.type=e.slice(0,5);let i=e.slice(5).replace(/[\r\n]*$/,"").split("*");this.checksum_recv=i[1],this.args=i[0].split(",")}else throw new Error(`Invalid message ${e}`);this.checksum_calc=Yp(this.type,this.args)}toString(){if(!this.checksum_calc)return this.type+`\r
`;let e=this.checksum_recv||this.checksum_calc;if(this.type[0]=="#")return[this.type].concat(this.args).concat([e]).join("	")+`\r
`;if(this.type[0]=="$")return[this.type]+this.args.join(",")+`*${e}\r
`;throw new Error(`Unknown message type ${this.type}`)}validate(){return!this.checksum_calc||!this.checksum_recv||this.checksum_calc==this.checksum_recv}};var Lg=Jg(Kp());var ic=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},Je=new Map,mn="___parser_",Xe={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},ds={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},fs={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},mi=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=ds[e],i=fs[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Xe[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return Je.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Je.has(n.type)&&!(n.type in Xe))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!Je.has(o)&&!(o in Xe))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!Je.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Xe)&&!Je.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new ic(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${mn+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${mn+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=Je.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Xe).indexOf(this.type)>=0)e=Xe[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Xe[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(c=0)=>{let d=0;for(let f=c;f<e.bitFields.length;f++){let h=e.bitFields[f].options.length;if(d+h>32)break;d+=h}return d},o=c=>(c<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),c=8):c<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),c=16):c<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),c=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),c=32),e.pushCode(`offset += ${c/8};`),c),s=0,a=this.endian==="be",u=0,l=0;e.bitFields.forEach((c,d)=>{let f=c.options.length;if(f>l){if(l){let m=-1>>>32-l;e.pushCode(`${c.varName} = (${r} & 0x${m.toString(16)}) << ${f-l};`),f-=l}s=0,l=u=o(i(d)-l)}let h=a?u-s-f:s,p=-1>>>32-f;e.pushCode(`${c.varName} ${f<c.options.length?"|=":"="} ${r} >> ${h} & 0x${p.toString(16)};`),c.options.length===32&&e.pushCode(`${c.varName} >>>= 0`),c.options.assert&&c.generateAssert(e),c.options.formatter&&c.generateFormatter(e,c.varName,c.options.formatter),s+=f,l-=f}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let u=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${u}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${u}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),u=this.options.key,l=typeof u=="string";if(l?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(Je.get(i)){let c=e.generateTmpVariable();if(e.pushCode(`var ${c} = ${mn+i}(offset, {`),e.useContextVariables){let d=e.generateVariable();e.pushCode(`$parent: ${d},`),e.pushCode(`$root: ${d}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${c}.result; offset = ${c}.offset;`),i!==this.alias&&e.addReference(i)}else{let c=ds[i],d=fs[i];e.pushCode(`var ${a} = dataView.get${c}(offset, ${d});`),e.pushCode(`offset += ${Xe[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let c=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${c};`),e.pushCode(`${a}.$root = ${c}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(l?e.pushCode(`${s}[${a}.${u}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let c=this.options.readUntil,d=e.addImport(c);e.pushCode(`while (!${d}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(Je.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${mn+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=ds[r],s=fs[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${Xe[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(Je.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${mn+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let u=this.options.readUntil,l=e.generateTmpVariable(),c=e.generateTmpVariable();e.pushCode(`var ${l} = offset;`),e.pushCode(`var ${c} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${c} = dataView.getUint8(offset);`);let d=e.addImport(u);e.pushCode(`if (${d}.call(${e.generateVariable()}, ${c}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let u=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${u});`),e.pushCode(`offset += ${u};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(Je.has(this.options.type)){let u=e.generateTmpVariable();e.pushCode(`var ${u} = ${mn+this.options.type}(0);`),e.pushCode(`${n} = ${u}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(Je.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${mn+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Xe).indexOf(this.options.type)>=0){let s=ds[n],a=fs[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${Xe[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};function Jp(t){return t.reduce((e,n)=>e^n)}var dt=function(t){return t[t.UTC=1]="UTC",t[t.VALID=2]="VALID",t[t.LAT=4]="LAT",t[t.LON=8]="LON",t[t.HGT=16]="HGT",t[t.SPD=32]="SPD",t[t.TRK=64]="TRK",t[t.HDOP=1024]="HDOP",t[t.NSAT=4096]="NSAT",t}(dt||{});function U0(t){let e=0,n=new mi().endianness("little"),r=[],i=[];return t&dt.UTC&&n.int32("utc"),t&dt.VALID&&n.uint8("valid"),t&dt.LAT&&n.floatle("lat"),t&dt.LON&&n.floatle("lon"),t&dt.HGT&&n.int16("hgt"),t&dt.SPD&&n.uint16("spd"),t&dt.TRK&&n.int16("trk"),t&dt.HDOP&&n.int16("hdop"),t&dt.NSAT&&n.uint8("nsat"),n.uint8("checksum"),n}var Xp=function(t){return t[t.INVALID=0]="INVALID",t[t.SPS=1]="SPS",t[t.DGPS=2]="DGPS",t[t.PPS=3]="PPS",t[t.RTK=4]="RTK",t[t.FRTK=5]="FRTK",t[t.ESTIMATED=6]="ESTIMATED",t[t.MANUAL=7]="MANUAL",t[t.SIMULATOR=8]="SIMULATOR",t}(Xp||{}),vi=class extends Error{};function H0(t,e=!0){if(t.length<16)throw new Error("Insufficient data for parsing header");let r=new mi().endianness("little").uint16("sectorId").uint8("loggingType").uint8("loggingMode").uint16("logContent").uint16("unknown_06").uint16("intervalSetting").uint16("distanceSetting").uint16("speedSetting").uint8("unknown_0e").uint8("checksum").parse(t.slice(0,16));if(e&&r.checksum!==Jp(t.slice(0,15)))throw new vi(`Invalid header checksum in ${ct(t)}`);return r}function z0(t,e,n=!0){if(e.slice(0,6).every(i=>i===255)||e.slice(0,6).every(i=>i===0))return;let r=t.parse(e);if(n&&r.checksum!==Jp(e.slice(0,e.length-1)))throw new vi(`Checksum mismatch in waypoint data: ${ct(e)}`);return r}function G0(t,e){let n=U0(t.logContent),r=[];for(let i=0;i<e.length;i+=n.sizeOf())try{let o=z0(n,e.slice(i,i+n.sizeOf()),!0);r.push(o)}catch(o){if(o instanceof vi)break;throw o}return r}var oc=class{constructor(e,n=!0){this.waypoints=[],this.header=H0(e.slice(0,18),n),this.mask=e.slice(17,60),this.unknown_3c=e.slice(60,64),this.waypoints=G0(this.header,e.slice(64))}};function W0(t,e){if(t.push(`<trkpt lat="${e.lat}" lon="${e.lon}">`),t.push(`<ele>${e.hgt}</ele>`),t.push(`<time>${new Date(e.utc*1e3).toISOString().replace("Z","")}</time>`),e.spd||e.trk){let n={};e.spd&&(n.spd=e.spd),e.trk&&(n.trk=e.trk),t.push(`<cmt>${JSON.stringify(n)}</cmt>`)}e.valid==Xp.DGPS&&t.push("<fix>dgps</fix>"),e.nsat&&t.push(`<sat>${e.nsat}</sat>`),e.hdop&&t.push(`<hdop>${e.hdop}</hdop>`),t.push("</trkpt>")}var hs=class{constructor(e,n=!0){this.sectors=[];for(let r=0;r+4096<=e.length;r+=4096){let i=e.slice(r,r+4096);this.sectors.push(new oc(i,n))}}getGpx(){let e=[`<?xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1" creator="Nghx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://www.topografix.com/GPX/1/1"
 xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd">
`];e.push("<trk><trkseg>");for(let n of this.sectors)for(let r of n.waypoints)r&&W0(e,r);return e.push("</trkseg></trk></gpx>"),e}};var q0=new TextDecoder("utf-8"),ps=class{constructor(e){this.reader=e,this.chunk="",this.pos=0}_getNextChunk(){return z(this,null,function*(){let e=yield this.reader.read();if(e.done)throw new Error("Stream is done");this.chunk=q0.decode(e.value),this.pos=0})}read(e){return z(this,null,function*(){for(var n="";;)if(this.pos+e-n.length<=this.chunk.length){let r=this.pos+e-n.length;return n+=this.chunk.slice(this.pos,r),this.pos=r,n}else n+=this.chunk.slice(this.pos),yield this._getNextChunk()})}readline(){return z(this,null,function*(){for(var e="";;){if(this.pos<this.chunk.length){let n=this.chunk.indexOf(`
`,this.pos);if(n!=-1)return e+=this.chunk.slice(this.pos,n+1),this.pos=n+1,e;e+=this.chunk.slice(this.pos)}yield this._getNextChunk()}})}flush(){this.chunk=""}};function eg(t,e){let n=e=="lat"?t.toUpperCase().match(/^ *(\d+) *(N|S) *(\d+)\.(\d+) *$/):t.toUpperCase().match(/^ *(\d+) *(E|W) *(\d+)\.(\d+) *$/);if(n){let[r,i,o,s,a]=n,u=a.slice(0,4).padEnd(4,"0"),l=Number.parseInt(i,10),c=Number.parseInt(s,10)*1e4+Number.parseInt(u,10);return{deg:l,dir:o,min:c}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) * *(\d+)\.(\d+) *['`]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) * *(\d+)\.(\d+) *['`]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=s.slice(0,4).padEnd(4,"0"),l=Number.parseInt(i,10),c=Number.parseInt(o,10)*1e4+Number.parseInt(u,10);return{deg:l,dir:a,min:c}}if(n=e=="lat"?t.toUpperCase().match(/^ *(\d+) * *(\d+) *['`] *(\d+|\d+\.\d+) *["]? *(N|S) *$/):t.toUpperCase().match(/^ *(\d+) * *(\d+) *['`] *(\d+|\d+\.\d+) *["]? *(E|W) *$/),n){let[r,i,o,s,a]=n,u=Number.parseInt(i,10),l=Number.parseInt(o,10)*1e4+Math.round(Number.parseFloat(s)*1e4/60);return{deg:u,dir:a,min:l}}if(n=t.match(/^ *([+-]?\d+(\.\d+)?) *$/),n){let[r,i]=n,o=Number.parseFloat(i),s;e=="lat"?s=o>0?"N":"S":s=o>0?"E":"W";let a=Math.floor(Math.abs(o)),u=Math.round((Math.abs(o)-a)*60*1e4);return{deg:a,dir:s,min:u}}}function gs(t){let e=eg(t,"lat");if(e)return{lat_deg:e.deg,lat_dir:e.dir,lat_min:e.min}}function ms(t){let e=eg(t,"lon");if(e)return{lon_deg:e.deg,lon_dir:e.dir,lon_min:e.min}}var or=class{constructor(e){this.wp=e}toString(){let e=`${this.wp.id}, ${this.wp.name}, ${this.wp.lat_deg}${this.wp.lat_dir}${this.wp.lat_min}, ${this.wp.lon_deg}${this.wp.lon_dir}${this.wp.lon_min}`;return this.wp.address?`@0x${Pe(this.wp.address,4)}: `+e:e}getLat(){let e=Math.floor(this.wp.lat_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lat_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lat_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lat_dir}`}getLon(){let e=Math.floor(this.wp.lon_min/1e4).toString(10).padStart(2,"0"),n=(this.wp.lon_min%1e4).toString(10).padStart(4,"0");return`${this.wp.lon_deg}\xB0 ${e}.${n}\u2019 ${this.wp.lon_dir}`}getMapLink(){let e=(this.wp.lat_dir=="N"?1:-1)*(this.wp.lat_deg+this.wp.lat_min/1e4/60),n=(this.wp.lon_dir=="E"?1:-1)*(this.wp.lon_deg+this.wp.lon_min/1e4/60);return`https://www.google.com/maps/place/${e},${n}`}fillConfig(e,n){if(!this.wp.address)throw new Error("The waypoint must have an address");let r=this.wp.address-n;if(r<0||r>e.length-32)throw new Error(`Waypoint address ${this.wp.address} (offset ${r}) is out of bounds`);let i=this.wp.name;i.length>=15&&(console.log(`Waypoint name too long ${i}, truncating`),i=i.substring(0,14));let o=e.subarray(r,r+32);this.wp.dsc_origin?o.set(this.wp.dsc_origin):o.set([255,255,255,255,240]),o[31]=this.wp.id;let s=o.subarray(16,31),{written:a}=Z0.encodeInto(i,s);s.fill(255,a,15);let u=o.subarray(5,9),l=this.wp.lat_deg.toString(10).padStart(2,"0");if(l+=this.wp.lat_min.toString(10).padStart(6,"0"),l.length!=8)throw new Error(`Encoded waypoint lat too long ${l}`);gi(l,u),o[9]=this.wp.lat_dir.charCodeAt(0);let c=o.subarray(10,15),d=this.wp.lon_deg.toString(10).padStart(4,"0");if(d+=this.wp.lon_min.toString(10).padStart(6,"0"),d.length!=10)throw new Error(`Encoded waypoint lon too long ${d}`);gi(d,c),o[15]=this.wp.lon_dir.charCodeAt(0)}},sc=new TextDecoder,Z0=new TextEncoder;function tg(t,e){let n=t[31];if(n==255)return;for(var r=30;r>=16&&[0,255,32].includes(t[r]);r-=1);let i=sc.decode(t.slice(16,r+1)),o=ct(t.slice(5,9)),s=Number(o.slice(0,2)),a=Number(o.slice(2,9)),u=sc.decode(t.slice(9,10)),l=ct(t.slice(10,15)).slice(1),c=Number(l.slice(0,3)),d=Number(l.slice(3,10)),f=sc.decode(t.slice(15,16));return new or({id:n,name:i,lat_deg:s,lat_min:a,lat_dir:u,lon_deg:c,lon_min:d,lon_dir:f,address:e,dsc_origin:t.slice(0,5)})}function vs({name:t,lat:e,lon:n}){if(t.length==0)throw new Error("No name was provided");if(t.length>=15)throw new Error(`Waypoint name too long "${t}". Consider "${t.trim().substring(0,14).trim()}".`);if(!/^[-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]+$/.test(t)){let o=/[^-!"#%&'*+,.:<>\?\[\]_0-9A-Za-z ]/g,s=t.matchAll(o),a="";for(let u of s){let l=u[0];a.includes(l)||(a=a+l)}throw new Error(`Waypoint name cannot contain ${a}`)}let r=gs(e),i=ms(n);if(!r||!i)throw new Error(`Unparseable position ${e} ${n}`);if(r.lat_deg>90||r.lat_deg<0||r.lat_min<0||r.lat_min>60*1e4)throw new Error(`Bad latitude ${e}`);if(i.lon_deg>180||i.lon_deg<0||i.lon_min<0||i.lon_min>60*1e4)throw new Error(`Bad longitude ${n}`);if(!["N","S"].includes(r.lat_dir))throw new Error(`Bad latitude direction in ${e}`);if(!["E","W"].includes(i.lon_dir))throw new Error(`Bad longitude direction in ${n}`);return{lat:r,lon:i}}var yi=32;var Q0=new TextDecoder,Y0=new TextEncoder,sr=class{constructor(e){this.route={name:e.name,waypointIds:e.waypointIds.slice()}}fillConfig(e,n,r,i){if(n<0||n>e.length-i)throw new Error(`Waypoint offset ${n} is out of bounds`);let o=this.route.name;o.length>=16&&(console.log(`Route name too long ${o}, truncating`),o=o.substring(0,15));let s=e.subarray(n,n+16),{written:a}=Y0.encodeInto(o,s);s.fill(255,a,16);let u=this.route.waypointIds;u.length>r&&(console.log(`Too many waypoints in route (${u.length}), truncating to ${r}`),u=u.slice(0,r));let l=e.subarray(n+16,n+i);for(let[c,d]of u.entries())l[c]=d;l.fill(255,u.length,i-16)}};function ng(t,e){for(var n=15;n>=0&&[0,255,32].includes(t[n]);n-=1);let r=Q0.decode(t.slice(0,n+1));for(var i=e-1;i>=0&&t[16+i]==255;i-=1);if(r==""||i==-1)return;let o=t.subarray(16,16+i+1);return new sr({name:r,waypointIds:Array.from(o)})}var ar=class{constructor(e,n,r,i){this.deviceConfig=r,this.updateCallback=i,this.dirtyWaypoints=!1,this.dirtyRoutes=!1,this.waypoints=e.slice(),this.routes=Array.from({length:n.length},(o,s)=>new sr(n[s].route))}maybeUpdateCallback(){this.updateCallback&&this.updateCallback()}deleteWaypoint(e){let n=this.waypoints.findIndex(r=>r.wp.address==e.wp.address);this.waypoints.splice(n,1),this.dirtyWaypoints=!0;for(let r of this.routes){let i=r.route.waypointIds.filter(o=>o!=e.wp.id);i.length!=r.route.waypointIds.length&&(r.route.waypointIds=i,this.dirtyRoutes=!0)}this.routes=this.routes.filter(r=>r.route.waypointIds.length>0),this.maybeUpdateCallback()}editWaypoint(e,n,r,i){if(n.length>15)throw new Error(`Waypoint name too long ${n}`);let o=gs(r),s=ms(i);if(!o||!s)throw new Error(`Unparseable position ${r} ${i}`);let a=this.waypoints.findIndex(u=>u.wp.address==e.wp.address);if(a==-1)throw new Error(`Could not find waypoint at ${e.wp.address}`);this.waypoints[a]=new or(O(g(g(g({},this.waypoints[a].wp),o),s),{name:n})),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}addWaypoint(e){if(this.waypoints.length>=this.deviceConfig.waypointsNumber)throw new Error("No more room for waypoints");let{lat:n,lon:r}=vs(e),i;for(i=1;i<255&&this.waypoints.find(o=>o.wp.id==i);i+=1);this.waypoints.push(new or(O(g(g({},n),r),{name:e.name,id:i}))),this.dirtyWaypoints=!0,this.maybeUpdateCallback()}deleteRoute(e){this.routes.splice(e,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}addRoute(e){if(this.routes.length>=this.deviceConfig.routesNumber)throw new Error(`No room for more routes (${this.routes.length})`);return this.routes.push(new sr({name:e,waypointIds:[]})),this.dirtyRoutes=!0,this.maybeUpdateCallback(),this.routes.length-1}insertWaypointInRoute(e,n,r){let i=this.routes[e].route;if(i.waypointIds.length>=this.deviceConfig.numWaypointsPerRoute)throw new Error(`No room for more waypoints (${i.waypointIds.length})`);i.waypointIds.splice(r,0,n),this.dirtyRoutes=!0,this.maybeUpdateCallback()}deleteWaypointFromRoute(e,n){this.routes[e].route.waypointIds.splice(n,1),this.dirtyRoutes=!0,this.maybeUpdateCallback()}swapWaypointsInRoute(e,n,r){if(n==r)return;let i=this.routes[e].route,o=i.waypointIds[n],s=i.waypointIds[r];n<r?(i.waypointIds.splice(r,1,o),i.waypointIds.splice(n,1,s)):(i.waypointIds.splice(n,1,s),i.waypointIds.splice(r,1,o)),this.dirtyRoutes=!0,this.maybeUpdateCallback()}getBinaryWaypointData(e){this.waypoints.sort((i,o)=>i.wp.name.localeCompare(o.wp.name));let n=e;for(let i of this.waypoints)i.wp.address=n,n+=yi;let r=new Uint8Array(yi*this.deviceConfig.waypointsNumber);r.fill(255);for(let i of this.waypoints)i.fillConfig(r,e);return r}getBinaryRouteData(){this.routes.sort((n,r)=>n.route.name.localeCompare(r.route.name));let e=new Uint8Array(this.deviceConfig.routeBytes*this.deviceConfig.routesNumber);e.fill(255);for(let[n,r]of this.routes.entries())r.fillConfig(e,n*this.deviceConfig.routeBytes,this.deviceConfig.numWaypointsPerRoute,this.deviceConfig.routeBytes);return e}};var H=class t extends Error{constructor(e,n,r,...i){Array.isArray(n)&&(n=n.join(" ").trim()),super(n),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,t),this.code=e;for(let o of i)for(let s in o){let a=o[s];this[s]=Buffer.isBuffer(a)?a.toString(r.encoding):a==null?a:JSON.parse(JSON.stringify(a))}}};var rg=function(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)};var ys=function(t){let e=[];for(let n=0,r=t.length;n<r;n++){let i=t[n];if(i==null||i===!1)e[n]={disabled:!0};else if(typeof i=="string")e[n]={name:i};else if(rg(i)){if(typeof i.name!="string")throw new H("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${n}`,"when column is an object literal"]);e[n]=i}else throw new H("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${n}`])}return e};var ac=class{constructor(e=100){this.size=e,this.length=0,this.buf=Buffer.allocUnsafe(e)}prepend(e){if(Buffer.isBuffer(e)){let n=this.length+e.length;if(n>=this.size&&(this.resize(),n>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=Buffer.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{let n=this.length++;n===this.size&&this.resize();let r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,n)}}append(e){let n=this.length++;n===this.size&&this.resize(),this.buf[n]=e}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=this.size*2;let n=Buffer.allocUnsafe(this.size);this.buf.copy(n,0,0,e),this.buf=n}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}},uc=ac;var K0=12,J0=13,X0=10,eb=32,tb=9,ig=function(t){return{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:t.from_line===1,escaping:!1,escapeIsQuote:Buffer.isBuffer(t.escape)&&Buffer.isBuffer(t.quote)&&Buffer.compare(t.escape,t.quote)===0,expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new uc(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(t.comment!==null?t.comment.length:0,...t.delimiter.map(e=>e.length),t.quote!==null?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new uc(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:t.record_delimiter.length===0?0:Math.max(...t.record_delimiter.map(e=>e.length)),trimChars:[Buffer.from(" ",t.encoding)[0],Buffer.from("	",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Buffer.from(Buffer.from([J0],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([X0],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([K0],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([eb],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([tb],"utf8").toString(),t.encoding)]}};var og=function(t){return t.replace(/([A-Z])/g,function(e,n){return"_"+n.toLowerCase()})};var lc=function(t){let e={};for(let r in t)e[og(r)]=t[r];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new H("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new H("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new H("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(r){let i=Date.parse(r);return isNaN(i)?r:new Date(i)};else if(typeof e.cast_date!="function")throw new H("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=ys(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new H("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new H("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new H("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=Buffer.from(e.comment,e.encoding)),!Buffer.isBuffer(e.comment))throw new H("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(e.comment_no_infix===void 0||e.comment_no_infix===null||e.comment_no_infix===!1)e.comment_no_infix=!1;else if(e.comment_no_infix!==!0)throw new H("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);let n=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new H("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);if(e.delimiter=e.delimiter.map(function(r){if(r==null||r===!1)return Buffer.from(",",e.encoding);if(typeof r=="string"&&(r=Buffer.from(r,e.encoding)),!Buffer.isBuffer(r)||r.length===0)throw new H("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${n}`],e);return r}),e.escape===void 0||e.escape===!0?e.escape=Buffer.from('"',e.encoding):typeof e.escape=="string"?e.escape=Buffer.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new H("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new H("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new H("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=Buffer.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=Buffer.from(e.quote,e.encoding)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||Buffer.isBuffer(e.record_delimiter)){if(e.record_delimiter.length===0)throw new H("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new H("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(r,i){if(typeof r!="string"&&!Buffer.isBuffer(r))throw new H("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);if(r.length===0)throw new H("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(r)}`],e);return typeof r=="string"&&(r=Buffer.from(r,e.encoding)),r}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&t.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&t.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);return e};var sg=function(t){return t.every(e=>e==null||e.toString&&e.toString().trim()==="")},nb=13,rb=10,ur={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])},ag=function(t={}){let e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},n=lc(t);return{info:e,original_options:t,options:n,state:ig(n),__needMoreData:function(r,i,o){if(o)return!1;let{encoding:s,escape:a,quote:u}=this.options,{quoting:l,needMoreDataSize:c,recordDelimiterMaxLength:d}=this.state,f=i-r-1,h=Math.max(c,d===0?Buffer.from(`\r
`,s).length:d,l?(a===null?0:a.length)+u.length:0,l?u.length+d:0);return f<h},parse:function(r,i,o,s){let{bom:a,comment_no_infix:u,encoding:l,from_line:c,ltrim:d,max_record_size:f,raw:h,relax_quotes:p,rtrim:m,skip_empty_lines:N,to:w,to_line:P}=this.options,{comment:R,escape:Y,quote:K,record_delimiter:be}=this.options,{bomSkipped:Ft,previousBuf:yn,rawBuffer:Vs,escapeIsQuote:Bg}=this.state,Z;if(yn===void 0)if(r===void 0){s();return}else Z=r;else yn!==void 0&&r===void 0?Z=yn:Z=Buffer.concat([yn,r]);if(Ft===!1)if(a===!1)this.state.bomSkipped=!0;else if(Z.length<3){if(i===!1){this.state.previousBuf=Z;return}}else{for(let ie in ur)if(ur[ie].compare(Z,0,ur[ie].length)===0){let bt=ur[ie].length;this.state.bufBytesStart+=bt,Z=Z.slice(bt),this.options=lc(O(g({},this.original_options),{encoding:ie})),{comment:R,escape:Y,quote:K}=this.options;break}this.state.bomSkipped=!0}let Ls=Z.length,x;for(x=0;x<Ls&&!this.__needMoreData(x,Ls,i);x++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),P!==-1&&this.info.lines>P){this.state.stop=!0,s();return}this.state.quoting===!1&&be.length===0&&this.__autoDiscoverRecordDelimiter(Z,x)&&(be=this.options.record_delimiter);let ie=Z[x];if(h===!0&&Vs.append(ie),(ie===nb||ie===rb)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(Y!==null&&this.state.quoting===!0&&this.__isEscape(Z,x,ie)&&x+Y.length<Ls)if(Bg){if(this.__isQuote(Z,x+Y.length)){this.state.escaping=!0,x+=Y.length-1;continue}}else{this.state.escaping=!0,x+=Y.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(Z,x))if(this.state.quoting===!0){let me=Z[x+K.length],kt=m&&this.__isCharTrimable(Z,x+K.length),ft=R!==null&&this.__compareBytes(R,Z,x+K.length,me),Vt=this.__isDelimiter(Z,x+K.length,me),bi=be.length===0?this.__autoDiscoverRecordDelimiter(Z,x+K.length):this.__isRecordDelimiter(me,Z,x+K.length);if(Y!==null&&this.__isEscape(Z,x,ie)&&this.__isQuote(Z,x+Y.length))x+=Y.length-1;else if(!me||Vt||bi||ft||kt){this.state.quoting=!1,this.state.wasQuoting=!0,x+=K.length-1;continue}else if(p===!1){let Ic=this.__error(new H("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(me)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(Ic!==void 0)return Ic}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(K),x+=K.length-1}else if(this.state.field.length!==0){if(p===!1){let me=this.__infoField(),kt=Object.keys(ur).map(Vt=>ur[Vt].equals(this.state.field.toString())?Vt:!1).filter(Boolean)[0],ft=this.__error(new H("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(me.column)} at line ${me.lines}, value is ${JSON.stringify(this.state.field.toString(l))}`,kt?`(${kt} bom)`:void 0],this.options,me,{field:this.state.field}));if(ft!==void 0)return ft}}else{this.state.quoting=!0,x+=K.length-1;continue}if(this.state.quoting===!1){let me=this.__isRecordDelimiter(ie,Z,x);if(me!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=c){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),x+=me-1;continue}if(N===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,x+=me-1;continue}this.info.bytes=this.state.bufBytesStart+x;let Vt=this.__onField();if(Vt!==void 0)return Vt;this.info.bytes=this.state.bufBytesStart+x+me;let bi=this.__onRecord(o);if(bi!==void 0)return bi;if(w!==-1&&this.info.records>=w){this.state.stop=!0,s();return}}this.state.commenting=!1,x+=me-1;continue}if(this.state.commenting)continue;if(R!==null&&(u===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(R,Z,x,ie)!==0){this.state.commenting=!0;continue}let kt=this.__isDelimiter(Z,x,ie);if(kt!==0){this.info.bytes=this.state.bufBytesStart+x;let ft=this.__onField();if(ft!==void 0)return ft;x+=kt-1;continue}}}if(this.state.commenting===!1&&f!==0&&this.state.record_length+this.state.field.length>f)return this.__error(new H("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${f}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let bt=d===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(Z,x),Ug=m===!1||this.state.wasQuoting===!1;if(bt===!0&&Ug===!0)this.state.field.append(ie);else{if(m===!0&&!this.__isCharTrimable(Z,x))return this.__error(new H("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));bt===!1&&(x+=this.__isCharTrimable(Z,x)-1);continue}}if(i===!0)if(this.state.quoting===!0){let ie=this.__error(new H("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(ie!==void 0)return ie}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+x;let ie=this.__onField();if(ie!==void 0)return ie;let bt=this.__onRecord(o);if(bt!==void 0)return bt}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=x,this.state.previousBuf=Z.slice(x);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(r){let{columns:i,group_columns_by_name:o,encoding:s,info:a,from:u,relax_column_count:l,relax_column_count_less:c,relax_column_count_more:d,raw:f,skip_records_with_empty_values:h}=this.options,{enabled:p,record:m}=this.state;if(p===!1)return this.__resetRecord();let N=m.length;if(i===!0){if(h===!0&&sg(m)){this.__resetRecord();return}return this.__firstLineToColumns(m)}if(i===!1&&this.info.records===0&&(this.state.expectedRecordLength=N),N!==this.state.expectedRecordLength){let w=i===!1?new H("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${N} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m}):new H("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${i.length},`,`got ${N} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m});if(l===!0||c===!0&&N<this.state.expectedRecordLength||d===!0&&N>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=w;else{let P=this.__error(w);if(P)return P}}if(h===!0&&sg(m)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,u===1||this.info.records>=u){let{objname:w}=this.options;if(i!==!1){let P={};for(let R=0,Y=m.length;R<Y;R++)i[R]===void 0||i[R].disabled||(o===!0&&P[i[R].name]!==void 0?Array.isArray(P[i[R].name])?P[i[R].name]=P[i[R].name].concat(m[R]):P[i[R].name]=[P[i[R].name],m[R]]:P[i[R].name]=m[R]);if(f===!0||a===!0){let R=Object.assign({record:P},f===!0?{raw:this.state.rawBuffer.toString(s)}:{},a===!0?{info:this.__infoRecord()}:{}),Y=this.__push(w===void 0?R:[P[w],R],r);if(Y)return Y}else{let R=this.__push(w===void 0?P:[P[w],P],r);if(R)return R}}else if(f===!0||a===!0){let P=Object.assign({record:m},f===!0?{raw:this.state.rawBuffer.toString(s)}:{},a===!0?{info:this.__infoRecord()}:{}),R=this.__push(w===void 0?P:[m[w],P],r);if(R)return R}else{let P=this.__push(w===void 0?m:[m[w],m],r);if(P)return P}}this.__resetRecord()},__firstLineToColumns:function(r){let{firstLineToHeaders:i}=this.state;try{let o=i===void 0?r:i.call(null,r);if(!Array.isArray(o))return this.__error(new H("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(o)}`],this.options,this.__infoField(),{headers:o}));let s=ys(o);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(o){return o}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:r,encoding:i,rtrim:o,max_record_size:s}=this.options,{enabled:a,wasQuoting:u}=this.state;if(a===!1)return this.__resetField();let l=this.state.field.toString(i);if(o===!0&&u===!1&&(l=l.trimRight()),r===!0){let[c,d]=this.__cast(l);if(c!==void 0)return c;l=d}this.state.record.push(l),s!==0&&typeof l=="string"&&(this.state.record_length+=l.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(r,i){let{on_record:o}=this.options;if(o!==void 0){let s=this.__infoRecord();try{r=o.call(null,r,s)}catch(a){return a}if(r==null)return}i(r)},__cast:function(r){let{columns:i,relax_column_count:o}=this.options;if(Array.isArray(i)===!0&&o&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{let a=this.__infoField();return[void 0,this.state.castField.call(null,r,a)]}catch(a){return[a]}if(this.__isFloat(r))return[void 0,parseFloat(r)];if(this.options.cast_date!==!1){let a=this.__infoField();return[void 0,this.options.cast_date.call(null,r,a)]}return[void 0,r]},__isCharTrimable:function(r,i){return((s,a)=>{let{timchars:u}=this.state;e:for(let l=0;l<u.length;l++){let c=u[l];for(let d=0;d<c.length;d++)if(c[d]!==s[a+d])continue e;return c.length}return 0})(r,i)},__isFloat:function(r){return r-parseFloat(r)+1>=0},__compareBytes:function(r,i,o,s){if(r[0]!==s)return 0;let a=r.length;for(let u=1;u<a;u++)if(r[u]!==i[o+u])return 0;return a},__isDelimiter:function(r,i,o){let{delimiter:s,ignore_last_delimiters:a}=this.options;if(a===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(a!==!1&&typeof a=="number"&&this.state.record.length===a-1)return 0;e:for(let u=0;u<s.length;u++){let l=s[u];if(l[0]===o){for(let c=1;c<l.length;c++)if(l[c]!==r[i+c])continue e;return l.length}}return 0},__isRecordDelimiter:function(r,i,o){let{record_delimiter:s}=this.options,a=s.length;e:for(let u=0;u<a;u++){let l=s[u],c=l.length;if(l[0]===r){for(let d=1;d<c;d++)if(l[d]!==i[o+d])continue e;return l.length}}return 0},__isEscape:function(r,i,o){let{escape:s}=this.options;if(s===null)return!1;let a=s.length;if(s[0]===o){for(let u=0;u<a;u++)if(s[u]!==r[i+u])return!1;return!0}return!1},__isQuote:function(r,i){let{quote:o}=this.options;if(o===null)return!1;let s=o.length;for(let a=0;a<s;a++)if(o[a]!==r[i+a])return!1;return!0},__autoDiscoverRecordDelimiter:function(r,i){let{encoding:o}=this.options,s=[Buffer.from(`\r
`,o),Buffer.from(`
`,o),Buffer.from("\r",o)];e:for(let a=0;a<s.length;a++){let u=s[a].length;for(let l=0;l<u;l++)if(s[a][l]!==r[i+l])continue e;return this.options.record_delimiter.push(s[a]),this.state.recordDelimiterMaxLength=s[a].length,s[a].length}return 0},__error:function(r){let{encoding:i,raw:o,skip_records_with_error:s}=this.options,a=typeof r=="string"?new Error(r):r;if(s){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(a,o?this.state.rawBuffer.toString(i):void 0);return}else return a},__infoDataSet:function(){return O(g({},this.info),{columns:this.options.columns})},__infoRecord:function(){let{columns:r,raw:i,encoding:o}=this.options;return O(g({},this.__infoDataSet()),{error:this.state.error,header:r===!0,index:this.state.record.length,raw:i?this.state.rawBuffer.toString(o):void 0})},__infoField:function(){let{columns:r}=this.options,i=Array.isArray(r);return O(g({},this.__infoRecord()),{column:i===!0?r.length>this.state.record.length?r[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting})}}};var ug=function(t,e={}){typeof t=="string"&&(t=Buffer.from(t));let n=e&&e.objname?{}:[],r=ag(e),i=u=>{r.options.objname===void 0?n.push(u):n[u[0]]=u[1]},o=()=>{},s=r.parse(t,!1,i,o);if(s!==void 0)throw s;let a=r.parse(void 0,!0,i,o);if(a!==void 0)throw a;return n};function ws(t,e){if(!e.match(/^[0-9]{9}$/))throw new Error("MMSI number should have exactly 9 digits");if(t.length>16)throw new Error("Name must not be more than 16 characters")}var ib=new TextDecoder,ob=new TextEncoder,lr=16,Cs=class{constructor(e,n){this.name=e,this.number=n}validate(){return ws(this.name,this.number)}fillConfig(e,n,r){ws(this.name,this.number);let i=r*lr,o=e.subarray(i,i+lr);o.fill(255),ob.encodeInto(this.name,o);let s=cr(r);gi(this.number+"0",n.subarray(s)),r%3==2&&(n[s+5]=255)}};function cr(t){return t*5+(t-t%3)/3}function lg(t,e){for(var n=lr-1;n>=0&&[0,255,32].includes(t[n]);n-=1);let r=ib.decode(t.subarray(0,n+1)),i=ct(e.subarray(0,5)).slice(0,9);try{return ws(r,i),new Cs(r,i)}catch{return}}var Ds=class{constructor(e,n){this.maxIndividualMmsis=e,this.maxGroupMmsis=n,this.individualMmsis=[],this.groupMmsis=[]}sort(){this.individualMmsis.sort((e,n)=>e.name.localeCompare(n.name)),this.groupMmsis.sort((e,n)=>e.name.localeCompare(n.name))}toCsv(){let e=`name,mmsi
`;this.sort();for(let n of this.individualMmsis){n.validate();let r=/,/.test(n.name)?`"${n.name.replace('"','""')}"`:n.name;e+=`${n.name},${n.number}
`}for(let n of this.groupMmsis){n.validate();let r=/,/.test(n.name)?`"${n.name.replace('"','""')}"`:n.name;e+=`${n.name},${n.number}
`}return e}initFromCsv(e){let n=[],r=[],i=ug(e,{skip_empty_lines:!0,columns:!0});for(let o of i){let s=o.name,a=o.mmsi;ws(s,a);let u=new Cs(s,a);a[0]=="0"?r.push(u):n.push(u)}if(n.length>this.maxIndividualMmsis)throw new Error("Too many MMSIs");if(r.length>this.maxGroupMmsis)throw new Error("Too many group MMSIs");this.individualMmsis=n,this.groupMmsis=r}fillConfig(e,n,r,i){if(this.individualMmsis.length>this.maxIndividualMmsis)throw new Error("Too many MMSIs");if(this.groupMmsis.length>this.maxGroupMmsis)throw new Error("Too many group MMSIs");for(let o of[e,n,r,i])o.fill(255);for(let[o,s]of this.individualMmsis.entries())s.fillConfig(e,n,o);for(let[o,s]of this.groupMmsis.entries())s.fillConfig(r,i,o)}initFromConfig(e,n,r,i){let o=[],s=[];for(let a=0;a<this.maxIndividualMmsis;a++){let u=lg(e.subarray(a*16,(a+1)*16),n.subarray(cr(a)));u&&o.push(u)}for(let a=0;a<this.maxGroupMmsis;a++){let u=lg(r.subarray(a*16,(a+1)*16),i.subarray(cr(a)));u&&s.push(u)}this.individualMmsis=o,this.groupMmsis=s}};function _s(t,e){return z(this,null,function*(){let n,r=new Promise((i,o)=>{n=setTimeout(()=>o(new Error("Timeout")),e)});return Promise.race([t,r]).then(i=>(clearTimeout(n),i))})}var bs=64,Es=class{constructor(e){this.dev=e,this.config=new J({}),this._deviceTaskState=new J("idle"),this.deviceTaskState$=this._deviceTaskState.asObservable(),this._progress=new J(0),this.progress$=this._progress.asObservable()}reset(e){this.config.next({}),this._deviceTaskState.next("idle"),this._deviceConfig=e}sendMessage(e,n,r){return z(this,null,function*(){let i=new pi({type:e,args:n}).toString();r?yield _s(this.dev.write(i),r):yield this.dev.write(i),console.log(`Wrote command ${JSON.stringify(i)}`)})}receiveMessage(e){return z(this,null,function*(){let n;return e?n=yield _s(this.dev.readline(),e):n=yield this.dev.readline(),console.log(`Received line ${n}`),new pi({encoded:n})})}waitForReady_(){return z(this,null,function*(){let e="";for(;e!="00";){if(this.dev.flushInput(),yield this.sendMessage("#CEPSR",["00"]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge status request");let r=yield this.receiveMessage();if(r.type!="#CEPSD")throw new Error("Device did not return status");e=r.args[0],e!="00"&&console.log(`Waiting for radio, state=${e}`),this.sendMessage("#CMDOK")}})}waitForReady(){return z(this,null,function*(){yield _s(this.waitForReady_(),1e3)})}readConfigMemoryChunk(e,n){return z(this,null,function*(){if(yield this.waitForReady(),yield this.sendMessage("#CEPRD",[Pe(e,4),Pe(n,2)]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge read");let i=yield this.receiveMessage();if(i.type!="#CEPDT")throw new Error("Device did not reply with data");return this.sendMessage("#CMDOK"),tc(i.args[2])})}writeConfigMemoryChunk(e,n){return z(this,null,function*(){yield this.waitForReady();let r=ct(n);if(yield this.sendMessage("#CEPWR",[Pe(e,4),Pe(n.length,2),r]),(yield this.receiveMessage()).type!="#CMDOK")throw new Error("Device did not acknowledge write")})}noopConfigCallback(){return()=>this.config.next(this.config.getValue())}readNavInfo(){return z(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't read waypoints from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-read"),this._progress.next(0);let e=64,n=this._deviceConfig.waypointsNumber,r=yi*n,i=this._deviceConfig.routesNumber,o=this._deviceConfig.routeBytes*i,s=this._deviceConfig.waypointsStartAddress,a=yield this.readConfigMemory(s,r,p=>this._progress.next(p/(r+o))),u=[];for(var l=0;l<n;l+=1){let p=l*32,m=tg(a.subarray(p,p+32),s+p);m&&u.push(m)}let c=this._deviceConfig.routesStartAddress,d=yield this.readConfigMemory(c,o,p=>this._progress.next((r+p)/(r+o))),f=[];for(var h=0;h<i;h++){let p=h*this._deviceConfig.routeBytes,m=ng(d.subarray(p,p+this._deviceConfig.routeBytes),this._deviceConfig.numWaypointsPerRoute);m&&f.push(m)}this.config.next(O(g({},this.config.getValue()),{waypoints:u,draftWaypoints:new ar(u,f,this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("nav-edit")})}readConfigMemory(e,n,r){return z(this,null,function*(){let i=new Uint8Array(n);for(let o=0;o<n;o+=bs)i.set(yield this.readConfigMemoryChunk(e+o,Math.min(n-o,bs)),o),r(o);return i})}writeNavInfoDraft(){return z(this,null,function*(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't write draft from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("nav-save"),this._progress.next(0);let e=this.config.getValue().draftWaypoints;if(!e){console.log("No draft waypoints"),this._deviceTaskState.next("idle");return}let n=e?.getBinaryWaypointData(this._deviceConfig.waypointsStartAddress);if(!n)throw new Error("Error getting draft binary data");let r=e?.getBinaryRouteData();if(!r)throw new Error("Error getting route binary data");yield this.writeConfigMemory(n,this._deviceConfig.waypointsStartAddress,i=>this._progress.next(i/(n.length+r.length))),yield this.writeConfigMemory(r,this._deviceConfig.routesStartAddress,i=>this._progress.next((n.length+i)/(n.length+r.length))),this.config.next(O(g({},this.config.getValue()),{waypoints:e.waypoints,draftWaypoints:new ar(e.waypoints,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")})}writeConfigMemory(e,n,r){return z(this,null,function*(){for(let i=0;i<e.length;i+=bs)yield this.writeConfigMemoryChunk(n+i,e.subarray(i,Math.min(i+bs,e.length))),r(i)})}cancelNavInfoDraft(){if(this._deviceTaskState.getValue()!="nav-edit")throw new Error(`Can't cancel draft from state ${this._deviceTaskState.getValue()}`);let e=this.config.getValue().waypoints;if(!e){console.log("No waypoints yet"),this._deviceTaskState.next("idle");return}this.config.next(O(g({},this.config.getValue()),{draftWaypoints:new ar(e,[],this._deviceConfig,this.noopConfigCallback())})),this._deviceTaskState.next("idle")}readMmsiDirectory(){return z(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't read MMSI directory from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("mmsi-read"),this._progress.next(0);let{individualMmsiNamesSize:e,individualMmsiNumbersSize:n,groupMmsiNamesSize:r,groupMmsiNumbersSize:i}=this.getMmsiMemoryLayout(),o=e+n+r+i,s=yield this.readConfigMemory(this._deviceConfig.individualMmsiNamesAddress,e,f=>this._progress.next(f/o)),a=e,u=yield this.readConfigMemory(this._deviceConfig.individualMmsiNumbersAddress,n,f=>this._progress.next((a+f)/o));a+=n;let l=yield this.readConfigMemory(this._deviceConfig.groupMmsiNamesAddress,r,f=>this._progress.next((a+f)/o));a+=r;let c=yield this.readConfigMemory(this._deviceConfig.groupMmsiNumbersAddress,i,f=>this._progress.next((a+f)/o)),d=new Ds(this._deviceConfig.individualMmsiNum,this._deviceConfig.groupMmsiNum);d.initFromConfig(s,u,l,c),this.config.next(O(g({},this.config.getValue()),{mmsiDirectory:d})),this._deviceTaskState.next("mmsi-edit")})}getMmsiMemoryLayout(){let e=this._deviceConfig.individualMmsiNum,n=lr*e,r=cr(e),i=this._deviceConfig.groupMmsiNum,o=lr*i,s=cr(i);return{individualMmsiNamesSize:n,individualMmsiNumbersSize:r,groupMmsiNamesSize:o,groupMmsiNumbersSize:s}}writeMmsiDirectory(){return z(this,null,function*(){if(this._deviceTaskState.getValue()!="mmsi-edit")throw new Error(`Can't read MMSI directory from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("mmsi-save"),this._progress.next(0);let{individualMmsiNamesSize:e,individualMmsiNumbersSize:n,groupMmsiNamesSize:r,groupMmsiNumbersSize:i}=this.getMmsiMemoryLayout(),o=e+n+r+i,s=new Uint8Array(e),a=new Uint8Array(n),u=new Uint8Array(r),l=new Uint8Array(i);this.config.getValue().mmsiDirectory.fillConfig(s,a,u,l),yield this.writeConfigMemory(s,this._deviceConfig.individualMmsiNamesAddress,d=>this._progress.next(d/o));let c=e;yield this.writeConfigMemory(a,this._deviceConfig.individualMmsiNumbersAddress,d=>this._progress.next((c+d)/o)),c+=n,yield this.writeConfigMemory(u,this._deviceConfig.groupMmsiNamesAddress,d=>this._progress.next((c+d)/o)),c+=r,yield this.writeConfigMemory(l,this._deviceConfig.groupMmsiNumbersAddress,d=>this._progress.next((c+d)/o)),this._deviceTaskState.next("idle")})}cancelMmsiDirectory(){this._deviceTaskState.next("idle")}waitForGps_(){return z(this,null,function*(){for(;;){this.dev.flushInput(),this.sendMessage("$PMTK",["000"]);let e=yield this.receiveMessage();if(e.type=="$PMTK"&&e.args.length==3&&e.args[0]=="001"&&e.args[1]=="0"&&e.args[2]=="3")return}})}waitForGps(){return z(this,null,function*(){yield _s(this.waitForGps_(),1e3)})}readGpsLog(){return z(this,null,function*(){if(this._deviceTaskState.getValue()!="idle")throw new Error(`Can't start reading GPS from state ${this._deviceTaskState.getValue()}`);this._deviceTaskState.next("gpslog-read"),this._progress.next(0),yield this.waitForGps();let e=[];this.sendMessage("$PMTK",["622","1"]);let n=yield this.receiveMessage();if(n.type!="$PMTK"||n.args.length!=3||n.args[0]!="LOX"||n.args[1]!="0")throw new Error(`Unexpected log header ${n.toString()}`);let r=Number(n.args[2]),i=0,o=yield this.receiveMessage();for(;!(o.args.length==2&&o.args[1]=="2");){if(o.type!="$PMTK"||o.args.length<2||o.args[0]!="LOX"||o.args[1]!="1")throw new Error(`Unexpected log line ${o.toString()}`);if(Number(o.args[2])!=i)throw new Error(`Unexpected log line number ${Number(o.args[2])} (was expecting ${i})`);let l=o.args.slice(3).map(tc);for(let c of l)e.push(c);this._progress.next(i/r),i+=1,o=yield this.receiveMessage()}i!=r&&console.log(`Got ${i} lines, was expecting ${r}. Continuing anyway.`);let s=e.reduce((l,c)=>l+c.length,0),a=new Uint8Array(s),u=0;for(let l of e)a.set(l,u),u+=l.length;if(n=yield this.receiveMessage(),n.type!="$PMTK"||n.args.length!=3||n.args[0]!="001"||n.args[1]!="622"||n.args[2]!="3")throw new Error(`Unexpected ReadLog acknowledgement ${n.toString()}`);this.config.next(O(g({},this.config.getValue()),{gpslog:a})),this._deviceTaskState.next("idle")})}};var dr=function(t){return t[t.Unknown=0]="Unknown",t[t.CP=1]="CP",t[t.NMEA=2]="NMEA",t}(dr||{}),cg=[{name:"HX890",usbFilter:{usbVendorId:9898,usbProductId:30},waypointsStartAddress:55040,waypointsNumber:250,routesStartAddress:50944,routesNumber:20,numWaypointsPerRoute:31,routeBytes:64,individualMmsiNamesAddress:17664,individualMmsiNumbersAddress:16896,individualMmsiNum:100,groupMmsiNamesAddress:20736,groupMmsiNumbersAddress:20480,groupMmsiNum:20},{name:"HX870",usbFilter:{usbVendorId:9898,usbProductId:16},waypointsStartAddress:17152,waypointsNumber:200,routesStartAddress:23552,routesNumber:20,numWaypointsPerRoute:16,routeBytes:32,individualMmsiNamesAddress:14128,individualMmsiNumbersAddress:13568,individualMmsiNum:100,groupMmsiNamesAddress:16e3,groupMmsiNumbersAddress:15872,groupMmsiNum:20}],Pt=(()=>{let e=class e{constructor(){this._connectionState=new J("disconnected"),this.connectionState$=this._connectionState.asObservable(),this.encoder=new TextEncoder,this.decoder=new TextDecoder("utf-8"),this.mode=dr.Unknown,this.configProtocol=new Es(this),this.serial=navigator.serial}getConnectionState(){return this._connectionState.getValue()}connect(){return z(this,null,function*(){if(this.getConnectionState()!="disconnected")throw new Error(`Cannot connect from state: ${this.getConnectionState()}`);try{this._connectionState.next("connecting"),this.port=yield this.serial.requestPort({filters:cg.map(o=>o.usbFilter)});let r=this.port.getInfo(),i=cg.find(o=>o.usbFilter.usbProductId==r.usbProductId&&o.usbFilter.usbVendorId==r.usbVendorId);if(console.log(`Found device ${i.name}`),this.port.addEventListener("disconnect",o=>this.disconnect()),yield this.port.open({baudRate:9600}),this._streamReader=this.port?.readable?.getReader(),this.reader=new ps(this._streamReader),this.writer=this.port?.writable?.getWriter(),yield this.detectDeviceMode(),this.mode!=dr.CP)throw new Error("Device must be in CP mode");this._connectionState.next("connected"),this.configProtocol.reset(i),console.log("Connected")}catch(r){console.error(`Error while connecting: ${r}`),yield this.disconnect()}})}disconnect(){return z(this,null,function*(){try{yield this.writer?.close(),yield this._streamReader?.cancel(),this._streamReader?.releaseLock(),this.writer?.releaseLock(),yield this.port?.close(),yield this.port?.forget(),this.port=void 0,this._streamReader=void 0,this.reader=void 0,this.writer=void 0,this.mode=dr.Unknown,this.configProtocol.config.next({}),console.log("Disconnected")}catch(r){this.port=void 0,console.error(`Error while disconnecting: ${r}`)}this._connectionState.next("disconnected")})}write(r){return z(this,null,function*(){yield this.writer?.write(this.encoder.encode(r))})}read(r){return z(this,null,function*(){return yield this.reader.read(r)})}readline(){return z(this,null,function*(){return yield this.reader.readline()})}flushInput(){this.reader&&this.reader.flush()}detectDeviceMode(){return z(this,null,function*(){yield this.write("P?");let r=yield this.read(1);r[0]=="@"?this.mode=dr.CP:(r[0]=="P"||r[0]=="$")&&(this.mode=dr.NMEA),console.log(`Detected mode ${this.mode}`)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sb(t,e){if(t&1&&D(0),t&2){let n=U(2);at(" Reading GPS log (",n.progressPct,"%) ")}}function ab(t,e){if(t&1&&D(0),t&2){let n=U(2);at(" Reading waypoints (",n.progressPct,"%) ")}}function ub(t,e){if(t&1&&D(0),t&2){let n=U(2);at(" Saving waypoints (",n.progressPct,"%) ")}}function lb(t,e){if(t&1&&D(0),t&2){let n=U(2);at(" Reading MMSI directory (",n.progressPct,"%) ")}}function cb(t,e){if(t&1&&D(0),t&2){let n=U(2);at(" Saving MMSI directory (",n.progressPct,"%) ")}}function db(t,e){if(t&1&&(y(0,"div",1)(1,"div",2)(2,"div",3),pe(3,sb,1,1)(4,ab,1,1)(5,ub,1,1)(6,lb,1,1)(7,cb,1,1),C(),_e(8,"div",4),C()()),t&2){let n=U();ee(3),Se(3,n.state=="gpslog-read"?3:n.state=="nav-read"?4:n.state=="nav-save"?5:n.state=="mmsi-read"?6:n.state=="mmsi-save"?7:-1)}}var cc=(()=>{let e=class e{constructor(r){this.state="idle",this.progressPct=0,this.configProtocol=r.configProtocol}ngOnInit(){this.configProtocol.deviceTaskState$.subscribe(r=>this.state=r),this.configProtocol.progress$.subscribe(r=>this.progressPct=Math.floor(r*100))}};e.\u0275fac=function(i){return new(i||e)($(Pt))},e.\u0275cmp=Me({type:e,selectors:[["busy-state-modal"]],standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"message"],[1,"spinner"]],template:function(i,o){i&1&&pe(0,db,9,1,"div",0),i&2&&Se(0,o.state=="gpslog-read"||o.state=="nav-read"||o.state=="nav-save"||o.state=="mmsi-read"||o.state=="mmsi-save"?0:-1)},styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border-radius:5px;min-width:200px;display:flex;flex-direction:column;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{width:64px;height:64px;position:relative;border-radius:50%;border:2px solid transparent;border-top-color:#aaa;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}"]});let t=e;return t})();var yg=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(Gn),$(ot))},e.\u0275dir=Ne({type:e});let t=e;return t})(),fb=(()=>{let e=class e extends yg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ur(e)))(o||e)}})(),e.\u0275dir=Ne({type:e,features:[Dt]});let t=e;return t})(),fc=new T("");var hb={provide:fc,useExisting:tn(()=>pr),multi:!0};function pb(){let t=_t()?_t().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gb=new T(""),pr=(()=>{let e=class e extends yg{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pb())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(Gn),$(ot),$(gb,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&X("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Gr([hb]),Dt]});let t=e;return t})();var hc=new T(""),pc=new T("");function wg(t){return t!=null}function Cg(t){return cn(t)?te(t):t}function Dg(t){let e={};return t.forEach(n=>{e=n!=null?g(g({},e),n):e}),Object.keys(e).length===0?null:e}function _g(t,e){return e.map(n=>n(t))}function mb(t){return!t.validate}function bg(t){return t.map(e=>mb(e)?e:n=>e.validate(n))}function vb(t){if(!t)return null;let e=t.filter(wg);return e.length==0?null:function(n){return Dg(_g(n,e))}}function gc(t){return t!=null?vb(bg(t)):null}function yb(t){if(!t)return null;let e=t.filter(wg);return e.length==0?null:function(n){let r=_g(n,e).map(Cg);return na(r).pipe(L(Dg))}}function mc(t){return t!=null?yb(bg(t)):null}function dg(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Eg(t){return t._rawValidators}function Ig(t){return t._rawAsyncValidators}function dc(t){return t?Array.isArray(t)?t:[t]:[]}function Ss(t,e){return Array.isArray(t)?t.includes(e):t===e}function fg(t,e){let n=dc(e);return dc(t).forEach(i=>{Ss(n,i)||n.push(i)}),n}function hg(t,e){return dc(e).filter(n=>!Ss(t,n))}var xs=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},hr=class extends xs{get formDirective(){return null}get path(){return null}},vn=class extends xs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ts=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wb={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kO=O(g({},wb),{"[class.ng-submitted]":"isSubmitted"}),Rs=(()=>{let e=class e extends Ts{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(vn,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&jo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dt]});let t=e;return t})(),Mg=(()=>{let e=class e extends Ts{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(hr,10))},e.\u0275dir=Ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&jo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dt]});let t=e;return t})();var wi="VALID",Ms="INVALID",fr="PENDING",Ci="DISABLED";function Sg(t){return(Ps(t)?t.validators:t)||null}function Cb(t){return Array.isArray(t)?gc(t):t||null}function xg(t,e){return(Ps(e)?e.asyncValidators:t)||null}function Db(t){return Array.isArray(t)?mc(t):t||null}function Ps(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _b(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function bb(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var As=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wi}get invalid(){return this.status===Ms}get pending(){return this.status==fr}get disabled(){return this.status===Ci}get enabled(){return this.status!==Ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hg(e,this._rawAsyncValidators))}hasValidator(e){return Ss(this._rawValidators,e)}hasAsyncValidator(e){return Ss(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ci,this.errors=null,this._forEachChild(r=>{r.disable(O(g({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wi,this._forEachChild(r=>{r.enable(O(g({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(O(g({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wi||this.status===fr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ci:wi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fr,this._hasOwnPendingAsyncValidator=!0;let n=Cg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?Ci:this.errors?Ms:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fr)?fr:this._anyControlsHaveStatus(Ms)?Ms:wi}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ps(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cb(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Db(this._rawAsyncValidators)}},Ns=class extends As{constructor(e,n,r){super(Sg(n),xg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){bb(this,!0,e),Object.keys(e).forEach(r=>{_b(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _i=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Fs}),Fs="always";function Eb(t,e){return[...e.path,t]}function vc(t,e,n=Fs){Tg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sb(t,e),Tb(t,e),xb(t,e),Ib(t,e)}function pg(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mb(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Os(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ib(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tg(t,e){let n=Eg(t);e.validator!==null?t.setValidators(dg(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Ig(t);e.asyncValidator!==null?t.setAsyncValidators(dg(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Os(e._rawValidators,i),Os(e._rawAsyncValidators,i)}function Mb(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Eg(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Ig(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Os(e._rawValidators,r),Os(e._rawAsyncValidators,r),n}function Sb(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ag(t,e)})}function xb(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ag(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ag(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tb(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ab(t,e){t==null,Tg(t,e)}function Ng(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Nb(t){return Object.getPrototypeOf(t.constructor)===fb}function Ob(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Og(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===pr?n=o:Nb(o)?r=o:i=o}),i||r||n||null}var Rb={provide:hr,useExisting:tn(()=>yc)},Di=Promise.resolve(),yc=(()=>{let e=class e extends hr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new de,this.form=new Ns({},gc(r),mc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Di.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),vc(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Di.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Di.then(()=>{let i=this._findContainer(r.path),o=new Ns({});Ab(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Di.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Di.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Ob(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(hc,10),$(pc,10),$(_i,8))},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&X("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[we.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gr([Rb]),Dt]});let t=e;return t})();function gg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mg(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wc=class extends As{constructor(e=null,n,r){super(Sg(n),xg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ps(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mg(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mg(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Pb={provide:vn,useExisting:tn(()=>Cc)},vg=Promise.resolve(),Cc=(()=>{let e=class e extends vn{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new wc,this._registered=!1,this.name="",this.update=new de,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Og(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Ng(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){vg.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ho(i);vg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Eb(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($(hr,9),$(hc,10),$(pc,10),$(fc,10),$(sn,8),$(_i,8))},e.\u0275dir=Ne({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[we.None,"disabled","isDisabled"],model:[we.None,"ngModel","model"],options:[we.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gr([Pb]),Dt,rn]});let t=e;return t})(),Rg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Pg=new T(""),Fb={provide:vn,useExisting:tn(()=>Dc)},Dc=(()=>{let e=class e extends vn{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new de,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Og(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&pg(i,this,!1),vc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ng(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)($(hc,10),$(pc,10),$(fc,10),$(Pg,8),$(_i,8))},e.\u0275dir=Ne({type:e,selectors:[["","formControl",""]],inputs:{form:[we.None,"formControl","form"],isDisabled:[we.None,"disabled","isDisabled"],model:[we.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Gr([Fb]),Dt,rn]});let t=e;return t})();var Fg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({});let t=e;return t})();var ks=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:_i,useValue:r.callSetDisabledState??Fs}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({imports:[Fg]});let t=e;return t})(),kg=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Pg,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:_i,useValue:r.callSetDisabledState??Fs}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=en({imports:[Fg]});let t=e;return t})();function kb(t,e){t&1&&D(0," Edit waypoint ")}function Vb(t,e){t&1&&D(0," Add waypoint ")}function Lb(t,e){if(t&1&&(y(0,"div",13),D(1),C()),t&2){let n=U(2);ee(),Qn(n.errorMsg)}}function $b(t,e){if(t&1){let n=st();y(0,"div",1)(1,"h2"),pe(2,kb,1,0)(3,Vb,1,0),C(),pe(4,Lb,2,1,"div",2),y(5,"form",3,4),X("ngSubmit",function(){ne(n);let i=tl(6),o=U();return re(o.onSubmit(i))}),y(7,"div",5),D(8," Name: "),y(9,"input",6),zr("ngModelChange",function(i){ne(n);let o=U();return Bo(o.wpFormData.name,i)||(o.wpFormData.name=i),re(i)}),C()(),y(10,"div",5),D(11," Latitude: "),y(12,"input",7),zr("ngModelChange",function(i){ne(n);let o=U();return Bo(o.wpFormData.lat,i)||(o.wpFormData.lat=i),re(i)}),C()(),y(13,"div",5),D(14," Longitude: "),y(15,"input",8),zr("ngModelChange",function(i){ne(n);let o=U();return Bo(o.wpFormData.lon,i)||(o.wpFormData.lon=i),re(i)}),C()(),y(16,"div",9),D(17," Supported formats for latitude / longitude: "),y(18,"li"),D(19,"Degrees and decimal minutes (DMM), e.g. 12 N 34.5678, 12\xB0 34.5678' N"),C(),y(20,"li"),D(21,`Degrees, minutes, seconds (DMS), e.g. 12\xB0 34' 34.1" N`),C(),y(22,"li"),D(23,"Decimal degrees (DD), e.g. 12.57613 (number sign indicates direction)"),C()(),y(24,"div",10)(25,"button",11),X("click",function(){ne(n);let i=tl(6),o=U();return re(o.onCancel(i))}),D(26,"Cancel"),C(),y(27,"button",12),D(28,"Done"),C()()()()}if(t&2){let n=U();ee(2),Se(2,n.editing?2:3),ee(2),Se(4,n.errorMsg?4:-1),ee(5),Hr("ngModel",n.wpFormData.name),ee(3),Hr("ngModel",n.wpFormData.lat),ee(3),Hr("ngModel",n.wpFormData.lon)}}var _c=(()=>{let e=class e{constructor(){this.editing=!1,this.shown=!0}ngOnInit(){}onSubmit(r){if(!this.wpFormData){this.shown=!1;return}var i=this.wpFormData;try{let o=vs(i)}catch(o){this.errorMsg=o.toString();return}this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,console.log(`Submitted form ${r}`),this.callbackFn&&this.callbackFn(i)}onCancel(r){return console.log(`Canceled form ${r}`),this.shown=!1,this.wpFormData=void 0,this.errorMsg=void 0,!1}editWaypoint(r,i){this.shown=!0,this.editing=!0,this.wpFormData={name:r.wp.name,lat:r.getLat(),lon:r.getLon()},this.callbackFn=i}createWaypoint(r){this.editing=!1,this.wpFormData={name:"",lat:"",lon:""},this.shown=!0,this.callbackFn=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Me({type:e,selectors:[["waypoint-editor"]],standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","dialog"],[1,"dialog"],["class","error"],[3,"ngSubmit"],["f","ngForm"],[1,"input"],["type","text","name","wpName","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLat","autocomplete","off",3,"ngModel","ngModelChange"],["type","text","name","wpLon","autocomplete","off",3,"ngModel","ngModelChange"],[1,"desc"],[1,"buttons"],["type","button",3,"click"],["type","submit"],[1,"error"]],template:function(i,o){i&1&&pe(0,$b,29,5,"div",0),i&2&&Se(0,o.shown&&o.wpFormData?0:-1)},dependencies:[ks,Rg,pr,Rs,Mg,Cc,yc],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:1em;box-shadow:#0000004d 1px 1px 10px;border-radius:5px}h2[_ngcontent-%COMP%]{margin-top:10px}.input[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;flex-direction:row;justify-content:space-between}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:1rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.error[_ngcontent-%COMP%]{background-color:#ffd5d5;font-size:80%;padding:.4rem;color:#8b0000}.desc[_ngcontent-%COMP%]{font-size:80%}"]});let t=e;return t})();function jb(t,e){t&1&&D(0," No waypoints! ")}function Bb(t,e){if(t&1){let n=st();y(0,"tr")(1,"td")(2,"a",9),D(3),C()(),y(4,"td"),D(5),C(),y(6,"td"),D(7),C(),y(8,"td",10),X("click",function(){let o=ne(n).$implicit,s=U(3);return re(s.draftEditWaypoint(o))}),D(9,"\u270E"),C(),y(10,"td",10),X("click",function(){let o=ne(n).$implicit,s=U(3);return re(s.draftDeleteWaypoint(o))}),D(11,"\u2716"),C()()}if(t&2){let n=e.$implicit;ee(2),el("href",n.getMapLink(),qf),ee(),at("",n.wp.name," \u2197"),ee(2),Qn(n.getLat()),ee(2),Qn(n.getLon())}}function Ub(t,e){if(t&1&&(y(0,"table")(1,"tr")(2,"th"),D(3,"Name"),C(),y(4,"th"),D(5,"Latitude"),C(),y(6,"th"),D(7,"Longitude"),C()(),Vh(8,Bb,12,4,"tr",null,kh),C()),t&2){let n=U(2);ee(8),Lh(n.getDraftWaypoints().waypoints)}}function Hb(t,e){if(t&1){let n=st();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),pe(5,jb,1,0)(6,Ub,10,0),y(7,"button",6),X("click",function(){ne(n);let i=U();return re(i.draftAddWaypoint())}),D(8,"Add waypoint"),C()()(),_e(9,"waypoint-editor"),C(),y(10,"div",7)(11,"button",6),X("click",function(){ne(n);let i=U();return re(i.draftCancel())}),D(12,"Cancel"),C(),y(13,"button",8),X("click",function(){ne(n);let i=U();return re(i.saveDraft())}),D(14," Save "),C()()()()}if(t&2){let n=U(),r;ee(5),Se(5,!((r=n.getDraftWaypoints())==null||r.waypoints==null)&&r.waypoints.length?6:5),ee(8),an("disabled",!n.isPendingDraft())}}var bc=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.shown=!1,this.hex=Pe}ngOnInit(){this.deviceMgr.configProtocol.deviceTaskState$.subscribe(r=>{r=="nav-edit"||r=="nav-save"?this.shown=!0:this.shown=!1}),this.configSubscription=this.deviceMgr.configProtocol.config.asObservable().subscribe()}getDraftWaypoints(){return this.deviceMgr.configProtocol.config.getValue().draftWaypoints}draftEditWaypoint(r){let i=this.getDraftWaypoints();i&&this.waypointEditor.editWaypoint(r,o=>i?.editWaypoint(r,o.name,o.lat,o.lon))}draftDeleteWaypoint(r){let i=this.getDraftWaypoints();i&&i.deleteWaypoint(r)}draftAddWaypoint(){let r=this.getDraftWaypoints();this.waypointEditor.createWaypoint(i=>r?.addWaypoint(i))}draftCancel(){this.deviceMgr.configProtocol.cancelNavInfoDraft()}saveDraft(){this.deviceMgr.configProtocol.writeNavInfoDraft()}isPendingDraft(){return this.getDraftWaypoints()?.dirtyWaypoints}};e.\u0275fac=function(i){return new(i||e)($(Pt))},e.\u0275cmp=Me({type:e,selectors:[["waypoint-sheet"]],viewQuery:function(i,o){if(i&1&&Zn(_c,5),i&2){let s;un(s=ln())&&(o.waypointEditor=s.first)}},standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"contents"],[1,"waypoints"],[1,"list"],[3,"click"],[1,"controls"],[3,"disabled","click"],["target","_blank",3,"href"],[1,"action",3,"click"]],template:function(i,o){i&1&&pe(0,Hb,15,2,"div",0),i&2&&Se(0,o.shown?0:-1)},dependencies:[_c],styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000040}.modal[_ngcontent-%COMP%]{position:fixed;top:30%;left:0%;width:100%;height:70%;background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center}.contents[_ngcontent-%COMP%]{max-width:600px;overflow:auto;flex:1}.waypoints[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{align-self:center}.waypoints[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:1.5rem}"]});let t=e;return t})();function zb(t,e){if(t&1){let n=st();y(0,"div",1)(1,"div",2)(2,"h2"),D(3,"Edit MMSI Directory"),C(),y(4,"div",3),D(5,' Input the MMSI directory as CSV with two columns ("name" and "mmsi"). Warning: this feature is extra experimental. If there are errors in the CSV (name longer than 16 characters, MMSI not numeric, missing columns) the save will fail silently. '),C(),y(6,"div",4),_e(7,"textarea",5),C(),y(8,"div",6)(9,"button",7),X("click",function(){ne(n);let i=U();return re(i.cancel())}),D(10,"Cancel"),C(),y(11,"button",7),X("click",function(){ne(n);let i=U();return re(i.save())}),D(12,"Save"),C()()()()}if(t&2){let n=U();ee(7),an("formControl",n.csvControl)}}var Ec=(()=>{let e=class e{constructor(r){this.shown=!1,this.csvControl=new wc("Uninitialized"),this.configProtocol=r.configProtocol}ngOnInit(){this.configProtocol.deviceTaskState$.subscribe(r=>{r=="mmsi-edit"?(this.shown=!0,this.csvControl.setValue(this.configProtocol.config.getValue().mmsiDirectory.toCsv())):this.shown=!1})}save(){this.csvControl.value&&this.configProtocol.config.getValue().mmsiDirectory.initFromCsv(this.csvControl.value),this.configProtocol.writeMmsiDirectory()}cancel(){this.configProtocol.cancelMmsiDirectory()}};e.\u0275fac=function(i){return new(i||e)($(Pt))},e.\u0275cmp=Me({type:e,selectors:[["mmsi-sheet"]],standalone:!0,features:[xe],decls:1,vars:1,consts:[["class","veil"],[1,"veil"],[1,"modal"],[1,"info"],[1,"contents"],[3,"formControl"],[1,"controls"],[3,"click"]],template:function(i,o){i&1&&pe(0,zb,13,1,"div",0),i&2&&Se(0,o.shown?0:-1)},dependencies:[ks,pr,Rs,kg,Dc],styles:[".veil[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000040}.modal[_ngcontent-%COMP%]{position:fixed;top:30%;left:0%;width:100%;height:70%;background-color:#fff;padding:20px;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{margin-top:10px}.contents[_ngcontent-%COMP%]{width:600px;flex:1}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:1.5rem}.info[_ngcontent-%COMP%]{max-width:600px;font-size:12px;padding:0 2em .5em;box-sizing:border-box}"]});let t=e;return t})();function Gb(t,e){if(t&1){let n=st();y(0,"div",3),D(1,' Connect your HX870 or HX890 radio to this computer with a USB cable, and place it in "CP Mode": '),y(2,"ol")(3,"li"),D(4,"Power the device off"),C(),y(5,"li"),D(6,"Press and hold the Menu key"),C(),y(7,"li"),D(8,"While holding the Menu key, press the power button"),C(),y(9,"li"),D(10,"Release both keys when the screen lights up"),C(),y(11,"li"),D(12,"Click Connect"),C()()(),y(13,"button",4),X("click",function(){ne(n);let i=U();return re(i.deviceMgr.connect())}),D(14," Connect "),C()}if(t&2){let n=U();ee(13),an("disabled",n.connectionState==="connecting")}}function Wb(t,e){if(t&1){let n=st();y(0,"button",5),X("click",function(){ne(n);let i=U();return re(i.readWaypoints())}),D(1,"Waypoints"),C(),y(2,"button",5),X("click",function(){ne(n);let i=U();return re(i.readMmsi())}),D(3,"MMSI Directory"),C(),y(4,"button",5),X("click",function(){ne(n);let i=U();return re(i.readGpslog())}),D(5,"Download GPS log"),C(),y(6,"button",5),X("click",function(){ne(n);let i=U();return re(i.deviceMgr.disconnect())}),D(7,"Disconnect"),C()}}var $g=(()=>{let e=class e{constructor(r){this.deviceMgr=r,this.hex=Pe,this.connectionState=r.getConnectionState(),this.config=this.deviceMgr.configProtocol.config,this.deviceTaskState="idle"}ngOnInit(){this.connectionStateSubscription=this.deviceMgr.connectionState$.subscribe(r=>this.connectionState=r),this.configSubscription=this.deviceMgr.configProtocol.config.asObservable().subscribe(),this.deviceMgr.configProtocol.deviceTaskState$.subscribe(r=>this.deviceTaskState=r)}readWaypoints(){return z(this,null,function*(){yield this.deviceMgr.configProtocol.readNavInfo()})}readMmsi(){return z(this,null,function*(){yield this.deviceMgr.configProtocol.readMmsiDirectory()})}readGpslog(){return z(this,null,function*(){yield this.deviceMgr.configProtocol.readGpsLog();let r=new hs(this.deviceMgr.configProtocol.config.getValue().gpslog).getGpx(),i=new Blob(r,{type:"application/xml"});(0,Lg.saveAs)(i,"gpslog.gpx")})}};e.\u0275fac=function(i){return new(i||e)($(Pt))},e.\u0275cmp=Me({type:e,selectors:[["app-device"]],viewQuery:function(i,o){if(i&1&&(Zn(bc,5),Zn(Ec,5),Zn(cc,5)),i&2){let s;un(s=ln())&&(o.waypointSheet=s.first),un(s=ln())&&(o.mmsiSheet=s.first),un(s=ln())&&(o.busyStateModal=s.first)}},standalone:!0,features:[xe],decls:8,vars:1,consts:[[1,"device-panel"],["src","assets/radio.jpeg",1,"device-picture"],[1,"controls"],[1,"desc"],[3,"disabled","click"],[3,"click"]],template:function(i,o){i&1&&(y(0,"div",0),_e(1,"img",1),y(2,"div",2),pe(3,Gb,15,1)(4,Wb,8,0),C()(),_e(5,"waypoint-sheet")(6,"mmsi-sheet")(7,"busy-state-modal")),i&2&&(ee(3),Se(3,o.connectionState!="connected"?3:4))},dependencies:[cc,bc,Ec],styles:[".device-panel[_ngcontent-%COMP%]{display:flex}.device-picture[_ngcontent-%COMP%]{width:150px;height:150px}.status-lights[_ngcontent-%COMP%]{width:100px;height:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.status-lights[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:14px;border:solid 1px #444;margin:5px;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_on-light{0%{background-color:#1c881c}50%{background-color:#36ae36}to{background-color:#1c881c}}.status-lights[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{background-color:#1c881c;color:#fff;animation-name:_ngcontent-%COMP%_on-light;animation-duration:1s;animation-iteration-count:infinite}.controls[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;align-items:center;justify-content:center}"]});let t=e;return t})();var jg=(()=>{let e=class e{constructor(){this.title="hxsync"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Me({type:e,selectors:[["app-root"]],standalone:!0,features:[xe],decls:10,vars:0,consts:[[1,"main"],[1,"content"],[1,"desc"]],template:function(i,o){i&1&&(y(0,"main",0)(1,"div",1)(2,"h1"),D(3,"HxSync"),C(),y(4,"div",2),D(5," With this utility, you'll be able to edit waypoints on your HX870 or HX890, and download its GPS log in GPX format. "),C(),y(6,"div",2),D(7," This experimental utility is not provided by Standard Horizon. Use at your own risk! "),C(),_e(8,"app-device"),C()(),_e(9,"router-outlet"))},dependencies:[Zl,$g],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem;margin-bottom:1rem}.content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']});let t=e;return t})();cp(jg,Zp).catch(t=>console.error(t));
